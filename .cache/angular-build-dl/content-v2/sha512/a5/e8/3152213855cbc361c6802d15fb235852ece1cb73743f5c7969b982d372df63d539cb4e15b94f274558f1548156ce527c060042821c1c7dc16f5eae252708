{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-download/app-download.component.ts","webpack:///src/app/app-download/app-download.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/attendance/attendance.component.ts","webpack:///src/app/attendance/attendance.component.html","webpack:///src/app/change-password/change-password.component.ts","webpack:///src/app/change-password/change-password.component.html","webpack:///src/app/common-class.ts","webpack:///src/app/common/common.component.ts","webpack:///src/app/common/common.component.html","webpack:///src/app/compose-notice/compose-notice.component.ts","webpack:///src/app/compose-notice/compose-notice.component.html","webpack:///src/app/compose/compose.component.ts","webpack:///src/app/compose/compose.component.html","webpack:///src/app/coscholastic-performance/coscholastic-performance.component.ts","webpack:///src/app/coscholastic-performance/coscholastic-performance.component.html","webpack:///src/app/create-activity/create-activity.component.ts","webpack:///src/app/create-activity/create-activity.component.html","webpack:///src/app/dashboard/dashboard.component.ts","webpack:///src/app/dashboard/dashboard.component.html","webpack:///src/app/footer/footer.component.ts","webpack:///src/app/footer/footer.component.html","webpack:///src/app/homework/homework.component.ts","webpack:///src/app/homework/homework.component.html","webpack:///src/app/inbox/inbox.component.ts","webpack:///src/app/inbox/inbox.component.html","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/mark-subject-wise-attendance/mark-subject-wise-attendance.component.ts","webpack:///src/app/mark-subject-wise-attendance/mark-subject-wise-attendance.component.html","webpack:///src/app/marks-entry/marks-entry.component.ts","webpack:///src/app/marks-entry/marks-entry.component.html","webpack:///src/app/my-attendance/my-attendance.component.ts","webpack:///src/app/my-attendance/my-attendance.component.html","webpack:///src/app/my-details/my-details.component.ts","webpack:///src/app/my-details/my-details.component.html","webpack:///src/app/send-circular/send-circular.component.ts","webpack:///src/app/send-circular/send-circular.component.html","webpack:///src/app/services/commonclass.service.ts","webpack:///src/app/services/data.service.ts","webpack:///src/app/services/datepicker-format.service.ts","webpack:///src/app/services/download.service.ts","webpack:///src/app/services/excel-service.service.ts","webpack:///src/app/sidebar/sidebar.component.ts","webpack:///src/app/sidebar/sidebar.component.html","webpack:///src/app/student-group/student-group.component.ts","webpack:///src/app/student-group/student-group.component.html","webpack:///src/app/student-health/student-health.component.ts","webpack:///src/app/student-health/student-health.component.html","webpack:///src/app/student-leave-request/student-leave-request.component.ts","webpack:///src/app/student-leave-request/student-leave-request.component.html","webpack:///src/app/student-remark/student-remark.component.ts","webpack:///src/app/student-remark/student-remark.component.html","webpack:///src/app/studentmessages/studentmessages.component.ts","webpack:///src/app/studentmessages/studentmessages.component.html","webpack:///src/app/termwise-attendance/termwise-attendance.component.ts","webpack:///src/app/termwise-attendance/termwise-attendance.component.html","webpack:///src/app/view-activity/view-activity.component.ts","webpack:///src/app/view-activity/view-activity.component.html","webpack:///src/app/view-attendance/view-attendance.component.ts","webpack:///src/app/view-attendance/view-attendance.component.html","webpack:///src/app/view-circular/view-circular.component.ts","webpack:///src/app/view-circular/view-circular.component.html","webpack:///src/app/view-gallery/view-gallery.component.ts","webpack:///src/app/view-gallery/view-gallery.component.html","webpack:///src/app/view-notices/view-notices.component.ts","webpack:///src/app/view-notices/view-notices.component.html","webpack:///src/app/view-student-response/view-student-response.component.ts","webpack:///src/app/view-student-response/view-student-response.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///fs (ignored)","webpack:///crypto (ignored)","webpack:///stream (ignored)","webpack:///zlib (ignored)","webpack:///fs (ignored)?3273","webpack:///http (ignored)","webpack:///https (ignored)","webpack:///url (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppDownloadComponent","toastr","http","common","router","spinnerService","title","excelService","ClassList","selectedSectionID","deviceType","ClassDownloadList","setTitle","userData","storage","get","expiredTime","Date","nowTime","clearAll","navigate","dashboardData","SchoolName","spinnerText","classes","loadAppDownloadStatus","headers","options","show","Baseurl","subscribe","res","response","downloadStatus","data","hide","warning","message","err","status","console","log","Status","printContent","document","getElementById","WindowPrt","window","open","htmlToPrint","innerHTML","write","close","focus","print","exportAsExcelFile","loadAppDownloadStatusDetails","selector","templateUrl","styleUrls","routes","path","component","children","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","AppModule","prefix","storageType","declarations","providers","bootstrap","AttendanceComponent","ngbCalendar","dateAdapter","showAttendance","AttendanceType","StudentList","LeaveRequestList","selectedClass","currentDate","today","loadCoordinatorClass","TeacherID","UserID","error","checkHoliday","type","split","SectionID","holiday","displayPendingLeaveRequest","loadLeaveRequest","loadAttendanceType","loadStudent","fire","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","value","isPending","CheckTodayAttendance","ViewData","StudentName","EnrollNo","RollNo","fromdate","todate","heading","remarks","leaveID","leave_id","todayDate","parseInt","MarkAttendanceDetail","i","length","push","StudentDetailId","AttendanceTypeId","absent","leave","present","body","JSON","stringify","post","success","leaveId","toLowerCase","toModel","getToday","provide","useClass","loadAttendance","ChangePasswordComponent","allowChangePassword","oldPassword","newPassword","confirmPassword","userPassword","inputOldPassword","newPass","regExp","match","test","verifyPassword","validatePassword","ChangePassword","StudentRemark","ExamId","Class","RemarksType","studntperformance","TermwiseAttendance","studentdetailstermwise","SortBy","MyDetails","CommonComponent","spinkit","url","script","createElement","src","async","defer","appendChild","ComposeNoticeComponent","imageCompress","dropdownSettings","NoticeType","LanguageList","config","editable","spellcheck","height","minHeight","placeholder","translate","defaultParagraphSeparator","defaultFontName","toolbarHiddenButtons","customClasses","name","tag","selectedlang","UrlLink","attachmentFiles","fileURLs","showClass","google","setOnLoadCallback","onLoad","lang","control","enableTransliteration","setLanguagePair","elements","transliteration","LanguageCode","ENGLISH","disableTransliteration","find","prop","sourceLanguage","destinationLanguage","HINDI","shortcutKey","transliterationEnabled","TransliterationControl","makeTransliteratable","toggleTransliteration","userdata","singleSelection","idField","textField","selectAllText","unSelectAllText","itemsShowLimit","allowSearchFilter","entryDate","minDate","loadClass","Role","noticetype","loadLanguages","responsen","item","items","event","target","files","attachment","ext","fileName","Math","round","size","reader","FileReader","readAsDataURL","onload","fileURL","orientation","compressFile","imgResultAfterCompress","imageName","imageBlob","dataURItoBlob","imageFile","File","lastModified","now","fileReader","_event","dataURI","byteString","atob","arrayBuffer","ArrayBuffer","int8Array","Uint8Array","charCodeAt","blob","Blob","filename","slice","lastIndexOf","index","splice","undefined","SectionIds","selectedSection","SectionId","content","translatedText","verifyUrl","formData","FormData","append","toString","Reset","langchange","TypeChange","onItemSelect","onSelectAll","onDropDownClose","onItemDeSelect","fileToUpload","SaveNotices","ComposeComponent","classList","studentList","selectAll","messageData","messageText","GroupList","selected","fileUploadList","fileUploadUrl","selectedGroup","loadClassSecction","dbName","resData","ClassId","student","Object","assign","group","Selected","checked","GroupId","sendOption","ClassID","StudentDetailIds","StudentdetailId","AdmissionNo","reset","selectedFile","loadGroup","SentMessage","selectedAll","CoscholasticPerformanceComponent","TermList","CoscholasticSubjectList","CoscholasticSkillList","CoscholasticGradeList","selectedTerm","selectedCoscholasticSubject","selectedCoscholasticSkill","loadAssignedClass","CoScholsticHeaderId","CoScholasticHeaderName","CoScholasticClassSubjectId","coscholasticPerformance","GradePoolDetailID","Studentdetailid","StudentPerformanceId","loadTerm","loadCoscholasticSubject","loadCoscholasticSkill","loadCoscholasticGrade","CreateActivityComponent","SendTo","SaveActivity","DashboardComponent","titleService","userImage","UserImage","FooterComponent","HomeworkComponent","route","sanitizer","downloadService","showHomework","viewHomework","showUrlSection","showAttachmentSection","Classes","Sections","Subjects","subjectList","teacherList","UrlLinks","sectionIds","studentUpload","showAddHomework","addBtnText","pageName","showUploadField","returnMessage","compressedImages","viewClassList","viewSubejctList","viewHomeworkTabel","viewData","viewPopupData","editData","editAttachmentList","editYoutubeUrlList","editUrlList","editUrlLink","editAttachment","updateNewAttachment","updateNewFileLinks","page","viewStatus","editYouTubeUrl","editYouTubeUrlList","editButtonActive","editContent","totalStudent","viewStudent","pendingStudents","imageView","audioView","videoView","pdfView","docView","filePath","attr","trigger","loadViewTable","changePageName","addHomework","getFileExtension","download","a","objectUrl","URL","createObjectURL","href","click","revokeObjectURL","selectedTeacher","getReadStatus","DashboardData","selectedDate","selectedSubject","selectedLanguage","selectedViewTeacher","viewClassSection","viewSubject","loadTeacher","Type","homeworkType","allowStudentUpload","dueDate","youtubeUrl","youtubeurl","description","SubjectId","SubjectName","TeacherId","UserId","arr","loadSubject","findIndex","x","loadViewClass","Classess","classId","section","sectionList","viewDate","homeDate","subjectId","Attachment","attachmentpath","bypassSecurityTrustResourceUrl","homeId","PageName","statusValue","Teacher","HomeId","editDueDate","Content","Youtubeurl","editUrl","AllowStudentUpload","loadViewHomework","ReadStatus","fileData","displayPath","link","selectedYoutubeUrl","addClass","removeClass","loadSection","changeSubject","addUrl","savehomework","viewDateChange","loadViewSubject","resetTable","editHomework","onClickView","addEditUrl","viewFileToUpload","stopPlayer","stopYoutube","InboxComponent","groupField","smsData","modalData","StudentStatusList","autoLoadSms","load","formDate","loadSms","formDateFormat","schoolId","ViewMessageData","Files","Images","MessageId","fileUrl","MessageID","SendOption","Text","Students","j","studentdetailId","classid","sectionid","groupid","studentdetailIds","modal","UpdateMessage","LoginComponent","deviceService","schoolcode","username","password","deviceInfo","css","deviceDetails","getQueryString","token","snapshot","queryParamMap","replace","os_version","ResponseData","set","user","SessionID","school","SchoolID","SchoolCode","feepayurl","logo","banner","SchoolType","SchoolUrl","DBName","MachineDBName","SessionTime","setHours","getHours","getDeviceInfo","getdata","showPassword","login","MarkSubjectWiseAttendanceComponent","SubjectList","selectedSubejct","loadSubjectList","loadStudentList","MarksEntryComponent","ExamList","SortList","charCode","selectedExam","loadSortBy","examDate","orderBy","ShortName","SubjectMarksId","MaxMarks","StudentMarks","MarksObt","AttendanceStatus","StuSubjectId","StudentDetailid","StudentMarksId","Remarks","resetFields","loadExam","loadAttendaceType","MyAttendanceComponent","fileService","SessionMonth","AttendanceData","loadSessionMonth","d","months","selectedMonth","MonthName","MyDetailsComponent","profileData","Name","TeacherName","MobileNo","PhoneNo","Address","VAddress","ProfilePic","profileImage","editProfile","UploadImage","chooseFile","UpdateProfile","SendCircularComponent","EmployeeTypeList","dropdownSettings_dept","dropdownSettings_desg","EmployeeCircularTypeList","EmployeeDepartmentList","EmployeeList","EmployeeDesignationList","loadEmployeeType","selectedEmployeeType","selectedCircularType","selectedEmployee","selectedDepartment","selectedDesignation","employeetype","CircularTypeName","department","designation","employee","DepartmentIds","DesignationIds","UserIds","DepartmentId","DesignationId","YouTubeUrl","loadEmployeeCircularType","loadEmployeeDepartment","SaveCircular","CommonclassService","providedIn","DataService","dataSource","currentData","asObservable","next","DatepickerFormatService","CustomAdapter","DELIMITER","date","day","month","year","CustomDateParserFormatter","DownloadService","fetch","style","display","responseType","EXCEL_TYPE","EXCEL_EXTENSION","ExcelServiceService","json","excelFileName","worksheet","json_to_sheet","workbook","Sheets","SheetNames","excelBuffer","bookType","saveAsExcelFile","buffer","getTime","SidebarComponent","toster","menuList","schoollogo","schoolCode","SessionList","schoolName","loadAppMenu","loadDashboard","menu","$","hasClass","SubMenu","PageUrl","session","Profiledata","sessionlist","sessionData","selectedSession","SessionId","remove","pageTitle","SessionChange","logout","StudentGroupComponent","ShowAddGroup","SectionList","admNo","SelectAll","selectedStudentList","groupName","loadStudents","forEach","AddStudent","ClassName","GroupStudentList","ShowAdd","SaveGroup","StudentHealthComponent","StudentLeaveRequestComponent","searchText","StudentRemarkComponent","studentRemark","RemarkType","getTitle","loadRemarkType","StudentmessagesComponent","MonthList","StudentMessageList","selectedStudent","monthId","MonthId","loadSessionMonths","loadStudentMessage","TermwiseAttendanceComponent","workingDays","termwiseAttendance","SortByList","studentlist","totalattendance","totalworkingdays","setWorkingDays","ViewActivityComponent","ActivitiesList","searchDate","searchKeyword","ActivityId","loadActivities","activityId","activity","SelectedActivity","Image","Thumbnail","imageid","getActivityImage","ViewAttendanceComponent","MonthID","loadAttendanceDateWise","ViewCircularComponent","CircularList","CircularData","editCircularData","ImageData","FileData","CircularStatusList","searchStatusText","loadCircular","circularid","playLink","bypassSecurityTrustUrl","Title","Circular","YoutubeURL","SentTo","ExistingAttachmentList","CircularId","stopVideo","UpdateCircular","ViewGalleryComponent","GalleryList","GalleryImages","IsSyncWithWebsite","albumName","UploadedFile","editIsSyncWithWebsite","newFileList","newFileUrlList","newUploadedFile","loadGallery","Album","selectedAlbum","AlbumId","imageUrl","IsSync","image","EditGalleryData","CoverImage","newFile","newFileUrl","ImageId","IsCoverImage","AlbumName","resetEditAttachment","SaveGallery","ViewNoticesComponent","NoticeData","ImagesData","loadNotice","AllowSendNotice","NoticeId","NoticeID","NoticeDate","Detail","sections","UpdateNotices","ViewStudentResponseComponent","responseData","showData","viewStudentResponse","view","allowUpload","viewResponse","studentData","modalAttachment","sectionId","loadStudentResponse","TotalUpload","changeView","loadAssignmentDetails","UploadId","allowStudentForEdit","studentresponsedata","TeacherRemarks","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport { ExcelServiceService } from \"../services/excel-service.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-app-download',\r\n  templateUrl: './app-download.component.html',\r\n  styleUrls: ['./app-download.component.css']\r\n})\r\nexport class AppDownloadComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public ClassList: any[] = [];\r\n  public dashboardData: any;\r\n  public downloadStatus: any;\r\n  public selectedSectionID : string = '0';\r\n  public deviceType: string = 'All';\r\n  public ClassDownloadList: any[] = [];\r\n  public SchoolName: string;\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private title: Title,\r\n    private excelService: ExcelServiceService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.title.setTitle('App Download Status');\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.dashboardData = this.common.storage.get(\"DashboardData\");\r\n    this.SchoolName = this.common.storage.get(\"SchoolName\");\r\n    this.spinnerText = 'Loading...';\r\n    this.ClassList = this.dashboardData.classes;\r\n    this.loadAppDownloadStatus();\r\n  }\r\n\r\n  // Load App download status \r\n  loadAppDownloadStatus() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"appdownlodestatus?DbName=\" + this.common.storage.get('DBName') + \"&Schoolid=\" + this.common.storage.get('SchoolId') \r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&Status=All&devicetype=Android\" , options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.downloadStatus = response.data;\r\n            this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.spinnerService.hide()\r\n            this.toastr.warning(response.message, 'App Status');\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide()\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n  // Load App status details \r\n  loadAppDownloadStatusDetails() {\r\n    if(this.selectedSectionID == '0'){\r\n      this.ClassDownloadList = []\r\n      return;\r\n    }\r\n    var Status: string = 'All';\r\n    var deviceType: string = this.deviceType;\r\n    if(this.deviceType == 'Pending'){\r\n      Status = this.deviceType;\r\n      deviceType = \"All\";\r\n\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    debugger;\r\n    this.http.get(this.common.Baseurl + \"appdownlodestatusdetail?DbName=\" + this.common.storage.get('DBName') + \"&Schoolid=\" + this.common.storage.get('SchoolId') \r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&Status=\"+ Status +\"&devicetype=\" + deviceType + \"&SectionId=\" + this.selectedSectionID , options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          console.log(response.data);\r\n          if (response.code == 'OK') {\r\n            this.ClassDownloadList = response.data;\r\n            this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.ClassDownloadList = [];\r\n            this.spinnerService.hide()\r\n            this.toastr.warning(response.message, 'App Status');\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide()\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //print document\r\n  printDocument() { //appdownloadlist\r\n    const printContent = document.getElementById(\"appdownloadlist\");\r\n    const WindowPrt = window.open('', '', 'left=0,top=0,width=900,height=500,toolbar=0,scrollbars=0,status=0');\r\n    var htmlToPrint = '' \r\n        '<style type=\"text/css\">' +\r\n        'table th, table td {' +\r\n        'border:1px solid #000;' +\r\n        'padding: 0.5em;' +\r\n        '}' +\r\n        '</style>';\r\n    htmlToPrint += printContent.innerHTML;\r\n    WindowPrt.document.write(htmlToPrint);\r\n    WindowPrt.document.close();\r\n    WindowPrt.focus();\r\n    WindowPrt.print();\r\n    WindowPrt.close();\r\n  }\r\n  \r\n  exportToExcel(){\r\n    this.excelService.exportAsExcelFile(this.ClassDownloadList,'AppDownloadStatus');\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <h3 style=\"margin-left: 15px; padding-bottom: 10px;\">App Download Status</h3>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 app-div\">\r\n                                    <h3>Total</h3>\r\n                                    <h5>{{ downloadStatus != undefined ? downloadStatus.Total : 0 }}</h5>\r\n                                </div>\r\n                                <div class=\"col-md-3 app-div\">\r\n                                    <h3>Downloaded</h3>\r\n                                    <h5>{{ downloadStatus != undefined ? downloadStatus.Downlode : 0 }}</h5>\r\n                                </div>\r\n                                <div class=\"col-md-3 app-div\">\r\n                                    <h3>Pending</h3>\r\n                                    <h5>{{ downloadStatus != undefined ? downloadStatus.Pending : 0 }}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" style=\"margin-top: 15px;\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"selectedSectionID\" (change)=\"loadAppDownloadStatusDetails();\">\r\n                                        <option [ngValue]=\"'0'\">Select Class</option>\r\n                                        <option [ngValue]=\"class.SectionID\" *ngFor=\"let class of ClassList\">{{ class.ClassName }} - {{ class.SectionName }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Device Type</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"deviceType\" (change)=\"loadAppDownloadStatusDetails();\">\r\n                                        <option value=\"All\">All</option>\r\n                                        <option value=\"Android\">Android</option>\r\n                                        <option value=\"IOS\">IOS</option>\r\n                                        <option value=\"Pending\">Pending</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-1\">\r\n                                    <button class=\"btn btn-primary\" *ngIf=\"ClassDownloadList.length > 0\" style=\"margin-top: 30px; height: 33px; line-height: 5px;\" (click)=\"printDocument();\">Print</button>\r\n                                </div>\r\n                                <div class=\"col-md-2\">\r\n                                    <button class=\"btn btn-primary\" *ngIf=\"ClassDownloadList.length > 0\" style=\"margin-top: 30px; height: 33px; line-height: 5px;\" (click)=\"exportToExcel();\">Export As Excel</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let download of ClassDownloadList\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                    <div class=\"fllef\">\r\n                                                        <h4>{{ download.StudentName }}</h4>\r\n                                                        <h5>Roll No: {{ download.Rollno }}</h5>\r\n                                                        <h5>AdmNo: {{ download.EnrollNo }}</h5>\r\n                                                    </div>\r\n                                                \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div>\r\n                                                        <div class=\"row\">\r\n                                                            <!-- {{download.Status}} -->\r\n                                                            <div *ngIf=\"download.Status == 'ANDROID' || download.Status == 'Android'\" [title]=\"download.Status\">\r\n                                                                <!-- <i class=\"fab fa-android\" style=\"font-size: 45px; margin-top: 11px; color: green;\"></i> -->\r\n                                                                <img src=\"../../assets/images/android-logo-0.png\" alt=\"Android Image\" class=\"img-fluid\" style=\"height: 78px;\">\r\n                                                            </div>\r\n                                                            <div *ngIf=\"download.Status == 'IOS'\" [title]=\"download.Status\">\r\n                                                                <i class=\"fab fa-apple\" style=\"font-size: 50px; margin-top: 11px; color: grey; margin-left: 34px;\"></i>\r\n                                                            </div>\r\n                                                            <div *ngIf=\"download.Status == 'Pending'\" style=\"margin-top: 20px; margin-left: 34px;\" [title]=\"download.Status\">\r\n                                                                <span style=\"font-size: 23px; color: orange;\">Pending</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div id=\"appdownloadlist\" [hidden]='true'>\r\n                                <h1 style=\"text-align: center;\">{{SchoolName}}</h1>\r\n                                <h3 style=\"text-align: center;\">App Download Status</h3>\r\n                                <table class=\"table table-bordered table-responsive\" style=\"width: 100%;\">\r\n                                    <thead>\r\n                                      <tr>\r\n                                        <th>Sl.No.</th>\r\n                                        <th>Roll No</th>\r\n                                        <th>Adm No</th>\r\n                                        <th>Class Name</th>\r\n                                        <th>Name</th>\r\n                                        <th>Device Status</th>\r\n                                      </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                      <tr *ngFor=\"let download of ClassDownloadList; let i = index\">\r\n                                        <td>{{ i + 1 }}</td>\r\n                                        <td>{{ download.Rollno }}</td>\r\n                                        <td>{{ download.EnrollNo }}</td>\r\n                                        <td>{{ download.Class }}</td>\r\n                                        <td>{{ download.StudentName }}</td>\r\n                                        <td>{{ download.Status | uppercase }}</td>\r\n                                      </tr>\r\n                                    </tbody>\r\n                                  </table>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { CommonComponent } from './common/common.component';\r\nimport { HomeworkComponent } from './homework/homework.component';\r\nimport { InboxComponent } from \"./inbox/inbox.component\";\r\nimport { ComposeComponent } from \"./compose/compose.component\";\r\nimport { ViewStudentResponseComponent } from \"./view-student-response/view-student-response.component\";\r\nimport { StudentmessagesComponent } from './studentmessages/studentmessages.component'\r\nimport { ComposeNoticeComponent } from \"./compose-notice/compose-notice.component\";\r\nimport { ViewNoticesComponent } from './view-notices/view-notices.component';\r\nimport { AttendanceComponent } from './attendance/attendance.component';\r\nimport { ViewAttendanceComponent } from \"./view-attendance/view-attendance.component\";\r\nimport { StudentLeaveRequestComponent } from './student-leave-request/student-leave-request.component';\r\nimport { MarkSubjectWiseAttendanceComponent } from \"./mark-subject-wise-attendance/mark-subject-wise-attendance.component\";\r\nimport { MarksEntryComponent } from './marks-entry/marks-entry.component';\r\nimport { CoscholasticPerformanceComponent } from './coscholastic-performance/coscholastic-performance.component';\r\nimport { StudentRemarkComponent } from \"./student-remark/student-remark.component\"\r\nimport { CreateActivityComponent } from './create-activity/create-activity.component'\r\nimport { ViewActivityComponent } from './view-activity/view-activity.component'\r\nimport { SendCircularComponent } from './send-circular/send-circular.component'\r\nimport { ViewCircularComponent } from './view-circular/view-circular.component'\r\nimport { ViewGalleryComponent } from './view-gallery/view-gallery.component'\r\nimport { TermwiseAttendanceComponent } from \"./termwise-attendance/termwise-attendance.component\";\r\nimport { MyDetailsComponent } from \"./my-details/my-details.component\";\r\nimport { AppDownloadComponent } from './app-download/app-download.component'\r\nimport { MyAttendanceComponent } from \"./my-attendance/my-attendance.component\";\r\nimport { ChangePasswordComponent } from \"./change-password/change-password.component\";\r\nimport { StudentGroupComponent } from './student-group/student-group.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LoginComponent },\r\n  { path: '', component: CommonComponent, children:[\r\n    { path: 'dashboard', component: DashboardComponent },\r\n    { path: 'MarkAttendance', component: AttendanceComponent },\r\n    { path: 'AssignHomeWork', component: HomeworkComponent },\r\n    { path: 'Inbox', component: InboxComponent },\r\n    { path: 'SendMessage', component: ComposeComponent },\r\n    { path: 'ViewStudentResponse', component: ViewStudentResponseComponent },\r\n    { path: 'StudentMessages', component: StudentmessagesComponent },\r\n    { path: 'ComposeNotice', component: ComposeNoticeComponent },\r\n    { path: 'ViewNotices', component: ViewNoticesComponent },\r\n    { path: 'ViewAttendance', component: ViewAttendanceComponent },\r\n    { path: 'StudentLeaveRequest', component: StudentLeaveRequestComponent },\r\n    { path: 'MarkSubjectWiseAttendance', component: MarkSubjectWiseAttendanceComponent },\r\n    { path: 'MerksEntry', component: MarksEntryComponent },\r\n    { path: 'CoscholasticPerformance', component: CoscholasticPerformanceComponent },\r\n    { path: 'StudentRemark', component: StudentRemarkComponent },\r\n    { path: 'CreateActivity', component: CreateActivityComponent },\r\n    { path: 'ViewActivities', component: ViewActivityComponent },\r\n    { path: 'SendCircular', component: SendCircularComponent },\r\n    { path: 'ViewCircular', component: ViewCircularComponent },\r\n    { path: 'viewgallery', component: ViewGalleryComponent },\r\n    { path: 'TermwiseAttendance', component: TermwiseAttendanceComponent },\r\n    { path: 'MyDetails', component: MyDetailsComponent },\r\n    { path: 'AppDownload', component: AppDownloadComponent },\r\n    { path: 'MyAttendance', component: MyAttendanceComponent },\r\n    { path: 'Changepassword', component: ChangePasswordComponent },\r\n    { path: 'StudentGroup', component: StudentGroupComponent },\r\n    { path: '', redirectTo:'dashboard', pathMatch:'full' }\r\n  ]}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Teacher App';\r\n}\r\n","\r\n    <router-outlet></router-outlet>    \r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\n\r\nimport { HomeworkComponent } from './homework/homework.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CommonComponent } from './common/common.component';\r\nimport { LocalStorageModule } from 'angular-2-local-storage';\r\n//import { StorageModule, LocalStorage } from '@ngx-pwa/local-storage';\r\nimport { DeviceDetectorModule } from 'ngx-device-detector';\r\n//import { NgDatepickerModule } from 'ng2-datepicker';\r\n//import { MatDatepickerModule } from '@angular/material/datepicker';\r\n//import {MatDateFormats} from '@angular/material/core'\r\n//import { MatCommonModule } from \"@angular/material/core\";\r\n//import { MatFormFieldModule } from \"@angular/material/form-field\";\r\nimport { AttendanceComponent } from './attendance/attendance.component';\r\nimport { InboxComponent } from './inbox/inbox.component';\r\n//import { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\nimport { Ng2SearchPipeModule } from \"ng2-search-filter\";\r\nimport { ComposeComponent } from './compose/compose.component';\r\nimport { EmbedVideo } from 'ngx-embed-video';\r\nimport { NgHttpLoaderModule } from 'ng-http-loader';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\nimport { AngularEditorModule } from '@kolkov/angular-editor';\r\n// import { ImageCompressService,ResizeOptions,ImageUtilityService } from 'ng2-image-compress';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\n\r\nimport { ViewStudentResponseComponent } from './view-student-response/view-student-response.component';\r\nimport { StudentmessagesComponent } from './studentmessages/studentmessages.component';\r\nimport { NgxSpinnerModule } from 'ngx-spinner';\r\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\r\nimport { ComposeNoticeComponent } from './compose-notice/compose-notice.component';\r\nimport { ViewNoticesComponent } from './view-notices/view-notices.component';\r\nimport { ViewAttendanceComponent } from './view-attendance/view-attendance.component';\r\nimport { StudentLeaveRequestComponent } from './student-leave-request/student-leave-request.component';\r\nimport { MarkSubjectWiseAttendanceComponent } from './mark-subject-wise-attendance/mark-subject-wise-attendance.component';\r\nimport { MarksEntryComponent } from './marks-entry/marks-entry.component';\r\nimport { CoscholasticPerformanceComponent } from './coscholastic-performance/coscholastic-performance.component';\r\nimport { StudentRemarkComponent } from './student-remark/student-remark.component';\r\nimport { CreateActivityComponent } from './create-activity/create-activity.component';\r\nimport { ViewActivityComponent } from './view-activity/view-activity.component';\r\nimport { SendCircularComponent } from './send-circular/send-circular.component';\r\nimport { ViewCircularComponent } from './view-circular/view-circular.component';\r\nimport { ViewGalleryComponent } from './view-gallery/view-gallery.component';\r\nimport { TermwiseAttendanceComponent } from './termwise-attendance/termwise-attendance.component';\r\nimport { StudentHealthComponent } from './student-health/student-health.component';\r\nimport { MyDetailsComponent } from './my-details/my-details.component';\r\nimport { AppDownloadComponent } from './app-download/app-download.component';\r\nimport { ExcelServiceService } from './services/excel-service.service';\r\nimport { MyAttendanceComponent } from './my-attendance/my-attendance.component';\r\nimport { ChangePasswordComponent } from './change-password/change-password.component';\r\nimport { StudentGroupComponent } from './student-group/student-group.component'\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    DashboardComponent,\r\n    CommonComponent,\r\n    HomeworkComponent,\r\n    AttendanceComponent,\r\n    InboxComponent,\r\n    ComposeComponent,\r\n    FooterComponent,\r\n    SidebarComponent,\r\n    ViewStudentResponseComponent,\r\n    StudentmessagesComponent,\r\n    ComposeNoticeComponent,\r\n    ViewNoticesComponent,\r\n    ViewAttendanceComponent,\r\n    StudentLeaveRequestComponent,\r\n    MarkSubjectWiseAttendanceComponent,\r\n    MarksEntryComponent,\r\n    CoscholasticPerformanceComponent,\r\n    StudentRemarkComponent,\r\n    CreateActivityComponent,\r\n    ViewActivityComponent,\r\n    SendCircularComponent,\r\n    ViewCircularComponent,\r\n    ViewGalleryComponent,\r\n    TermwiseAttendanceComponent,\r\n    StudentHealthComponent,\r\n    MyDetailsComponent,\r\n    AppDownloadComponent,\r\n    MyAttendanceComponent,\r\n    ChangePasswordComponent,\r\n    StudentGroupComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    CommonModule,\r\n    HttpClientModule,\r\n    NgxSpinnerModule,\r\n    NgHttpLoaderModule.forRoot(),\r\n    PdfViewerModule,\r\n    FormsModule,\r\n    NgMultiSelectDropDownModule.forRoot(),\r\n    EmbedVideo.forRoot(),\r\n    Ng2SearchPipeModule,\r\n    AngularEditorModule,\r\n    LocalStorageModule.forRoot({\r\n      prefix: 'my-app',\r\n      storageType: 'localStorage'\r\n    }),\r\n    NgbModule,\r\n    BrowserAnimationsModule, \r\n    ToastrModule.forRoot(),\r\n    DeviceDetectorModule.forRoot()\r\n  ],\r\n  providers: [NgxImageCompressService, ExcelServiceService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n@Component({\r\n  selector: 'app-attendance',\r\n  templateUrl: './attendance.component.html',\r\n  styleUrls: ['./attendance.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class AttendanceComponent implements OnInit {\r\n  ClassList: any = [];\r\n  userData: any;\r\n  selectedClass: any;\r\n  currentDate: string;\r\n  showAttendance: boolean = false;\r\n  spinnerText: string = 'Loading...';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  //Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedClass = 0;\r\n    this.currentDate = this.today;\r\n    this.loadCoordinatorClass();\r\n  }\r\n  //Load Coordinator Class\r\n  loadCoordinatorClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetInchargeCoordinatorClass?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          this.ClassList = res;\r\n          if (this.ClassList.code == 'OK') {\r\n            this.ClassList = this.ClassList.data;\r\n          }\r\n          else {\r\n            this.toastr.error(this.ClassList.message, 'Mark Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Class Select Change\r\n  loadAttendance() {\r\n    if (this.selectedClass == 0) {\r\n      this.showAttendance = false;\r\n      return;\r\n    }\r\n    else {\r\n      this.LeaveRequestList = [];\r\n      this.StudentList = [];\r\n      this.checkHoliday();\r\n    }\r\n  }\r\n  // Attendance Type\r\n  AttendanceType: any[] = []\r\n  loadAttendanceType() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"AttendanceType?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var type: any = res;\r\n          if (type.code == 'OK') {\r\n            this.AttendanceType = type.data;\r\n          }\r\n          else {\r\n            // this.toastr.error(this.ClassList.message,'Mark Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Check for holiday\r\n  holiday: any\r\n  checkHoliday() {\r\n    this.showAttendance = false;\r\n    var currentDate: string = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"CheckHolidayDate?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + '&SectionId=' + this.selectedClass.SectionID + '&Date=' + currentDate, options).subscribe(\r\n        (res) => {\r\n          this.holiday = res;\r\n          if (this.holiday.code == 'FAIL') {\r\n            this.displayPendingLeaveRequest();\r\n          }\r\n          else {\r\n            this.toastr.warning(this.holiday.message, 'Mark Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  displayPendingLeaveRequest() {\r\n    this.loadLeaveRequest('Yes');\r\n  }\r\n  //Load Student\r\n  StudentList: any[] = []\r\n  loadStudent() {\r\n    // var currentDate: string = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"StudentList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + '&SectionId=' + this.selectedClass.SectionID\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID, options).subscribe(\r\n        (res) => {\r\n          var data: any = res;\r\n          if (data.code == 'OK') {\r\n            this.StudentList = data.data;\r\n            this.spinnerService.hide();\r\n            // this.loadLeaveRequest('No');\r\n          }\r\n          else {\r\n            this.toastr.warning(data.message, 'Student List');\r\n            this.spinnerService.hide();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Check For Today Attendance\r\n  CheckTodayAttendance() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"CheckTodayAttendance?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + '&SectionId=' + this.selectedClass.SectionID\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID, options).subscribe(\r\n        (res) => {\r\n          var data: any = res;\r\n          if (data.code == 'FAIL') {\r\n            this.showAttendance = true;\r\n            this.loadAttendanceType();\r\n            this.loadStudent();\r\n          }\r\n          else {\r\n            Swal.fire({\r\n              title: 'Update Attendance',\r\n              text: data.message,\r\n              showCancelButton: true,\r\n              confirmButtonColor: '#3085d6',\r\n              cancelButtonColor: '#d33',\r\n              cancelButtonText: 'No',\r\n              confirmButtonText: 'Yes'\r\n            }).then((result) => {\r\n              if (result.value) {\r\n                this.showAttendance = true;\r\n                this.loadAttendanceType();\r\n                this.loadStudent();\r\n                // this.loadLeaveRequest('No');\r\n              }\r\n            })\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //GetLeaveRequest\r\n  LeaveRequestList: any[] = [];\r\n  loadLeaveRequest(type: string) {\r\n    var isPending: string = type;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetLeaveRequest?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + '&SectionId=' + this.selectedClass.SectionID\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID\r\n      + \"&SchoolId=\" + this.common.storage.get('SchoolId') + \"&IsPending=\" + isPending, options).subscribe(\r\n        (res) => {\r\n          var data: any = res;\r\n          if (data.code == 'OK') {\r\n            this.LeaveRequestList = data.data;\r\n            // console.log('Leave request data for is pending '+ type +':', this.LeaveRequestList);\r\n          }\r\n          else {\r\n            this.LeaveRequestList = [];\r\n            this.CheckTodayAttendance();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Leave Request Data\r\n  public ViewData: any\r\n  public StudentName: string\r\n  EnrollNo: string\r\n  RollNo: string\r\n  fromdate: string\r\n  todate: string\r\n  heading: string\r\n  remarks: string\r\n  status: string;\r\n  leaveID: string;\r\n  leaveRequestData(data: any) {\r\n    this.ViewData = data;\r\n    this.StudentName = this.ViewData.StudentName;\r\n    this.EnrollNo = this.ViewData.EnrollNo;\r\n    this.RollNo = this.ViewData.RollNo;\r\n\r\n    this.fromdate = this.ViewData.fromdate.split(' ')[0].split('/')[1] + '-' + this.ViewData.fromdate.split(' ')[0].split('/')[0] + '-' + this.ViewData.fromdate.split(' ')[0].split('/')[2];\r\n    this.todate = this.ViewData.todate.split(' ')[0].split('/')[1] + '-' + this.ViewData.todate.split(' ')[0].split('/')[0] + '-' + this.ViewData.todate.split(' ')[0].split('/')[2];\r\n    this.heading = this.ViewData.heading;\r\n    this.remarks = this.ViewData.remarks;\r\n    this.status = this.ViewData.status;\r\n    this.leaveID = this.ViewData.leave_id;\r\n  }\r\n  // Save Attendance\r\n  SaveAttendance() {\r\n    var todayDate: string;\r\n    if (parseInt(this.currentDate.split('-')[0]) < 10 && parseInt(this.currentDate.split('-')[1]) < 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-0' + this.currentDate.split('-')[1] + '-0' + this.currentDate.split('-')[0];\r\n    }\r\n    else if (parseInt(this.currentDate.split('-')[0]) > 10 && parseInt(this.currentDate.split('-')[1]) < 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-0' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    }\r\n    else if (parseInt(this.currentDate.split('-')[0]) < 10 && parseInt(this.currentDate.split('-')[1]) > 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-0' + this.currentDate.split('-')[0];\r\n    }\r\n    else {\r\n      todayDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    }\r\n    var MarkAttendanceDetail: any[] = []\r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      MarkAttendanceDetail.push({\r\n        'StudentdetailId': this.StudentList[i].StudentDetailId,\r\n        'AttendanceTypeId': this.StudentList[i].AttendanceTypeId,\r\n        'AttendanceScheduleId': \"1\"\r\n      });\r\n    }\r\n    var absent: number = 0;\r\n    for (let i = 0; i < MarkAttendanceDetail.length; i++) {\r\n      if (MarkAttendanceDetail[i].AttendanceTypeId == 2) {\r\n        absent = absent + 1;\r\n      }\r\n    }\r\n    var leave: number = 0;\r\n    for (let i = 0; i < MarkAttendanceDetail.length; i++) {\r\n      if (MarkAttendanceDetail[i].AttendanceTypeId == 3) {\r\n        leave = leave + 1;\r\n      }\r\n    }\r\n    var present: number = 0;\r\n    present = MarkAttendanceDetail.length - (absent + leave);\r\n    Swal.fire({\r\n      title: 'Mark Attendance',\r\n      text: 'Present: ' + present + ', Absent: ' + absent + ', Leave: ' + leave,\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'Cancel',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        var data = {\r\n          \"DbName\": this.common.storage.get('DBName'),\r\n          \"TeacherId\": this.userData.TeacherID,\r\n          \"SchoolId\": this.common.storage.get('SchoolId'),\r\n          \"SessionId\": this.common.storage.get('SessionId'),\r\n          \"SectionId\": this.selectedClass.SectionID,\r\n          \"AttendanceDate\": todayDate,\r\n          \"StudentList\": MarkAttendanceDetail\r\n        };\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        let body = JSON.stringify(data); //Convert frontend Data into Json\r\n        this.http.post(this.common.Baseurl + \"SaveAttendance\", body, options).subscribe(\r\n          (res) => {\r\n            var response: any = res;\r\n            if (response.code == 'OK') {\r\n              this.toastr.success(response.message, 'Mark Attendance');\r\n              this.selectedClass = 0;\r\n              this.showAttendance = false;\r\n              this.LeaveRequestList = [];\r\n              this.StudentList = [];\r\n            }\r\n            else {\r\n              this.toastr.error(response.message, 'Mark Attendance');\r\n            }\r\n          },\r\n          (err) => {\r\n            // console.log(err);console\r\n          }\r\n        );\r\n      }\r\n    })\r\n  }\r\n  // Update Leave Request\r\n  UpdateLeaveRequest(leaveId: string, status: string) {\r\n    Swal.fire({\r\n      text: 'Are you sure to ' + status.toLowerCase() + ' this Request ?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        var data = {\r\n          \"DbName\": this.common.storage.get('DBName'),\r\n          \"TeacherId\": this.userData.TeacherID,\r\n          \"SchoolId\": this.common.storage.get('SchoolId'),\r\n          \"Status\": status,\r\n          \"LeaveId\": leaveId\r\n        };\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        let body = JSON.stringify(data); //Convert frontend Data into Json\r\n        this.http.post(this.common.Baseurl + \"UpdateLeaveRequest\", body, options).subscribe(\r\n          (res) => {\r\n            var response: any = res;\r\n            if (response.code == 'OK') {\r\n              this.toastr.success(response.message, 'Update Leave Request');\r\n            }\r\n            else {\r\n              this.toastr.error(response.message, 'Update Leave Request');\r\n            }\r\n          },\r\n          (err) => {\r\n            //console.log(err);\r\n          }\r\n        );\r\n      }\r\n    })\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Mark Attendance</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadAttendance();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.ClassName}}-{{class.SectionName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"!showAttendance\">\r\n                                <h3 *ngIf=\"LeaveRequestList.length > 0\">Pending Leave Request</h3>\r\n                                <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                    <div class=\"col-md-12\" *ngFor=\"let student of LeaveRequestList\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"subject-div\">\r\n                                                    <a href=\"javascript:void(0);\" (click)=\"leaveRequestData(student);\" data-toggle=\"modal\" data-target=\"#ViewLeaveRequest1\">\r\n                                                        <div class=\"fllef\">\r\n                                                            <h3 style=\"font-size: 23px;\">{{ student.StudentName }}\r\n                                                            </h3>\r\n                                                            <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                            <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                    <div class=\"fltrigg\">\r\n                                                        <div class=\"row\">\r\n                                                            \r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12\">\r\n                                        <div class=\"add-new-btn\">\r\n                                            <button *ngIf=\"LeaveRequestList.length > 0\" (click)=\"CheckTodayAttendance();\">Go</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- Modal -->\r\n                                <div class=\"modal fade\" id=\"ViewLeaveRequest1\" role=\"dialog\">\r\n                                    <div class=\"modal-dialog modal-lg\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h4 class=\"modal-title\">Leave Request</h4>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <div class=\"row\">\r\n                                                    <h3 style=\"margin: 0 auto;\">{{StudentName}}</h3>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Enroll No: {{EnrollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Roll No: {{RollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-3\" style=\"margin-left: 250px; padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">From Date</label>\r\n                                                        <h6>{{fromdate}}</h6>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-3\" style=\"padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">To Date</label>\r\n                                                        <h6>{{todate}}</h6>\r\n                                                    </div>\r\n                                                    \r\n                                                </div>  \r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">{{heading}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h6 style=\"margin: 0 auto;\">{{remarks}}</h6>\r\n                                                </div>\r\n                                                <!-- <div *ngIf=\"status == '1'\" class=\"row\" style=\"margin-top: 10px;\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                        <button type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVED</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf=\"status == '-1'\" class=\"row\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                        <button type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENIED</button>\r\n                                                    </div>\r\n                                                </div> -->\r\n                                                <div *ngIf=\"status == '0'\" class=\"row\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(leaveID,'APPROVE')\" type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVE</button>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(leaveID,'DENY')\" type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENY</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"StudentList.length > 0\">\r\n                                <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link active\" id=\"markattendance1\" data-toggle=\"tab\"\r\n                                            href=\"#markattendance\" role=\"tab\" aria-controls=\"markattendance\"\r\n                                            aria-selected=\"true\">Mark Attendance\r\n                                        </a>\r\n                                    </li>\r\n                                    \r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link\" id=\"leaverequest1\" (click)=\"loadLeaveRequest('No')\" data-toggle=\"tab\" href=\"#leaverequest\"\r\n                                            role=\"tab\" aria-controls=\"leaverequest\" aria-selected=\"false\">All Leave Request\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"tab-content\" id=\"myTabContent\">\r\n                                    <div class=\"tab-pane fade show active\" id=\"markattendance\" role=\"tabpanel\" aria-labelledby=\"markattendance1\">\r\n                                        <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                            <div class=\"col-md-12\" *ngFor=\"let student of StudentList\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            \r\n                                                            <div class=\"fllef\">\r\n                                                                <h3 style=\"font-size: 23px;\">{{ student.StudentName }}\r\n                                                                    <!-- <span><i class=\"fa fa-tag\"></i> {{ view.SubjectName }} </span>  -->\r\n                                                                </h3>\r\n                                                                <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                                <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                            </div>\r\n                                                        \r\n                                                            <div class=\"fltrigg\">\r\n                                                                <div class=\"row\">\r\n                                                                    <div class=\"col-md-12 form-group\">\r\n                                                                        <label for=\"\">Status</label>\r\n                                                                        <select class=\"form-control\" [(ngModel)]=\"student.AttendanceTypeId\" [ngClass]=\"{'present-green': student.AttendanceTypeId == 1, 'absent-red': student.AttendanceTypeId == 2, 'leave-yellow': student.AttendanceTypeId == 3 }\">\r\n                                                                            <option *ngFor=\"let type of AttendanceType\" [ngValue]=\"type.AttendanceTypeID\">{{type.AttendanceTypeName}}</option>\r\n                                                                        </select>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <!-- <div class=\"col-md-12\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <div class=\"fllef\">\r\n                                                                <h4><a href=\"homework-view.html\">Class Assignment\r\n                                                                        Testing</a> <span><i class=\"fa fa-tag\"></i> Number\r\n                                                                        System </span> </h4>\r\n                                                                <h5>Due May 10, 2020 11:59 PM</h5>\r\n                                                            </div>\r\n                                                            <div class=\"fltrigg\">\r\n    \r\n                                                                <h4><span class=\"thumbup\"><a href=\"\"><i class=\"fa fa-thumbs-up\"></i></a></span></h4>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div> -->\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-12\">\r\n                                                <div class=\"add-new-btn\">\r\n                                                    <button (click)=\"SaveAttendance();\">Mark Attendance</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                        <p style=\"color: white\">{{spinnerText}}</p>\r\n                                    </ngx-spinner>\r\n                                    <div class=\"tab-pane fade\" id=\"leaverequest\" role=\"tabpanel\" aria-labelledby=\"leaverequest1\">\r\n                                        <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                            <div class=\"col-md-12\" *ngFor=\"let student of LeaveRequestList\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <a href=\"javascript:void(0);\" (click)=\"leaveRequestData(student);\" data-toggle=\"modal\" data-target=\"#ViewLeaveRequest\">\r\n                                                                <div class=\"fllef\">\r\n                                                                    <h3 style=\"font-size: 23px;\">{{ student.StudentName }}\r\n                                                                    </h3>\r\n                                                                    <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                                    <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                                </div>\r\n                                                            </a>\r\n                                                            <div class=\"fltrigg\">\r\n                                                                <div class=\"row\">\r\n                                                                    \r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\" *ngIf=\"LeaveRequestList.length == 0\">\r\n                                            <h5>No Leave Request Found !</h5>\r\n                                        </div>\r\n                                        <!-- Modal -->\r\n                                        <div class=\"modal fade\" id=\"ViewLeaveRequest\" role=\"dialog\">\r\n                                            <div class=\"modal-dialog modal-lg\">\r\n                                                <div class=\"modal-content\">\r\n                                                    <div class=\"modal-header\">\r\n                                                        <h4 class=\"modal-title\">Leave Request</h4>\r\n                                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                                    </div>\r\n                                                    <div class=\"modal-body\">\r\n                                                        <div class=\"row\">\r\n                                                            <h3 style=\"margin: 0 auto;\">{{StudentName}}</h3>\r\n                                                        </div>\r\n                                                        <div class=\"row\">\r\n                                                            <h5 style=\"margin: 0 auto;\">Enroll No: {{EnrollNo}}</h5>\r\n                                                        </div>\r\n                                                        <div class=\"row\">\r\n                                                            <h5 style=\"margin: 0 auto;\">Roll No: {{RollNo}}</h5>\r\n                                                        </div>\r\n                                                        <div class=\"row\">\r\n                                                            <div class=\"col-md-3\" style=\"margin-left: 250px; padding: 10px 0px;\">\r\n                                                                <label for=\"\" style=\"font-weight: bold !important;\">From Date</label>\r\n                                                                <h6>{{fromdate}}</h6>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\" style=\"padding: 10px 0px;\">\r\n                                                                <label for=\"\" style=\"font-weight: bold !important;\">To Date</label>\r\n                                                                <h6>{{todate}}</h6>\r\n                                                            </div>\r\n                                                            \r\n                                                        </div>  \r\n                                                        <div class=\"row\">\r\n                                                            <h5 style=\"margin: 0 auto;\">{{heading}}</h5>\r\n                                                        </div>\r\n                                                        <div class=\"row\">\r\n                                                            <h6 style=\"margin: 0 auto;\">{{remarks}}</h6>\r\n                                                        </div>\r\n                                                        <div *ngIf=\"status == '1'\" class=\"row\" style=\"margin-top: 10px;\">\r\n                                                            <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVED</button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div *ngIf=\"status == '-1'\" class=\"row\">\r\n                                                            <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENIED</button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div *ngIf=\"status == '0'\" class=\"row\" style=\"margin-top: 10px;\">\r\n                                                            <div class=\"col-md-6\">\r\n                                                                <button (click)=\"UpdateLeaveRequest(leaveID,'APPROVE')\" type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVE</button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-6\">\r\n                                                                <button (click)=\"UpdateLeaveRequest(leaveID,'DENY')\" type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENY</button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component,  ViewChild, OnInit,ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport * as $ from 'jquery';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n@Component({\r\n  selector: 'app-change-password',\r\n  templateUrl: './change-password.component.html',\r\n  styleUrls: ['./change-password.component.css']\r\n})\r\nexport class ChangePasswordComponent implements OnInit {\r\n  public userData: any;\r\n  public allowChangePassword: boolean = false;\r\n  oldPassword: string = '';\r\n  newPassword: string = '';\r\n  confirmPassword: string = '';\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private common: CommonclassService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    if (this.userData === null) {\r\n      this.router.navigate(['']);\r\n    }\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n  }\r\n\r\n  // verify old password\r\n  verifyPassword(data) {\r\n    console.log(data.value)\r\n    let userPassword: string = this.common.storage.get('UserPassword');\r\n    let inputOldPassword: string = data.value;\r\n    if(userPassword === inputOldPassword) {\r\n      this.oldPassword = userPassword;\r\n      this.allowChangePassword = true;\r\n    }\r\n    else {\r\n      this.toastr.warning('Old password does not match !');\r\n    }\r\n  }\r\n\r\n  \r\n  // checkPasswordStrength\r\n  validatePassword(newPass) {\r\n    let userPassword: string = this.common.storage.get('UserPassword');\r\n    let newPassword: string = newPass.value;\r\n    if(userPassword === newPassword){\r\n      this.toastr.error('New password same as old password');\r\n      this.allowChangePassword = false;\r\n      return;\r\n    }\r\n    var regExp = /^.*((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)(?=.*[\\W]).{6,10})/;\r\n    console.log('validate password :',newPassword.match(regExp).length == 0);\r\n    console.log(newPassword);\r\n    if(regExp.test(newPassword)) {\r\n      this.allowChangePassword = true;\r\n      this.newPassword = newPassword;\r\n    }\r\n    else {\r\n      this.toastr.warning('Invalid Password !');\r\n      this.allowChangePassword = false;\r\n    }\r\n  }\r\n\r\n  // Change Password \r\n  ChangePassword(){\r\n    if(this.oldPassword == ''){\r\n      this.toastr.warning('Please enter old password.');\r\n      this.allowChangePassword = false;\r\n      return;\r\n    }\r\n    if(this.oldPassword == this.newPassword){\r\n      this.toastr.warning('New password should not match with new password.');\r\n      this.allowChangePassword = false;\r\n      return;\r\n    }\r\n    if(this.newPassword === this.confirmPassword) {\r\n      this.allowChangePassword = true;\r\n    }\r\n    else {\r\n      this.toastr.warning('New Password Mismatch !');\r\n      this.allowChangePassword = false;\r\n      return;\r\n    }\r\n    if(this.allowChangePassword){\r\n      var data = {\r\n        'DbName': this.common.storage.get('DBName'),\r\n        'UserId': this.userData.UserID,\r\n        'SessionId': this.common.storage.get('SessionId'),\r\n        'TeacherId': this.userData.TeacherID,\r\n        'Newpassword': this.confirmPassword\r\n      };\r\n      let headers = new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      });\r\n      let options = {\r\n        headers: headers\r\n      }\r\n      let body = JSON.stringify(data);\r\n      debugger\r\n      this.http.post(this.common.Baseurl + 'changepassword', body, options).subscribe(\r\n        (data) => {\r\n          var response: any = data;\r\n          console.log(response);\r\n        },\r\n        (err) => {\r\n          if(err.status == 401){\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col md-6\">\r\n                                    <h3>Change Password</h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" style=\"margin-top: 20px;\">\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">Old Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" #pass id=\"pass\" (change)=\"verifyPassword(pass);\">\r\n                                </div>\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">New Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" #newPass id=\"newPass\" (change)=\"validatePassword(newPass)\">\r\n                                </div>\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">Confirm Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" [(ngModel)]=\"confirmPassword\">\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"btn-attendance-show\">\r\n                                        <a href=\"javascript:void(0)\" (click)=\"ChangePassword()\">Reset Password</a>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"instructions\">\r\n                                        <h3>Instructions</h3>\r\n                                        <ol>\r\n                                            <li>Use a combination of lower case and upper case letters, numbers, and\r\n                                                special characters like ^, %, $.</li>\r\n                                            <li>Spaces are not allowed in between password.</li>\r\n                                            <li>The password should contain a minimum of 6 characters and a maximum of\r\n                                                10 characters.</li>\r\n                                            <li>Your new password can not be same as any of your previous passwords.\r\n                                            </li>\r\n                                        </ol>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<!-- /.content-wrapper -->","export class StudentRemark {\r\n    ExamId: number = 0\r\n    Class: any = 0\r\n    RemarksType: string = '0'\r\n    studntperformance: any[] = []\r\n}\r\n\r\nexport class TermwiseAttendance {\r\n    Class: any = 0;\r\n    ExamId: number = 0\r\n    studentdetailstermwise: any[] = [];\r\n    SortBy: string = '0'\r\n}\r\n\r\nexport class MyDetails {\r\n    Address: string\r\n    MobileNo: string\r\n    Name: string\r\n    ProfilePic: any\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Spinkit } from 'ng-http-loader'; \r\n\r\n@Component({\r\n  selector: 'app-common',\r\n  templateUrl: './common.component.html',\r\n  styleUrls: ['./common.component.css']\r\n})\r\nexport class CommonComponent implements OnInit {\r\n  public spinkit = Spinkit;\r\n  constructor() {\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    // setTimeout (() => {\r\n    //   this.loadScript('../../assets/js/adminlte.js')\r\n    //   this.loadScript('../../assets/js/bootstrap4-toggle.min.js');\r\n    // }, 3000);\r\n    //this.loadScript('../../assets/js/adminlte.js');\r\n    // this.loadScript('../../assets/js/bootstrap4-toggle.min.js');\r\n  }\r\n  public loadScript(url: string) {\r\n    const body = <HTMLDivElement>document.body;\r\n    const script = document.createElement('script');\r\n    script.innerHTML = '';\r\n    script.src = url;\r\n    script.async = false;\r\n    script.defer = true;\r\n    body.appendChild(script);\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n    <app-sidebar></app-sidebar>\r\n    <router-outlet></router-outlet>\r\n    <app-footer></app-footer>\r\n</div>\r\n\r\n<!-- <ng-http-loader [spinner]=\"spinkit.skWave\" [backgroundColor]=\"'#1abb9c'\"></ng-http-loader> -->","import { Component,  ViewChild, OnInit,ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\ndeclare var google: any;\r\nimport * as $ from 'jquery';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n\r\n\r\n@Component({\r\n  selector: 'app-compose-notice',\r\n  templateUrl: './compose-notice.component.html',\r\n  styleUrls: ['./compose-notice.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ComposeNoticeComponent implements OnInit {\r\n  translatedText: \"string\";\r\n  @ViewChild('NoticeContent', { static: true }) NoticeContent: ElementRef;\r\n\r\n  title: string;\r\n  content: string;\r\n  entryDate: any;\r\n  minDate: any;\r\n  noticetype: any;\r\n  userdata: any;\r\n  selectedSection: any[];\r\n  dropdownSettings: IDropdownSettings = {};\r\n  NoticeType: any[] = [];\r\n  LanguageList: any[] = [];\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Description Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      },\r\n    ]\r\n  };\r\n  \r\n  /*Google transliteration*/\r\n  selectedlang: string = 'ENGLISH';\r\n  ngAfterViewInit() {\r\n    // google.load(\"elements\", \"1\", {\r\n    //   packages: \"transliteration\"\r\n    // });\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      this.control.disableTransliteration()\r\n    }\r\n    // google.setOnLoadCallback(this.onLoad(lang));\r\n  }\r\n  public onLoad() {\r\n    // const elements = this.NoticeContent.nativeElement; \r\n    $('#NoticeContent').find('.angular-editor-textarea').prop('id', 'noticeText');     \r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['noticeText']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n\r\n  \r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private imageCompress: NgxImageCompressService,\r\n    private ngbCalendar: NgbCalendar,\r\n    private dateAdapter: NgbDateAdapter<string>,\r\n  ) { }\r\n  //Get today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n  ngOnInit(): void {\r\n    this.userdata = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'SectionId',\r\n      textField: 'Class',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 4,\r\n      allowSearchFilter: false\r\n    };\r\n    this.entryDate = this.today;\r\n    this.minDate = this.ngbCalendar.getToday();\r\n    // this.noticetype = 'class';\r\n    this.loadClass();\r\n    if (this.userdata.Role == 'Admin') {\r\n      this.NoticeType.push({ value: 'class', text: 'School' }, { value: 'section', text: 'Class' });\r\n      this.noticetype = this.NoticeType[0];\r\n    }\r\n    else {\r\n      this.NoticeType.push({ value: 'section', text: 'Class' });\r\n      this.noticetype = this.NoticeType[0];\r\n    }\r\n    this.loadLanguages();\r\n  }\r\n  \r\n  //Load Translate languages \r\n  loadLanguages(){\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    var url = this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\"+this.common.storage.get('SchoolId')\r\n    // console.log(url);\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\"+this.common.storage.get('SchoolId') , options).subscribe(\r\n      (data) => {\r\n        // console.log('Translator language:', data);\r\n        var responsen: any = data;\r\n        if(responsen.code == 'OK'){\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  // Multi select dropdown method\r\n  onItemSelect(item: any) {\r\n    // console.log('onItemSelect:', item)\r\n  }\r\n  onSelectAll(items: any) {\r\n    // console.log('onSelectAll', items)\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    // console.log('onItemDeSelect', items)\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n  // Load Class List\r\n  public ClassList: any[] = [];\r\n  loadClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  UrlLink: string = '';\r\n  // file upload change event\r\n  attachment: File;\r\n  attachmentFiles: File[] = [];\r\n  fileURL: any;\r\n  fileURLs: any[] = [];\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      // console.log('File Before Upload', this.attachment);\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Compose Notice');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length == 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Compose Notice');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Compose Notice');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                // console.log('File After Compress: ', this.attachment);\r\n                // console.log('File Size After Compress :', Math.round(this.attachment.size / 1024) + 'KB');\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format', 'Compose Notice');\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Compose Notice');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n\r\n  // Send Notice\r\n  SaveNotices() {\r\n    if (this.title == '' || this.title == undefined || this.title == null) {\r\n      this.toastr.warning('Please Enter Notice Title', 'Compose Notice');\r\n      return;\r\n    }\r\n    var SectionIds: string = '';\r\n    if(this.noticetype.value == 'section'){\r\n      if (this.selectedSection == undefined || this.selectedSection == null) {\r\n        this.toastr.warning('Please Select Class', 'Compose Notice');\r\n        return;\r\n      }\r\n      else{\r\n        for (let i = 0; i < this.selectedSection.length; i++) {\r\n          if (SectionIds == \"\") {\r\n            SectionIds = SectionIds + this.selectedSection[i].SectionId;\r\n          }\r\n          else {\r\n            SectionIds = SectionIds + ',' + this.selectedSection[i].SectionId;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.content = this.translatedText;\r\n    if (this.content == '' || this.content == null || this.content == undefined) {\r\n      this.toastr.warning('Please Type Message', 'Compose Notice');\r\n      return;\r\n    }\r\n    if (this.UrlLink == undefined || this.UrlLink == '') {\r\n    }\r\n    else {\r\n      var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n      var verifyUrl = this.UrlLink.match(regExp);\r\n      if (verifyUrl && verifyUrl[2].length == 11) {\r\n        // console.log(this.UrlLink);\r\n      }\r\n      else {\r\n        this.toastr.warning('Invalid YouTube URL.');\r\n        this.UrlLink = \"\";\r\n        return;\r\n      }\r\n    }\r\n    // console.log('Section ID: ', SectionIds);\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName').toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId').toString());\r\n    formData.append('TeacherId', this.userdata.TeacherID);\r\n    formData.append('SectionIds', SectionIds);\r\n    formData.append('Title', this.title);\r\n    formData.append('Content', this.content);\r\n    formData.append('Entrydate', this.entryDate);\r\n    formData.append('YoutubeURL', this.UrlLink);\r\n    formData.append('NoticeType', this.noticetype.value);\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('UserId', this.userdata.UserID);\r\n    formData.append('SessionName', \"2020-21\");\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let index = 0; index < this.attachmentFiles.length; index++) {\r\n        formData.append('images', this.attachmentFiles[index])\r\n      }\r\n    }\r\n    debugger;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + \"savenotices\", formData).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == \"OK\") {\r\n          this.toastr.success(response.message, 'Send Notice');\r\n          this.Reset();\r\n        }\r\n        else {\r\n          Swal.fire('', response.message, 'error');\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  Reset() {\r\n    this.title = '';\r\n    this.content = '';\r\n    this.UrlLink = '';\r\n    this.attachmentFiles = [];\r\n    this.entryDate = this.today;\r\n    this.selectedSection = [];\r\n    this.noticetype = this.NoticeType[0];\r\n    this.translatedText = null;\r\n    this.selectedlang = 'ENGLISH';\r\n    this.langchange(this.selectedlang);\r\n  }\r\n  showClass: boolean = true;\r\n  TypeChange(data: any) {\r\n    if (data.value == 'school') {\r\n      this.showClass = false;\r\n    }\r\n    else {\r\n      this.showClass = true;\r\n    }\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-header\">\r\n                            <h3>Compose Notice</h3>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Title</label>\r\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"title\" placeholder=\"Notice Title\">\r\n                                </div>\r\n                                <div class=\"col-lg-3 form-group\">\r\n                                    <label for=\"\">Date</label>\r\n                                    <input type=\"text\" class=\"form-control\" [minDate]=\"minDate\"\r\n                                        [(ngModel)]=\"entryDate\" name=\"d1\" ngbDatepicker\r\n                                        #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\"\r\n                                        placeholder=\"DD-MM-YYYY\" />\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Send To</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"noticetype\" (change)=\"TypeChange(noticetype);\">\r\n                                        <option *ngFor=\"let type of NoticeType\" [ngValue]=\"type\">{{type.text}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"noticetype.value != 'section'\"> \r\n                                    <label for=\"\" class=\"label-control\">Class</label>\r\n                                    <ng-multiselect-dropdown [placeholder]=\"'Select Class'\"\r\n                                        [data]=\"ClassList\" [(ngModel)]=\"selectedSection\"\r\n                                        [settings]=\"dropdownSettings\"\r\n                                        (onSelect)=\"onItemSelect($event)\"\r\n                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-lg-2 form-group\">\r\n                                    <label for=\"\">Language</label>\r\n                                    <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                        <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                        <option value=\"HINDI\">HINDI</option>\r\n                                        <option value=\"ORIYA\">ORIYA</option>\r\n                                        <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                        <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                \r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">YouTube URL</label>\r\n                                    <input type=\"url\" class=\"form-control\" [(ngModel)]=\"UrlLink\" placeholder=\"YouTube Url\">\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Attachment </label>\r\n                                    <input type=\"file\" class=\"form-control\" id=\"attachment\" accept=\".pdf,.jpg,.png,.jpeg\" (change)=\"fileToUpload($event)\">\r\n                                </div>\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <label for=\"\">Message</label>\r\n                                    <!-- <textarea id=\"NoticeContent\" #NoticeContent rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Notice Content Here.\"></textarea> -->\r\n                                    <angular-editor [(ngModel)]=\"translatedText\" id=\"NoticeContent\" #NoticeContent [config]=\"config\"></angular-editor>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">Attachments</h5>\r\n                                <ul *ngIf=\"fileURLs && fileURLs.length > 0\" class=\"images-feed image-cancel\">\r\n                                    <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                        <a [href]=\"filePath\" target=\"_blank\">\r\n                                            <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                        </a>\r\n                                        <a (click)=\"removeAttachment(i);\">\r\n                                            <span class=\"fa fa-times\"></span>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)=\"SaveNotices();\">\r\n                                            Send Notice\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<!-- /.content-wrapper -->","import { Component, ViewChild, OnInit, ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\nimport * as $ from 'jquery';\r\ndeclare var google: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-compose',\r\n  templateUrl: './compose.component.html',\r\n  styleUrls: ['./compose.component.css']\r\n})\r\nexport class ComposeComponent implements OnInit {\r\n  translatedText: \"string\";\r\n  // @ViewChild('inputMessageText', { static: true }) inputMessageText: ElementRef;\r\n  // @ViewChild('inputMessageText1', { static: true }) groupMessageText: ElementRef;\r\n\r\n  search: string;\r\n  userData: any;\r\n  classList: any = [];\r\n  selectedSection: any;\r\n  resData: any;\r\n  studentList = [];\r\n  selectAll: boolean = false;\r\n  messageData = []\r\n  messageText: string = \"\"\r\n  LanguageList: any[] = [];\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Type Your Message Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      }\r\n    ]\r\n  };\r\n\r\n  /*Google transliteration*/\r\n  selectedlang: string = 'ENGLISH';\r\n  ngAfterViewInit() {\r\n    // google.load(\"elements\", \"1\", {\r\n    //   packages: \"transliteration\"\r\n    // });\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    debugger;\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      this.control.disableTransliteration()\r\n    }\r\n    // google.setOnLoadCallback(this.onLoad(lang));\r\n  }\r\n  public onLoad() {\r\n    // const elements = this.inputMessageText.nativeElement; inputMessageText1\r\n    // const elements1 = this.groupMessageText.nativeElement;\r\n    $('#inputMessageText').find('.angular-editor-textarea').prop('id', 'studentText'); \r\n    $('#inputMessageText1').find('.angular-editor-textarea').prop('id', 'groupText');  \r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['studentText', 'groupText']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private common: CommonclassService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private http: HttpClient,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedSection = 0;\r\n    this.selectedGroup = 0;\r\n\r\n    this.loadClassSecction();\r\n    this.loadLanguages();\r\n    // this.ngAfterViewInit();\r\n  }\r\n  \r\n  //Load Translate Language \r\n  loadLanguages() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    var url = this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\" + this.common.storage.get('SchoolId')\r\n    // console.log(url);\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n      (data) => {\r\n        var responsen: any = data;\r\n        if (responsen.code == 'OK') {\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  // Load Class Section Drop Down List\r\n  loadClassSecction() {\r\n    let dbName = this.common.storage.get('DBName');\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + dbName\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          debugger;\r\n          // console.log('Class Section',res)\r\n          this.resData = res;\r\n          this.classList = this.resData.data;\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Student List\r\n  loadStudent(classes) {\r\n    if (classes == 0 || classes == undefined) {\r\n      this.studentList = [];\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    // var urlLink = this.common.Baseurl + \"MyContactList?&UserId=\"+ +\"&ClassId=4&DbName=dbDemo&SectionId=3&TeacherId=1106&SessionId=18\"\r\n    this.http.get(this.common.Baseurl + \"MyContactList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SectionId=\" + classes.SectionId + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&ClassId=\" + classes.ClassId, options).subscribe(\r\n        (res) => {\r\n          this.resData = res;\r\n          // console.log('API Response: ',this.resData);\r\n          this.studentList = this.resData.data.student;\r\n          for (let i = 0; i < this.studentList.length; i++) {\r\n            Object.assign(this.studentList[i], { 'Selected': false });\r\n          }\r\n          // console.log('Student List', this.studentList)\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      )\r\n  }\r\n  // Load Group List\r\n  GroupList: any = []\r\n  selectedGroup: any;\r\n  loadGroup() {\r\n    // if(classes == 0 || classes == undefined){\r\n    //   this.studentList = [];\r\n    //   return;\r\n    // }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    // var urlLink = this.common.Baseurl + \"MyContactList?&UserId=\"+ +\"&ClassId=4&DbName=dbDemo&SectionId=3&TeacherId=1106&SessionId=18\"\r\n    this.http.get(this.common.Baseurl + \"MyContactList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SectionId=0&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&ClassId=0\", options).subscribe(\r\n        (res) => {\r\n          var resData: any = res;\r\n          this.GroupList = resData.data.group;\r\n          // console.log('Group List', this.GroupList)\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      )\r\n  }\r\n  selected: boolean = false\r\n  selectedAll(e) {\r\n    for (let i = 0; i < this.studentList.length; i++) {\r\n      this.studentList[i].Selected = e.target.checked;\r\n    }\r\n  }\r\n\r\n  // Send Message\r\n  SentMessage(type: string) {\r\n    this.messageData = [];\r\n    var GroupId: number = 0;\r\n    var sendOption: string;\r\n    var ClassID: number;\r\n    var SectionID: number;\r\n    if (type == 'Student') {\r\n      if (this.selectedSection == undefined || this.selectedSection == 0) {\r\n        this.toastr.warning('Please Select Class.', 'Send Message');\r\n        return;\r\n      }\r\n      ClassID = this.selectedSection.ClassId;\r\n      SectionID = this.selectedSection.SectionId;\r\n      var StudentDetailIds: string = \"\";\r\n      for (let i = 0; i < this.studentList.length; i++) {\r\n        if (this.studentList[i].Selected == true) {\r\n          this.messageData.push({\r\n            \"StudentdetailId\": this.studentList[i].StudentdetailId,\r\n            \"EnrollNo\": this.studentList[i].AdmissionNo\r\n          });\r\n          if(StudentDetailIds == \"\"){\r\n            StudentDetailIds = StudentDetailIds + this.studentList[i].StudentdetailId;\r\n          }\r\n          else {\r\n            StudentDetailIds = StudentDetailIds + ',' + this.studentList[i].StudentdetailId;\r\n          }\r\n        }\r\n      }\r\n      if (StudentDetailIds == \"\" || StudentDetailIds == null) {\r\n        this.toastr.warning('Please Select Students.', 'Send Message');\r\n        return;\r\n      }\r\n      else if (this.messageData.length == this.studentList.length) {\r\n        var sendOption = 'all'\r\n        this.messageData = [];\r\n      }\r\n      else {\r\n        sendOption = 'selected'\r\n      }\r\n    }\r\n    else {\r\n      this.messageData = [];\r\n    }\r\n    if (type == 'Group') {\r\n      if (this.selectedGroup == undefined || this.selectedGroup == 0) {\r\n        this.toastr.warning('Please Select Group.', 'Send Message');\r\n        return;\r\n      }\r\n      else {\r\n        ClassID = 0;\r\n        SectionID = 0;\r\n        GroupId = this.selectedGroup.GroupId;\r\n        sendOption = 'group';\r\n      }\r\n    }\r\n    this.messageText = this.translatedText;\r\n    if (this.messageText == '' || this.messageText == undefined || this.messageText == null) {\r\n      this.toastr.warning('Please Type Message.', 'Send Message');\r\n      return;\r\n    }\r\n    debugger;\r\n    // console.log(this.messageData);\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('ClassId', ClassID.toString());\r\n    formData.append('SectionId', SectionID.toString());\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('TeacherId', this.userData.TeacherID);\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('Sendoption', sendOption);\r\n    formData.append('Text', this.messageText);\r\n    formData.append('Students', JSON.stringify(this.messageData));\r\n    formData.append('SessionName', '2020-21');\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('GroupId', GroupId.toString());\r\n    if (this.fileUploadList.length > 0) {\r\n      for (let i = 0; i < this.fileUploadList.length; i++) {\r\n        formData.append('images', this.fileUploadList[i]);\r\n      }\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    debugger\r\n    this.http.post(this.common.Baseurl + \"sendinboxmessagev23\", formData).subscribe(\r\n      (res) => {\r\n        // console.log(res);  \r\n        this.resData = res;\r\n        debugger;\r\n        if (this.resData.code == 'OK') {\r\n          Swal.fire(this.resData.message, '', 'success');\r\n          this.reset();\r\n        }\r\n        else {\r\n          this.toastr.error(this.resData.message, 'Message Send');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    )\r\n  }\r\n  public selectedFile: File;\r\n  fileURL: any;\r\n  fileUploadList: File[] = []\r\n  fileUploadUrl: any[] = []\r\n\r\n  // file upload change event\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.selectedFile = event.target.files.item(0);\r\n      var ext = this.selectedFile.type;\r\n      var fileName = this.selectedFile.name;\r\n      if (Math.round(this.selectedFile.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB');\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n      if (this.fileUploadList.length == 5) {\r\n        this.toastr.warning('You can add only 5 Attachments !');\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.selectedFile.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.selectedFile);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.selectedFile = imageFile;\r\n                this.fileUploadList.push(this.selectedFile);\r\n                this.fileUploadUrl.push(this.fileURL);\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.selectedFile);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.fileUploadList.push(this.selectedFile);\r\n            this.fileUploadUrl.push(this.fileURL);\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.fileUploadList.push(this.selectedFile);\r\n        this.fileUploadUrl.push(this.fileURL);\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.selectedFile = null;\r\n        this.toastr.warning('Invalid File Format');\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.');\r\n    }\r\n\r\n  }\r\n\r\n  // Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  // Remove Attachments\r\n  removeFile(index) {\r\n    this.fileUploadUrl.splice(index, 1);\r\n    this.fileUploadList.splice(index, 1);\r\n  }\r\n\r\n  // Reset Method\r\n  reset() {\r\n    this.fileUploadList = [];\r\n    this.fileUploadUrl = [];\r\n    this.messageText = \"\";\r\n    this.selectedSection = 0;\r\n    this.selectedGroup = 0;\r\n    this.selectedFile = null;\r\n    this.studentList = [];\r\n    this.GroupList = [];\r\n    this.selectAll = false;\r\n    this.translatedText = null;\r\n    this.selectedlang = 'ENGLISH';\r\n    this.langchange(this.selectedlang);\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-header\">\r\n                            <h3>Send Message</h3>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                <li class=\"nav-item\">\r\n                                    <a class=\"nav-link active\" id=\"viewhomework1\" data-toggle=\"tab\"\r\n                                        href=\"#student\" role=\"tab\" aria-controls=\"viewhomework\" (click)=\"reset()\"\r\n                                        aria-selected=\"true\">Student\r\n                                    </a>\r\n                                </li>                                \r\n                                <li class=\"nav-item\">\r\n                                    <a class=\"nav-link\" id=\"Viewstatus1\" data-toggle=\"tab\" href=\"#group\" (click)=\"reset();loadGroup();\"\r\n                                        role=\"tab\" aria-controls=\"Viewstatus\" aria-selected=\"false\">Group</a>\r\n                                </li>\r\n                            </ul>\r\n                            <div class=\"tab-content\" id=\"myTabContent\">\r\n                                <div class=\"tab-pane fade show active\" id=\"student\" role=\"tabpanel\" aria-labelledby=\"viewhomework1\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-2 form-group\">\r\n                                            <label for=\"\">Class</label>\r\n                                            <select class=\"form-control\" data-width=\"100%\" [(ngModel)]=\"selectedSection\" (change)=\"loadStudent(selectedSection);\">\r\n                                                <option [ngValue]=\"0\">Select Class</option>\r\n                                                <option *ngFor=\"let class of classList\" [ngValue]=\"class\">{{ class.Class }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-lg-2 form-group\">\r\n                                            <label for=\"\">Language</label>\r\n                                            <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                <option value=\"HINDI\">HINDI</option>\r\n                                                <option value=\"ORIYA\">ORIYA</option>\r\n                                                <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-md-4 form-group\">\r\n                                            <label for=\"\">Upload Attachemnt</label>\r\n                                            <!-- <small>(You can upload 5 pdf/images)</small> -->\r\n                                            <input type=\"file\" class=\"form-control\" accept=\".pdf,.jpeg,.png,.jpg\" (change)=\"fileToUpload($event)\">\r\n                                        </div>\r\n                                        <div class=\"col-md-12 form-group\">\r\n                                            <label for=\"\">Message</label>\r\n                                            <!-- <textarea id=\"inputMessageText\" #inputMessageText rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Type your message here.\"></textarea> -->\r\n                                            <angular-editor [(ngModel)]=\"translatedText\" id=\"inputMessageText\" #inputMessageText [config]=\"config\"></angular-editor>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n                                    <div class=\"col-md-12\">\r\n                                        <h5 *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\">Attachments</h5>\r\n                                        <ul *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\" class=\"images-feed image-cancel\">\r\n                                            <li *ngFor=\"let filePath of fileUploadUrl; let i = index\">\r\n                                                <a [href]=\"filePath\" target=\"_blank\">\r\n                                                    <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                </a>\r\n                                                <a (click)=\"removeFile(i);\">\r\n                                                    <span class=\"fa fa-times\"></span>\r\n                                                </a>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div class=\"add-new-btn\">\r\n                                                <button id=\"btn-1\" (click)=\"SentMessage('Student');\">\r\n                                                    Send Message\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"form-group\">\r\n                                            <input type=\"text\" [(ngModel)]=\"search\" class=\"form-control\" style=\"width: 300px;\" placeholder=\"Search Here\">\r\n                                        </div>\r\n                                        <div id=\"view-table\">\r\n                                            <div class=\"table-responsive\">\r\n                                                <table class=\"table table-striped table-border\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th><input type=\"checkbox\" class=\"form-check-input\" [(ngModel)]=\"selectAll\" (change)=\"selectedAll($event)\"> Select All</th>\r\n                                                            <th>S. No.</th>\r\n                                                            <th>Admn. No.</th>\r\n                                                            <th>Student Name</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <tr *ngFor=\"let student of studentList | filter:search ; let i = index\">\r\n                                                            <td><input type=\"checkbox\" class=\"form-check-input\" [(ngModel)]=\"student.Selected\" [checked]=\"student.Selected\"></td>\r\n                                                            <td>{{ i+1 }}</td>\r\n                                                            <td>{{ student.AdmissionNo }}</td>\r\n                                                            <td>{{ student.StudentName }}</td>\r\n                                                        </tr>\r\n                                                        <tr *ngIf=\"studentList.length == 0\" >\r\n                                                            <td colspan=\"5\"><p>No Record Found.</p></td>\r\n                                                        </tr>                \r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"tab-pane fade\" id=\"group\" role=\"tabpanel\" aria-labelledby=\"Viewstatus1\">\r\n                                    <div class=\"row\">\r\n                                        <!-- <div class=\"col-md-3 form-group\">\r\n                                            <label for=\"\">Class-Section</label>\r\n                                            <select class=\"form-control\" data-width=\"100%\" [(ngModel)]=\"selectedSection\" (change)=\"loadGroup(selectedSection);\">\r\n                                                <option [ngValue]=\"0\">Select Class</option>\r\n                                                <option *ngFor=\"let class of classList\" [ngValue]=\"class\">{{ class.Class }}</option>\r\n                                            </select>\r\n                                        </div> -->\r\n                                        <div class=\"col-md-3 form-group\">\r\n                                            <label for=\"\">Group</label>\r\n                                            <select class=\"form-control\" data-width=\"100%\" [(ngModel)]=\"selectedGroup\">\r\n                                                <option [ngValue]=\"0\">Select Group</option>\r\n                                                <option *ngFor=\"let group of GroupList\" [ngValue]=\"group\">{{ group.GroupName }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-lg-2 form-group\">\r\n                                            <label for=\"\">Language</label>\r\n                                            <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                <option value=\"HINDI\">HINDI</option>\r\n                                                <option value=\"ORIYA\">ORIYA</option>\r\n                                                <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-md-3 form-group\">\r\n                                            <label for=\"\">Upload Attachemnt</label> \r\n                                            <input type=\"file\" class=\"form-control\" (change)=\"fileToUpload($event)\">\r\n                                        </div>\r\n                                        <div class=\"col-md-12 form-group\">\r\n                                            <label for=\"\">Message</label>\r\n                                            <!-- <textarea id=\"inputMessageText1\" #inputMessageText1 rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Type your message here.\"></textarea> -->\r\n                                            <angular-editor [(ngModel)]=\"translatedText\" id=\"inputMessageText1\" #inputMessageText1 [config]=\"config\"></angular-editor>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-12\">\r\n                                        <h5 *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\">Attachments</h5>\r\n                                        <ul *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\" class=\"images-feed image-cancel\">\r\n                                            <li *ngFor=\"let filePath of fileUploadUrl; let i = index\">\r\n                                                <a [href]=\"filePath\" target=\"_blank\">\r\n                                                    <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                </a>\r\n                                                <a (click)=\"removeFile(i);\">\r\n                                                    <span class=\"fa fa-times\"></span>\r\n                                                </a>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div class=\"add-new-btn\">\r\n                                                <button id=\"btn-1\" (click)=\"SentMessage('Group');\">\r\n                                                    Send Message\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<!-- /.content-wrapper -->","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n@Component({\r\n  selector: 'app-coscholastic-performance',\r\n  templateUrl: './coscholastic-performance.component.html',\r\n  styleUrls: ['./coscholastic-performance.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class CoscholasticPerformanceComponent implements OnInit {\r\n  public userData: any;\r\n  public ClassList: any[] = [];\r\n  public selectedClass: any;\r\n  public TermList: any[] = [];\r\n  public selectedTerm: any;\r\n  public CoscholasticSubjectList: any[] = [];\r\n  public selectedCoscholasticSubject: any;\r\n  public CoscholasticSkillList: any[] = [];\r\n  public selectedCoscholasticSkill: any;\r\n  public CoscholasticGradeList: any[] = [];\r\n  public StudentList: any[] = [];\r\n  public spinnerText: string;\r\n  public searchText: string;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n  //get today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.selectedClass = 0;\r\n    this.selectedTerm = 0;\r\n    this.selectedCoscholasticSubject = 0;\r\n    this.selectedCoscholasticSkill = 0;\r\n    this.loadAssignedClass();\r\n  }\r\n  // Load Assigned Class\r\n  loadAssignedClass() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load term  \r\n  loadTerm() {\r\n    if (this.selectedClass == 0) {\r\n      this.StudentList = [];\r\n      this.selectedTerm = 0;\r\n      this.TermList = [];\r\n      this.selectedCoscholasticSkill = 0;\r\n      this.CoscholasticSkillList = [];\r\n      this.selectedCoscholasticSubject = 0;\r\n      this.CoscholasticSubjectList = [];\r\n      return;\r\n    }\r\n    this.StudentList = [];\r\n    this.selectedCoscholasticSkill = 0;\r\n    this.CoscholasticSkillList = [];\r\n    this.selectedCoscholasticSubject = 0;\r\n    this.CoscholasticSubjectList = [];\r\n    // this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"CoscholasticTerm?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SectionId=\" + this.selectedClass.SectionId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.TermList = response.data;\r\n            // this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n            // this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            // this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load Coscholastic Subject \r\n  loadCoscholasticSubject() {\r\n    if (this.selectedTerm == 0) {\r\n      this.StudentList = [];\r\n      this.selectedCoscholasticSkill = 0;\r\n      this.CoscholasticSkillList = [];\r\n      return;\r\n    }\r\n    this.StudentList = [];\r\n    this.selectedCoscholasticSkill = 0;\r\n    this.CoscholasticSkillList = [];\r\n    // this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getcoscholasticsubject?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SectionId=\" + this.selectedClass.SectionId\r\n      + \"&ExamId=\" + this.selectedTerm.ExamId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.CoscholasticSubjectList = response.data;\r\n            // this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n            // this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            // this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load Coscholastic Skill \r\n  loadCoscholasticSkill() {\r\n    if (this.selectedCoscholasticSubject == 0) {\r\n      this.StudentList = [];\r\n      return;\r\n    }\r\n    this.StudentList = [];\r\n    // this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n\r\n    this.http.get(this.common.Baseurl + \"getcoscholasticskill?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SectionId=\" + this.selectedClass.SectionId + \"&UserId=\" + this.userData.UserID\r\n      + \"&ExamId=\" + this.selectedTerm.ExamId + \"&CoScholsticHeaderId=\" + this.selectedCoscholasticSubject.CoScholsticHeaderId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.CoscholasticSkillList = response.data;\r\n            // this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n            // this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            // this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load Coscholastic Grade \r\n  loadCoscholasticGrade() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n\r\n    this.http.get(this.common.Baseurl + \"getcoscholasticgrade?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SectionId=\" + this.selectedClass.SectionId\r\n      + \"&CoScholasticHeaderName=\" + this.selectedCoscholasticSubject.CoScholasticHeaderName, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            debugger\r\n            this.CoscholasticGradeList = response.data;\r\n            // console.log('CoScholastic Grade:', this.CoscholasticGradeList);\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Load Coscholastic Skill \r\n  loadStudent() {\r\n    if (this.selectedClass == 0) {\r\n      this.toastr.warning('Please Select Class', 'Coscholastic Performance');\r\n      return;\r\n    }\r\n    if (this.selectedTerm == 0) {\r\n      this.toastr.warning('Please Select Term', 'Coscholastic Performance');\r\n      return;\r\n    }\r\n    if (this.selectedCoscholasticSubject == 0) {\r\n      this.toastr.warning('Please Select Co-Scholastic Subject', 'Coscholastic Performance');\r\n      return;\r\n    }\r\n    if (this.selectedCoscholasticSkill == 0) {\r\n      this.toastr.warning('Please Select Co-Scholastic Skill', 'Coscholastic Performance');\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"getcoascholasticperformance?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SectionId=\" + this.selectedClass.SectionId\r\n      + \"&ExamId=\" + this.selectedTerm.ExamId + \"&CoScholsticHeaderId=\" + this.selectedCoscholasticSubject.CoScholsticHeaderId\r\n      + \"&CoScholasticClassSubjectId=\" + this.selectedCoscholasticSkill.CoScholasticClassSubjectId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.StudentList = response.data;\r\n            // console.log('Student List:', this.StudentList);\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Coscholastic Performance');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Save CoScholastic Grade\r\n  SaveCoScholastic() {\r\n    var coscholasticPerformance: any[] = [];\r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      if (this.StudentList[i].GradePoolDetailID > 0) {\r\n        coscholasticPerformance.push({\r\n          \"CoScholasticClassSubjectId\": this.selectedCoscholasticSkill.CoScholasticClassSubjectId,\r\n          \"GradePoolDetailID\": this.StudentList[i].GradePoolDetailID,\r\n          \"StudentDetailId\": this.StudentList[i].Studentdetailid,\r\n          \"StudentPerformanceId\": this.StudentList[i].StudentPerformanceId,\r\n          \"MarkObt\": 0\r\n        })\r\n      }\r\n    }\r\n    // console.log('Student Marks:', coscholasticPerformance);\r\n    var data = {\r\n      \"DbName\": this.common.storage.get('DBName'),\r\n      \"UserId\": this.userData.UserID,\r\n      \"SessionId\": this.common.storage.get('SessionId'),\r\n      \"SectionId\": this.selectedClass.SectionId,\r\n      \"ExamId\": this.selectedTerm.ExamId,\r\n      \"Type\": 'Save',\r\n      \"CoScholasticClassSubjectId\": this.selectedCoscholasticSkill.CoScholasticClassSubjectId,\r\n      \"Studntperformance\": coscholasticPerformance\r\n    };\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data); //Convert frontend Data into Json\r\n    // console.log('body Data: ', body);\r\n    this.spinnerText = 'Saving CoScholastic...'\r\n    this.spinnerService.show();\r\n    this.http.post(this.common.Baseurl + \"savecoscholasticperformance\", body, options).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.toastr.success(response.message, 'Coscholastic Performance');\r\n          this.spinnerService.hide();\r\n          this.spinnerText = 'Loading...'\r\n          this.reset();\r\n        }\r\n        else {\r\n          this.toastr.error(response.message, 'Coscholastic Performance');\r\n          this.spinnerService.hide();\r\n          this.spinnerText = 'Loading...'\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.spinnerService.hide();\r\n        this.spinnerText = 'Loading...'\r\n      }\r\n    );\r\n  }\r\n  reset() {\r\n    this.StudentList = [];\r\n    this.TermList = []\r\n    this.selectedTerm = 0;\r\n    this.selectedClass = 0;\r\n    this.selectedCoscholasticSkill = 0;\r\n    this.CoscholasticSubjectList = []\r\n    this.CoscholasticSkillList = []\r\n    this.selectedCoscholasticSubject = 0;\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Coscholastic Performance</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadTerm();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.Class}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Term</label>\r\n                                    <select [(ngModel)]=\"selectedTerm\" class=\"form-control\" (change)=\"loadCoscholasticSubject();\">\r\n                                        <option [ngValue]=\"0\">Select Term</option>\r\n                                        <option *ngFor=\"let term of TermList\" [ngValue]=\"term\">{{term.ExamName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Co-Scholastic Subject</label>\r\n                                    <select [(ngModel)]=\"selectedCoscholasticSubject\" class=\"form-control\" (change)=\"loadCoscholasticSkill();\">\r\n                                        <option [ngValue]=\"0\">Select co-scholastic subject</option>\r\n                                        <option *ngFor=\"let coscholastic of CoscholasticSubjectList\" [ngValue]=\"coscholastic\">{{ coscholastic.CoScholasticHeaderName }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Co-Scholastic Skill</label>\r\n                                    <select [(ngModel)]=\"selectedCoscholasticSkill\" class=\"form-control\">\r\n                                        <option [ngValue]=\"0\">Select co-scholastic skill</option>\r\n                                        <option *ngFor=\"let skill of CoscholasticSkillList\" [ngValue]=\"skill\">{{skill.CoScholasticSkillName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)='loadStudent();loadCoscholasticGrade();'>Show</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" *ngIf=\"StudentList.length > 0\">\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Here\" [(ngModel)]=\"searchText\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let student of StudentList | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                <div class=\"fllef\">\r\n                                                    <h3 style=\"font-size: 18px;\">{{ student.StudentName }}\r\n                                                    </h3>\r\n                                                    <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                    <h5>Adm No: {{ student.EnRollNo }}</h5>\r\n                                                    <!-- <div class=\"col-md-3 form-group\" style=\"float: right; margin-top: -80px;\">\r\n                                                        <label for=\"\">Marks Obt.</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"student.MarksObt\" (keypress)=\"onlyNumberKey($event)\" minlength=\"3\">\r\n                                                    </div> -->\r\n                                                </div>\r\n                                            \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12 form-group\">\r\n                                                            <label for=\"\">Grade</label>\r\n                                                            <select class=\"form-control\" [(ngModel)]=\"student.GradePoolDetailID\">\r\n                                                                <option value=\"0\">Select Grade</option>\r\n                                                                <option *ngFor=\"let grade of CoscholasticGradeList\" [ngValue]=\"grade.GradepoolDetailID\">{{grade.GradeName}}</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button *ngIf=\"StudentList.length > 0\" (click)=\"SaveCoScholastic();\">Save Co-Scholastic</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, ViewChild, OnInit, ElementRef, AfterViewInit } from '@angular/core';\r\n// import Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\nimport * as $ from 'jquery';\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-create-activity',\r\n  templateUrl: './create-activity.component.html',\r\n  styleUrls: ['./create-activity.component.css']\r\n})\r\nexport class CreateActivityComponent implements OnInit {\r\n  translatedText: \"string\";\r\n\r\n  public title: string;\r\n  public spinnerText: string = 'Loading...';\r\n  public userData: any;\r\n  public selectedSection: any[];\r\n  public dropdownSettings : IDropdownSettings = {};  \r\n  public message: string;\r\n  public LanguageList: any[] = [];\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Description Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      },\r\n    ]\r\n  };\r\n\r\n  /*Google transliteration*/\r\n  selectedlang: string = 'ENGLISH';\r\n  ngAfterViewInit() {\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    debugger;\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      this.control.disableTransliteration();\r\n    }\r\n  }\r\n  public onLoad() {    \r\n    $('#translateArea').find('.angular-editor-textarea').prop('id', 'activityText');  \r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['activityText']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService    \r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if(nowTime > expiredTime){\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.loadClass();\r\n    this.loadLanguages()\r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'SectionId',\r\n      textField: 'Class',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 4,\r\n      allowSearchFilter: false\r\n    };\r\n  }\r\n  //Load Translate languages \r\n  loadLanguages() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n      (data) => {\r\n        // console.log('Translator language:', data);\r\n        var responsen: any = data;\r\n        if (responsen.code == 'OK') {\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  // Dropdown methods\r\n  onItemSelect(item: any) {\r\n    // console.log('onItemSelect:',item)\r\n  }\r\n  onSelectAll(items: any) {\r\n    // console.log('onSelectAll',items)\r\n  }\r\n  onItemDeSelect(items: any){\r\n    // console.log('onItemDeSelect',items)\r\n  }\r\n  onDropDownClose(){\r\n  }\r\n  // Load Class List\r\n  public ClassList: any[] = [];\r\n  loadClass(){\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\"+this.common.storage.get('DBName')\r\n    +\"&TeacherId=\"+this.userData.TeacherID+\"&SessionId=\"+this.common.storage.get('SessionId')+\"&UserId=\"+this.userData.UserID, options).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if(response.code == 'OK'){\r\n          this.ClassList = response.data;\r\n          this.spinnerService.hide();\r\n        }\r\n        else{\r\n          this.toastr.warning(response.message, 'Create Activity');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n          this.spinnerService.hide();\r\n        }\r\n      }\r\n    );    \r\n  }\r\n  // file upload change event\r\n  attachment: File;\r\n  attachmentFiles: File[] = [];\r\n  fileURL: any;\r\n  fileURLs: any[] = [];\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      // console.log('File Before Upload', this.attachment);\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB','Create Activity');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length == 10) {\r\n        this.toastr.warning('You can add only 5 attachments.','Create Activity');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for(let i = 0; i < this.attachmentFiles.length; i++){\r\n        if(fileName == this.attachmentFiles[i].name){\r\n          this.toastr.warning('This file is already selected.', 'Create Activity');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                // console.log('File After Compress: ', this.attachment);\r\n                // console.log('File Size After Compress :', Math.round(this.attachment.size / 1024) + 'KB');\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else if (ext == 'audio/mpeg' || ext == 'audio/x-m4a') {\r\n        this.fileURL = './assets/images/mp3-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format','Create Activity');\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.','Create Activity');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n  \r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n  \r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index){\r\n    this.attachmentFiles.splice(index,1);\r\n    this.fileURLs.splice(index,1);\r\n  }\r\n\r\n  // Save Activity\r\n  SaveActivity(){\r\n    if(this.title == '' || this.title == null){\r\n      this.toastr.warning('Please entry activity title.', 'Create Activity');\r\n      return;\r\n    }\r\n    this.message = this.translatedText;\r\n    if(this.message == '' || this.message === null || this.message == undefined){\r\n      this.toastr.warning('Please type message', 'Create Activity');\r\n      return;\r\n    }\r\n    if(this.attachmentFiles.length == 0){\r\n      this.toastr.warning('Please Upload Attachments.', 'Create Activity');\r\n      return;\r\n    }\r\n    var SectionIds: string = '';\r\n    var SendTo: string;\r\n    if(this.selectedSection === []){\r\n      SectionIds = '';\r\n      SendTo = 'all';\r\n    }\r\n    else{\r\n      for(let i = 0; i< this.selectedSection.length; i++ ){\r\n        if(SectionIds == \"\"){        \r\n          SectionIds = SectionIds + this.selectedSection[i].SectionId;\r\n        }\r\n        else{\r\n          SectionIds = SectionIds + ',' + this.selectedSection[i].SectionId;\r\n        }\r\n      }\r\n      SendTo = 'selected';\r\n    }\r\n    // console.log('Section IDs:',SectionIds);\r\n    // console.log('Sendto: ',SendTo);\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName').toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId').toString());\r\n    formData.append('SessionId', this.common.storage.get('SessionId').toString());\r\n    formData.append('SessionName', \"2020-21\");\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('Description', this.message);\r\n    formData.append('SectionIds', SectionIds);\r\n    formData.append('Title', this.title);\r\n    formData.append('SendTo', SendTo);\r\n    if(this.attachmentFiles.length > 0){\r\n      for (let index = 0; index < this.attachmentFiles.length; index++) {\r\n        formData.append('images',this.attachmentFiles[index])  \r\n      }\r\n    }\r\n    this.spinnerText = 'Creating Activity...';\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + 'saveactivitiimages', formData).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if(response.code == 'OK'){\r\n          this.toastr.success(response.message, 'Create Activity');\r\n          this.reset();\r\n          this.spinnerService.hide();\r\n        }\r\n        else{\r\n          this.toastr.error(response.message, 'Create Activity');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n          this.spinnerService.hide();\r\n        }        \r\n      }\r\n    )\r\n  }\r\n  // Reset \r\n  reset(){\r\n    this.title = '';\r\n    this.selectedSection = [];\r\n    this.message = '';\r\n    this.attachmentFiles = [];\r\n    this.fileURLs = [];\r\n    this.spinnerText = 'Loading...'\r\n    this.translatedText = null;\r\n    this.selectedlang = 'HINDI';\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Create Activity</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Title</label>\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Activity Title\" [(ngModel)]=\"title\">\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group multiselect-div\">\r\n                                    <label for=\"\" class=\"label-control\">Class</label>\r\n                                    <ng-multiselect-dropdown [placeholder]=\"'All'\"\r\n                                        [data]=\"ClassList\" [(ngModel)]=\"selectedSection\"\r\n                                        [settings]=\"dropdownSettings\"\r\n                                        (onSelect)=\"onItemSelect($event)\"\r\n                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                                <div class=\"col-lg-3 form-group\">\r\n                                    <label for=\"\">Language</label>\r\n                                    <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                        <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                        <option value=\"HINDI\">HINDI</option>\r\n                                        <option value=\"ORIYA\">ORIYA</option>\r\n                                        <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                        <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Attachment </label>\r\n                                    <input type=\"file\" class=\"form-control\" id=\"attachment\" accept=\".pdf,.jpg,.jpeg,.png,.m4a,.mp3\" (change)=\"fileToUpload($event)\">\r\n                                </div>\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <label for=\"\">Message</label>\r\n                                    <!-- <textarea id=\"ActivityText\" #ActivityText rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Notice Content Here.\"></textarea> -->\r\n                                    <angular-editor [(ngModel)]=\"translatedText\" id=\"translateArea\" #translateArea [config]=\"config\"></angular-editor>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">Attachments</h5>\r\n                                <ul *ngIf=\"fileURLs && fileURLs.length > 0\" class=\"images-feed image-cancel\">\r\n                                    <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                        <a [href]=\"filePath\" target=\"_blank\">\r\n                                            <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                        </a>\r\n                                        <a (click)=\"removeAttachment(i);\">\r\n                                            <span class=\"fa fa-times\"></span>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)=\"SaveActivity();\">Create Activity</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CommonclassService } from '../services/commonclass.service'\r\nimport { Router } from '@angular/router';\r\nimport { Title } from \"@angular/platform-browser\";\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  constructor(\r\n    private common: CommonclassService, \r\n    private router: Router,\r\n    private titleService: Title\r\n    ) { }\r\n  userImage: string;\r\n  userdata: any;\r\n  public loadScript(url: string) {\r\n    const body = <HTMLDivElement>document.body;\r\n    const script = document.createElement('script');\r\n    script.innerHTML = '';\r\n    script.src = url;\r\n    script.async = false;\r\n    script.defer = true;\r\n    body.appendChild(script);\r\n  }\r\n  ngOnInit(): void {\r\n    //this.loadScript('../../assets/js/adminlte.js');\r\n    this.userdata = this.common.storage.get(\"user\");\r\n    if (this.userdata === null) {\r\n      this.router.navigate(['']);\r\n    }\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'));\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    if (this.userdata != null) {\r\n      this.userImage = this.userdata.UserImage;\r\n    }\r\n    this.titleService.setTitle('Dashboard');\r\n  }\r\n\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\"></h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div style=\"margin: 0 auto;\">\r\n                                    <h2>Welcome To Teacher Panel</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div style=\"margin: 0 auto;\">\r\n                                    <h4 style=\"margin: 0 auto;\"></h4>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.css']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  \r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n}\r\n","<footer class=\"main-footer\">\r\n    <!-- <strong>Copyright &copy; 2020 Cyber School Manager.</strong>\r\n    All rights reserved. -->\r\n</footer>\r\n\r\n<!-- Control Sidebar -->\r\n<aside class=\"control-sidebar control-sidebar-dark\">\r\n    <!-- Control sidebar content goes here -->\r\n</aside>\r\n<!-- /.control-sidebar -->","import { Component, ViewChild, OnInit, ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n// import { } from '@ng-bootstrap/ng-bootstrap/util/util';\r\n// import { ImageCompressService, ResizeOptions, ImageUtilityService, IImage, SourceImage } from  'ng2-image-compress';\r\n// import { EmbedVideoService } from 'ngx-embed-video';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\n// import { DataService } from '../services/data.service'\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { DownloadService } from \"../services/download.service\";\r\nimport * as $ from 'jquery';\r\ndeclare var google: any;\r\n// declare function onLoad(): any;\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-homework',\r\n  templateUrl: './homework.component.html',\r\n  styleUrls: ['./homework.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\n\r\nexport class HomeworkComponent implements OnInit {\r\n  translatedText: \"string\";\r\n  showHomework: boolean = true;\r\n  viewHomework: boolean = false;\r\n  public searchText: string;\r\n  public spinnerText: string = 'Loading...';\r\n  public showUrlSection: boolean = false;\r\n  public showAttachmentSection: boolean = false;\r\n  public selectedClass: any;\r\n  public userdata: any;\r\n  public selectedDate: string;\r\n  public dueDate: any;\r\n  public minDate: any;\r\n  public en: String;\r\n  public hi: String;\r\n  public Classes: any = [];\r\n  public Sections: any = [];\r\n  public Subjects: any = [];\r\n  public subjectList: any = [];\r\n  public teacherList: any = [];\r\n  public selectedSection: any;\r\n  public selectedSubject: any;\r\n  public selectedTeacher: any;\r\n  public UrlLink: String = \"\";\r\n  public UrlLinks: any = [];\r\n  public selectedUrl: any;\r\n  public attachmentFiles: File[] = [];\r\n  public attachment: File = null;\r\n  public selectedLanguage: any;\r\n  public description: string;\r\n  public LanguageList: any[] = [];\r\n  public selectedViewTeacher: any;\r\n  public viewDate: string;\r\n  public dropdownSettings: IDropdownSettings = {};\r\n  public sectionIds: string = \"\"\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Description Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      },\r\n    ]\r\n  };\r\n\r\n\r\n  public DashboardData: any;\r\n  studentUpload: boolean = true;\r\n  showAddHomework: boolean = false;\r\n  addBtnText: string = 'Add Homework'\r\n\r\n  /*Google transliteration*/\r\n  // description: \"string\"\r\n\r\n  //@ViewChild('sinhalaTextInput') sinhalaTextInput: ElementRef;\r\n  selectedlang: string = \"ENGLISH\";\r\n  ngAfterViewInit() {\r\n    // google.load(\"elements\", \"1\", {\r\n    //   packages: \"transliteration\"\r\n    // });\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      // this.control.toggleTransliteration();\r\n      this.control.disableTransliteration();\r\n    }\r\n    // google.setOnLoadCallback(this.onLoad(lang));\r\n  }\r\n  public onLoad() {\r\n    $('#TranslationArea').find('.angular-editor-textarea').prop('id', 'homeworktext');\r\n    $('#TranslationArea1').find('.angular-editor-textarea').prop('id', 'assignmenttext');\r\n    $('#TranslationArea2').find('.angular-editor-textarea').prop('id', 'editDescription');\r\n    // const elements1 = this.descriptionText1.nativeElement;\r\n    // const elements2 = this.descriptionText2.nativeElement;\r\n\r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['homeworktext', 'assignmenttext', 'editDescription']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n\r\n\r\n  loadViewHomework() {\r\n    if (this.showHomework == true) {\r\n      this.viewHomework = true;\r\n      this.showHomework = false;\r\n      $('#viewhomework1').attr('class', 'nav-link active').trigger('click');\r\n      $('#viewhomework').attr('class', 'tab-pane fade active show');\r\n      $('#Edithomework1').attr('class', 'nav-link');\r\n      $('#Edithomework').attr('class', 'tab-pane fade');\r\n      $('#Viewstatus1').attr('class', 'nav-link');\r\n      $('#Viewstatus').attr('class', 'tab-pane fade');\r\n      \r\n    }\r\n    else {\r\n      this.viewHomework = false;\r\n      this.showHomework = true;\r\n      this.pageName = 'Homework';\r\n      this.loadViewTable(this.pageName);\r\n      this.changePageName(this.pageName);\r\n      this.showAddHomework = true;\r\n      this.addHomework();\r\n      $('#homework').attr('class', 'nav-link active');\r\n      $('#assignment').attr('class', 'nav-link');\r\n    }\r\n  }\r\n\r\n\r\n  constructor(private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private sanitizer: DomSanitizer,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>,\r\n    private downloadService: DownloadService,\r\n    private common: CommonclassService) {\r\n  }\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  // Download File\r\n  // downlaodAttachment(url) {\r\n  //   // this.downloadService.SaveFile(url);\r\n\r\n  // }\r\n  downlaodAttachment(url): void {\r\n    let ext = this.getFileExtension(url);\r\n    this.downloadService.download(url).subscribe(blob => {\r\n      const a = document.createElement('a')\r\n      const objectUrl = URL.createObjectURL(blob)\r\n      a.href = objectUrl\r\n      a.download = 'download.' + ext;\r\n      a.click();\r\n      URL.revokeObjectURL(objectUrl);\r\n    });\r\n  }\r\n\r\n  pageName: string = 'Homework';\r\n  changePageName(text: string) {\r\n    this.pageName = text;\r\n    this.showAddHomework = true;\r\n    this.addHomework();\r\n  }\r\n  addHomework() {\r\n    if (this.showAddHomework == false) {\r\n      this.showAddHomework = true;\r\n      this.addBtnText = 'Cancel ' + this.pageName;\r\n    }\r\n    else {\r\n      this.showAddHomework = false;\r\n      this.addBtnText = 'Add ' + this.pageName;\r\n      this.Reset();\r\n    }\r\n  }\r\n  sendViewHomeworkData(viewData: any) {\r\n    this.viewData = viewData;\r\n    Object.assign(this.viewData, { 'PageName': this.pageName, 'Teacher': this.selectedTeacher });\r\n    this.getReadStatus();\r\n    // console.log('view Data :', this.viewData);\r\n    // this.data.changeData(viewData);\r\n  }\r\n  ngOnInit(): void {\r\n    // debugger;\r\n    // this.descriptionText.nativeElement;\r\n    this.userdata = this.common.storage.get(\"user\");\r\n    // console.log('User Data: ', this.userdata);\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.DashboardData = this.common.storage.get('DashboardData');\r\n    this.viewHomework = false;\r\n    this.showHomework = true;\r\n    this.selectedDate = this.today;\r\n    this.minDate = this.ngbCalendar.getToday();\r\n    this.selectedClass = 0;\r\n    this.selectedSection = 0;\r\n    this.selectedSubject = 0;\r\n    this.selectedLanguage = 0;\r\n    this.selectedTeacher = { 'TeacherId': this.userdata.TeacherID, \"UserId\": this.userdata.UserID };\r\n    this.selectedViewTeacher = { 'TeacherId': this.userdata.TeacherID, \"UserId\": this.userdata.UserID };\r\n    this.viewClassSection = 0;\r\n    this.viewSubject = 0;\r\n    this.studentUpload = true;\r\n    this.loadTeacher();\r\n    this.loadLanguages();\r\n    // this.loadViewTable('homework');\r\n    //this.loadClass();  \r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'SectionId',\r\n      textField: 'SectionName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: false\r\n    };\r\n  }\r\n  //Load Translate languages \r\n  loadLanguages() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n      (data) => {\r\n        // console.log('Translator language:', data);\r\n        var responsen: any = data;\r\n        if (responsen.code == 'OK') {\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  // Save Homework Method\r\n  savehomework(Type: string) {\r\n    var homeworkType = Type;\r\n    if (homeworkType == 'Homework') {\r\n      var allowStudentUpload = 'No';\r\n    }\r\n    if (homeworkType == 'Assignment' && this.studentUpload == true) {\r\n      allowStudentUpload = 'Yes';\r\n    }\r\n    else {\r\n      allowStudentUpload = 'No';\r\n    }\r\n    if (this.selectedClass == 0 || this.selectedClass == undefined) {\r\n      this.toastr.warning('Please Select Class.', 'Send ' + this.pageName)\r\n      return;\r\n    }\r\n\r\n    if (this.sectionIds == \"\" || this.sectionIds == null) {\r\n      this.toastr.warning('Please Select Sections.', 'Send ' + this.pageName);\r\n      return;\r\n    }\r\n\r\n    if (this.selectedSection == undefined || this.selectedSubject == 0) {\r\n      this.toastr.warning('Please Select Subject.', 'Send ' + this.pageName);\r\n      return;\r\n    }\r\n\r\n    if (this.dueDate == \"\" || this.dueDate == undefined) {\r\n      this.toastr.warning('Please Select Due Date.', 'Send ' + this.pageName);\r\n      return;\r\n    }\r\n\r\n    let youtubeUrl = \"\"\r\n    if (this.UrlLinks.length > 0) {\r\n      for (let i = 0; i < this.UrlLinks.length; i++) {\r\n        if (youtubeUrl == \"\") {\r\n          youtubeUrl = youtubeUrl + this.UrlLinks[i].youtubeurl\r\n        }\r\n        else {\r\n          youtubeUrl = youtubeUrl + \",\" + this.UrlLinks[i].youtubeurl;\r\n        }\r\n      }\r\n    }\r\n    this.description = this.translatedText;\r\n    // console.log('description: ', this.description);\r\n    if (this.description == \"\" || this.description == null || this.description == undefined) {\r\n      this.toastr.warning(\"Please Write Description.\", 'Send ' + this.pageName);\r\n      return;\r\n    }\r\n    if (this.UrlLink == \"\") {\r\n    }\r\n    else {\r\n      this.toastr.warning('Please Add the YouTube Url', 'Send ' + this.pageName);\r\n      return;\r\n    }\r\n    let formData: FormData = new FormData();\r\n    formData.append(\"ClassId\", this.selectedClass.ClassId.toString());\r\n    formData.append('SectionIds', this.sectionIds.toString());\r\n    formData.append('SubjectId', this.selectedSubject.SubjectId.toString());\r\n    formData.append('SubjectName', this.selectedSubject.SubjectName.toString());\r\n    if (this.dueDate.split('-')[1].length == 1) {\r\n      this.dueDate = this.dueDate.split('-')[0] + '-0' + this.dueDate.split('-')[1] + '-' + this.dueDate.split('-')[2];\r\n      formData.append('DueDate', this.dueDate.toString());\r\n    }\r\n    else {\r\n      formData.append('DueDate', this.dueDate.toString());\r\n    }\r\n    formData.append('Content', this.description.toString());\r\n    formData.append('YoutubeURL', youtubeUrl.toString());\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let index = 0; index < this.attachmentFiles.length; index++) {\r\n        formData.append('files', this.attachmentFiles[index])\r\n      }\r\n    }\r\n    formData.append('DbName', this.common.storage.get('DBName').toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId').toString());\r\n    formData.append('TeacherId', this.selectedTeacher.TeacherId.toString());\r\n    formData.append('UserId', this.selectedTeacher.UserId.toString())\r\n    formData.append('AllowStudentUpload', allowStudentUpload);\r\n    formData.append('SessionId', this.common.storage.get('SessionId').toString());\r\n    formData.append('SessionName', \"2020-21\");\r\n    formData.append('HomeworkType', homeworkType);\r\n    this.spinnerService.show()\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + \"SaveHomeWork\", formData).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == \"OK\") {\r\n          this.toastr.success(response.message, 'Send ' + this.pageName);\r\n          this.Reset();\r\n          this.loadViewTable(this.pageName);\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          Swal.fire('', response.message, 'error');\r\n          this.Reset();\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  onItemSelect(item: any) {\r\n    var arr: any[] = []\r\n    arr.push(item)\r\n    this.loadSubject(arr);\r\n  }\r\n  onSelectAll(items: any) {\r\n    this.loadSubject(items);\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    this.loadSubject(this.selectedSection)\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n  // Load Teacher method\r\n  loadTeacher() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getteacherforhomework?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID, options).subscribe(\r\n        (data) => {\r\n          this.teacherList = data;\r\n          this.teacherList = this.teacherList.data;\r\n          debugger\r\n          console.log('Teacher list: ', this.teacherList);\r\n          if ((this.userdata.Role == 'Admin' || this.userdata.Role == 'User') && this.userdata.TeacherID == 0) {\r\n            this.selectedTeacher = { 'TeacherId': this.userdata.TeacherID, 'UserId': this.userdata.UserID };\r\n            this.selectedViewTeacher = { 'TeacherId': this.userdata.TeacherID, 'UserId': this.userdata.UserID };\r\n            // this.loadClass();\r\n            // this.loadViewClass();\r\n            this.loadViewTable(this.pageName);\r\n          }\r\n          else {\r\n            this.selectedTeacher = this.teacherList[this.teacherList.findIndex(x => x.UserId == this.userdata.UserID)];\r\n            this.selectedViewTeacher = this.teacherList[this.teacherList.findIndex(x => x.UserId == this.userdata.UserID)];\r\n            if (this.selectedTeacher == undefined && this.selectedViewTeacher == undefined) {\r\n              this.selectedTeacher = { 'TeacherId': 0, 'UserId': this.userdata.UserID };\r\n              this.selectedViewTeacher = { 'TeacherId': 0, 'UserId': this.userdata.UserID };\r\n            }\r\n            else {\r\n              this.loadClass();\r\n              this.loadViewClass();\r\n            }\r\n            this.loadViewTable(this.pageName);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //load class method\r\n  loadClass() {\r\n    this.selectedClass = 0;\r\n    this.selectedSection = 0;\r\n    this.selectedSubject = 0;\r\n    // this.subjectList = [];\r\n    this.showUploadField = false;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId, options).subscribe(\r\n        (data) => {\r\n          // console.log(data);\r\n          this.Classes = data;\r\n          this.Classes = this.Classes.data.Classess;\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Section \r\n  loadSection(Class: any) {\r\n    if (Class == 0) {\r\n      return\r\n    }\r\n    else {\r\n      var classId = Class.ClassId;\r\n    }\r\n    this.selectedSection = 0;\r\n    this.selectedSubject = 0;\r\n    // this.subjectList = [];\r\n    this.showUploadField = false;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId + \"&ClassId=\" + classId, options).subscribe(\r\n        (data) => {\r\n          // console.log(data);\r\n          this.Sections = data;\r\n          this.Sections = this.Sections.data.Sections;\r\n          if (this.Sections.length == 1) {\r\n            this.selectedSection = this.Sections;\r\n            this.loadSubject(this.selectedSection);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load subject\r\n  loadSubject(section: any) {\r\n    if (section.length > 1) {\r\n      this.selectedSection = section;\r\n    }\r\n    this.showUploadField = false;\r\n    this.Subjects = [];\r\n    this.selectedSubject = 0;\r\n    //this.selectedSection.Array.push(section);\r\n    var sectionList = this.selectedSection\r\n    this.sectionIds = \"\"\r\n    for (let i = 0; i < sectionList.length; i++) {\r\n      if (this.sectionIds == \"\") {\r\n        this.sectionIds = this.sectionIds + sectionList[i].SectionId;\r\n      }\r\n      else {\r\n        this.sectionIds = this.sectionIds + \",\" + sectionList[i].SectionId;\r\n      }\r\n    }\r\n    // console.log(this.sectionIds)\r\n    if (section == 0) {\r\n      this.showUploadField = false;\r\n      this.Subjects = [];\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId\r\n      + \"&ClassId=\" + this.selectedClass.ClassId + \"&SectionId=\" + this.sectionIds, options).subscribe(\r\n        (data) => {\r\n          this.Subjects = data;\r\n          this.Subjects = this.Subjects.data.Subjects;\r\n          //this.subjectList = this.Subjects;\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Change Subject \r\n  showUploadField: boolean = false;\r\n  public returnMessage: any = [];\r\n\r\n  // check for the homework entry on this perticular day\r\n  changeSubject(type: string) {\r\n    if (this.selectedSubject == \"0\" || this.selectedSubject == undefined) {\r\n      this.showUploadField = false;\r\n    }\r\n    else {\r\n      let headers = new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      });\r\n      let options = {\r\n        headers: headers\r\n      }\r\n      this.http.get(this.common.Baseurl + \"checktodayhomeworkexist?DbName=\" + this.common.storage.get('DBName')\r\n        + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId\r\n        + \"&ClassId=\" + this.selectedClass.ClassId + \"&SectionIds=\" + this.sectionIds + \"&SubjectId=\" + this.selectedSubject.SubjectId\r\n        + \"&HomeworkType=\" + type, options).subscribe(\r\n          (res) => {\r\n            this.returnMessage = res;\r\n            if (this.returnMessage.message == \"Allow\") {\r\n              this.showUploadField = true;\r\n            }\r\n            else {\r\n              this.toastr.warning(this.returnMessage.message);\r\n              // this.subjectList = [];\r\n              this.showUploadField = false;\r\n              return;\r\n            }\r\n            //this.subjectList = this.Subjects;\r\n          },\r\n          (err) => {\r\n            if (err.status === 400) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n\r\n  //Add Url links\r\n  addUrl() {\r\n    if (this.UrlLink == undefined || this.UrlLink == \"\") {\r\n      this.toastr.warning('Please enter Url.');\r\n      return;\r\n    }\r\n    if (this.UrlLinks.length >= 3) {\r\n      this.toastr.warning('You can attach upto 3 links.');\r\n      return;\r\n    }\r\n    var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n    var verifyUrl = this.UrlLink.match(regExp);\r\n    if (verifyUrl && verifyUrl[2].length == 11) {\r\n      this.showUrlSection = true;\r\n      this.UrlLinks.push({ 'youtubeurl': this.UrlLink, 'imagePath': '../../assets/images/YouTube-icon.jpg' });\r\n      this.UrlLink = \"\";\r\n      // console.log(this.UrlLinks);\r\n    }\r\n    else {\r\n      this.toastr.warning('Invalid YouTube URL.');\r\n      this.UrlLink = \"\";\r\n      return;\r\n    }\r\n  }\r\n  //Remove Urls\r\n  removeUrl(index) {\r\n    this.UrlLinks.splice(index, 1);\r\n    if (this.UrlLinks.length == 0) {\r\n      this.showUrlSection = false;\r\n    }\r\n  }\r\n  // file upload change method\r\n  public fileURL: any;\r\n  public fileURLs: any[] = [];\r\n  compressedImages: any = [];\r\n\r\n  // file upload change event\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      this.showAttachmentSection = true;\r\n      // console.log('File Before Upload', this.attachment);\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Send ' + this.pageName);\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length == 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Send ' + this.pageName);\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Send ' + this.pageName);\r\n          this.attachment = null;\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                // console.log('File After Compress: ', this.attachment);\r\n                // console.log('File Size After Compress :', Math.round(this.attachment.size / 1024) + 'KB');\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n                (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n            (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'application/msword' || ext == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\r\n        this.fileURL = './assets/images/docx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'application/vnd.ms-excel' || ext == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\r\n        this.fileURL = './assets/images/xlsx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'application/vnd.ms-powerpoint' || ext == 'application/vnd.openxmlformats-officedocument.presentationml.presentation') {\r\n        this.fileURL = './assets/images/pptx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'text/plain') {\r\n        this.fileURL = './assets/images/txt-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'audio/mpeg' || ext == 'audio/x-m4a') {\r\n        if (Math.round(this.attachment.size / 1024) > 5120) {\r\n          this.toastr.warning('Audio file size should be less than 5MB.');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n          return;\r\n        }\r\n        this.fileURL = './assets/images/mp3-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else if (ext == 'video/mp4') {\r\n        if (Math.round(this.attachment.size / 1024) > 10240) {\r\n          this.toastr.warning('Video file size should be less than 10MB.');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n          return;\r\n        }\r\n        this.fileURL = './assets/images/mp4-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format', 'Send ' + this.pageName);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Send ' + this.pageName);\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n    }\r\n    // console.log(this.attachmentFiles);\r\n    // console.log(this.fileURLs);\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n    if (this.attachmentFiles.length == 0) {\r\n      this.showAttachmentSection = false;\r\n    }\r\n  }\r\n\r\n  // Load View Homework Class Section List \r\n  // GetClassSectionSubjects\r\n  public viewClassList: any = [];\r\n  viewClassSection: any;\r\n  loadViewClass() {\r\n    if (this.selectedViewTeacher == 0) {\r\n      this.viewClassList = []\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedViewTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedViewTeacher.UserId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.viewClassList = res;\r\n          this.viewClassList = this.viewClassList.data;\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load view subject\r\n  viewSubejctList: any = [];\r\n  viewSubject: any;\r\n\r\n  loadViewSubject() {\r\n    if (this.viewClassSection == 0) {\r\n      this.viewSubject = 0;\r\n      this.viewSubejctList = []\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedViewTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedViewTeacher.UserId\r\n      + \"&SectionId=\" + this.viewClassSection.SectionId + \"&ClassId=\" + this.viewClassSection.ClassId, options).subscribe(\r\n        (res) => {\r\n          this.viewSubejctList = res;\r\n          this.viewSubejctList = this.viewSubejctList.data.Subjects;\r\n          // console.log(this.viewSubejctList)\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //view date chnage\r\n  viewDateChange(viewDate) {\r\n    // console.log('view date change ',viewDate);\r\n  }\r\n  // Load View Edit Homework table\r\n  public viewHomeworkTabel: any = [];\r\n  public viewData: any = []\r\n\r\n  // Load View Table For Homework and Assignment\r\n  loadViewTable(type: string) {\r\n    var homeworkType = type;\r\n    if (this.selectedViewTeacher == 0) {\r\n      var TeacherId = 0\r\n      var UserId = 0\r\n    }\r\n    else {\r\n      TeacherId = this.selectedViewTeacher.TeacherId\r\n      UserId = this.selectedViewTeacher.UserId\r\n    }\r\n    if (this.viewDate == \"\" || this.viewDate == undefined) {\r\n      var homeDate = \"\"\r\n    }\r\n    else {\r\n      if (parseInt(this.viewDate.split('-')[0]) < 10 && parseInt(this.viewDate.split('-')[1]) < 10) {\r\n        homeDate = this.viewDate.split('-')[2] + '-0' + this.viewDate.split('-')[1] + '-0' + this.viewDate.split('-')[0]\r\n      }\r\n      else if (parseInt(this.viewDate.split('-')[0]) < 10 && parseInt(this.viewDate.split('-')[1]) > 10) {\r\n        homeDate = this.viewDate.split('-')[2] + '-' + this.viewDate.split('-')[1] + '-0' + this.viewDate.split('-')[0]\r\n      }\r\n      else if (parseInt(this.viewDate.split('-')[0]) > 10 && parseInt(this.viewDate.split('-')[1]) < 10) {\r\n        homeDate = this.viewDate.split('-')[2] + '-0' + this.viewDate.split('-')[1] + '-' + this.viewDate.split('-')[0]\r\n      }\r\n      else {\r\n        homeDate = this.viewDate.split('-')[2] + '-' + this.viewDate.split('-')[1] + '-' + this.viewDate.split('-')[0]\r\n      }\r\n    }\r\n    if (this.viewClassSection == 0 || this.viewClassSection == undefined) {\r\n      var ClassId = 0;\r\n      var SectionId = 0;\r\n    }\r\n    else {\r\n      SectionId = this.viewClassSection.SectionId;\r\n      ClassId = this.viewClassSection.ClassId;\r\n    }\r\n    if (this.viewSubject == 0 || this.viewSubject == undefined) {\r\n      var subjectId = 0;\r\n    }\r\n    else {\r\n      subjectId = this.viewSubject.SubjectId;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"GetAssignedHomeWork?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + UserId\r\n      + \"&SectionId=\" + SectionId + \"&ClassId=\" + ClassId + \"&SubjectId=\" + subjectId\r\n      + \"&HomeworkType=\" + homeworkType + \"&NextData=\" + this.page + \"&HomeDate=\" + homeDate, options).subscribe(\r\n        (res) => {\r\n          this.viewData = res\r\n          // console.log('View Data ',this.viewData);\r\n          if (this.viewData.code == \"OK\") {\r\n            this.viewHomeworkTabel = this.viewData.data;\r\n            for (let index = 0; index < this.viewHomeworkTabel.length; index++) {\r\n              for (let i = 0; i < this.viewHomeworkTabel[index].Attachment.length; i++) {\r\n                var ext = this.getFileExtension(this.viewHomeworkTabel[index].Attachment[i].attachmentpath);\r\n                if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': this.viewHomeworkTabel[index].Attachment[i].attachmentpath,\r\n                    'ext': ext,\r\n                    'viewPath': this.viewHomeworkTabel[index].Attachment[i].attachmentpath\r\n                  });\r\n                }\r\n                else if (ext == 'pdf') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/pdf-icon.jpg',\r\n                    'ext': ext,\r\n                    'viewPath': this.sanitizer.bypassSecurityTrustResourceUrl(this.viewHomeworkTabel[index].Attachment[i].attachmentpath)\r\n                  });\r\n                }\r\n                else if (ext == 'doc' || ext == 'docx') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/docx-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.sanitizer.bypassSecurityTrustResourceUrl(this.viewHomeworkTabel[index].Attachment[i].attachmentpath)\r\n                  });\r\n                }\r\n                else if (ext == 'xls' || ext == 'xlsx') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/xlsx-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.sanitizer.bypassSecurityTrustResourceUrl(this.viewHomeworkTabel[index].Attachment[i].attachmentpath)\r\n                  });\r\n                }\r\n                else if (ext == 'ppt' || ext == 'pptx') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/pptx-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.sanitizer.bypassSecurityTrustResourceUrl(this.viewHomeworkTabel[index].Attachment[i].attachmentpath)\r\n                  });\r\n                }\r\n                else if (ext == 'txt') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/txt-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.sanitizer.bypassSecurityTrustResourceUrl(this.viewHomeworkTabel[index].Attachment[i].attachmentpath)\r\n                  });\r\n                }\r\n                else if (ext == 'mp3' || ext == 'm4a') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/mp3-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.viewHomeworkTabel[index].Attachment[i].attachmentpath\r\n                  });\r\n                }\r\n                else if (ext == 'mp4' || ext == 'mkv') {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/mp4-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.viewHomeworkTabel[index].Attachment[i].attachmentpath\r\n                  });\r\n                }\r\n                else {\r\n                  Object.assign(this.viewHomeworkTabel[index].Attachment[i], {\r\n                    'displayPath': '../../assets/images/file-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.viewHomeworkTabel[index].Attachment[i].attachmentpath\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.viewHomeworkTabel = [];\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  };\r\n\r\n  // Reset Method\r\n  Reset() {\r\n    this.selectedClass = 0;\r\n    this.selectedSection = 0;\r\n    this.Sections = []\r\n    this.selectedSubject = 0;\r\n    this.Subjects = []\r\n    this.description = \"\";\r\n    this.dueDate = \"\";\r\n    this.UrlLinks = [];\r\n    this.attachmentFiles = [];\r\n    this.attachment = null;\r\n    this.fileURL = '';\r\n    this.fileURLs = [];\r\n    this.UrlLink = '';\r\n    this.page = 1;\r\n    this.translatedText = null;\r\n    this.selectedlang = 'ENGLISH';\r\n    // this.ngAfterViewInit();\r\n    this.langchange(this.selectedlang);\r\n  }\r\n\r\n  // Edit Homework\r\n  editDueDate: string;\r\n  viewPopupData: any = [];\r\n  editData: any = [];\r\n  editAttachmentList: any[] = [];\r\n  editYoutubeUrlList: any = [];\r\n  editUrlList: any[] = [];\r\n  editUrlLink: string = \"\"\r\n\r\n  editAttachment: File = null;\r\n  updateNewAttachment: File[] = []\r\n  updateNewFileLink: any;\r\n  updateNewFileLinks: any[] = [];\r\n\r\n  changeActive(homeId: string, status: string, PageName: string) {\r\n    if (status == 'Y') {\r\n      var statusValue = 'Inactive';\r\n    }\r\n    else {\r\n      statusValue = 'Active';\r\n    }\r\n    Swal.fire({\r\n      title: '' + PageName + ' Status',\r\n      text: 'Are you sure to ' + statusValue + ' this ' + PageName + ' ?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.http.get(this.common.Baseurl + 'updatehomeworkstatus?DbName=' + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.selectedViewTeacher.UserId + '&Status=' + statusValue + \"&HomeId=\" + homeId, options).subscribe(\r\n            response => {\r\n              var res: any = response\r\n              if (res.code == 'OK') {\r\n                this.toastr.success(res.message);\r\n                this.loadViewTable(this.pageName);\r\n              }\r\n              else {\r\n                this.toastr.warning(res.message);\r\n              }\r\n            },\r\n            err => {\r\n              console.log(err);\r\n            }\r\n          )\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  //Reset for view Homework or assignment table\r\n  resetTable(type: string) {\r\n    this.selectedViewTeacher = this.selectedTeacher;\r\n    this.loadViewClass();\r\n    this.viewDate = \"\";\r\n    this.viewClassSection = 0;\r\n    this.viewSubject = 0;\r\n    this.page = 1;\r\n    this.loadViewTable(type);\r\n  }\r\n  //Pagination Page Change\r\n  page: number = 1;\r\n  // pageSize:number = 10;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + value;\r\n    this.loadViewTable(this.pageName);\r\n  }\r\n\r\n  // ------------------------- Code For View and Edit Homework ----------------------------------------------\r\n\r\n  viewStatus: any = [];\r\n  editYouTubeUrl: any[] = [];\r\n  editYouTubeUrlList: any[] = [];\r\n  editUrl: string;\r\n\r\n  editButtonActive: boolean = false;\r\n  editHomework() {\r\n    this.editYouTubeUrl = [];\r\n    this.editYouTubeUrlList = [];\r\n    this.editAttachmentList = [];\r\n    this.fileURLs = [];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"edithomework?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.viewData.Teacher.TeacherId + \"&UserId=\" + this.viewData.Teacher.UserId\r\n      + \"&HomeId=\" + this.viewData.HomeId, options).subscribe(\r\n        (res) => {\r\n          // console.log('Edit Data: ', res);\r\n          this.editData = res;\r\n          if (this.editData.code == 'OK') {\r\n            this.editButtonActive = true;\r\n            this.editData = this.editData.data;\r\n            this.editDueDate = this.editData.dueDate;\r\n            // this.editContent = this.editData.Content;\r\n            this.translatedText = this.editData.Content;\r\n            this.editDueDate = this.editDueDate.split('-')[2] + '-' + this.editDueDate.split('-')[1] + '-' + this.editDueDate.split('-')[0];\r\n            this.editYouTubeUrl = this.editData.Youtubeurl;\r\n            for (let i = 0; i < this.editYouTubeUrl.length; i++) {\r\n              Object.assign(this.editYouTubeUrl[i], { 'displayPath': '../../assets/images/YouTube-icon.jpg' });\r\n            }\r\n            for (let i = 0; i < this.editYouTubeUrl.length; i++) {\r\n              this.editYouTubeUrlList.push({\r\n                'youtubeurl': this.editYouTubeUrl[i].youtubeurl\r\n              });\r\n            }\r\n            this.editAttachmentList = this.editData.Attachment;\r\n            for (let index = 0; index < this.editAttachmentList.length; index++) {\r\n              var ext = this.getFileExtension(this.editAttachmentList[index].attachment);\r\n              if (ext == 'jpg' || ext == 'png' || ext == 'jpeg') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': this.editAttachmentList[index].attachment })\r\n              }\r\n              else if (ext == 'pdf') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/pdf-icon.jpg' });\r\n              }\r\n              else if (ext == 'docx' || ext == 'doc') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/docx-icon.png' });\r\n              }\r\n              else if (ext == 'ppt' || ext == 'pptx') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/pptx-icon.png' });\r\n              }\r\n              else if (ext == 'xlsx' || ext == 'xls') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/xlsx-icon.png' });\r\n              }\r\n              else if (ext == 'mp4') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/mp4-icon.png' });\r\n              }\r\n              else if (ext == 'txt') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/txt-icon.png' });\r\n              }\r\n              else if (ext == 'mp3' || ext == 'm4a') {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '../../assets/images/mp3-icon.png' });\r\n              }\r\n              else {\r\n                Object.assign(this.editAttachmentList[index], { 'imagePath': '' });\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            this.editButtonActive = false;\r\n            this.toastr.warning('You cant edit because students have already viewed Assignment.', 'Edit ' + this.pageName);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Add Edit YouTube Url\r\n  addEditUrl() {\r\n    if (this.editUrl == undefined || this.editUrl == \"\") {\r\n      this.toastr.warning('Please enter Url.');\r\n      return;\r\n    }\r\n    var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n    var verifyUrl = this.editUrl.match(regExp);\r\n    if (verifyUrl && verifyUrl[2].length == 11) {\r\n      this.editYouTubeUrl.push({\r\n        'youtubeurl': this.editUrl,\r\n        'displayPath': '../../assets/images/YouTube-icon.jpg'\r\n      });\r\n      this.editYouTubeUrlList.push({ 'youtubeurl': this.editUrl });\r\n      this.editUrl = \"\";\r\n      // console.log(this.editYouTubeUrl);\r\n      // console.log(this.editYouTubeUrlList);\r\n    }\r\n    else {\r\n      this.toastr.warning('Invalid YouTube URL.');\r\n      this.editUrl = \"\";\r\n      return;\r\n    }\r\n  }\r\n  // Remove Edit YouTube Url\r\n  removeEditUrl(index) {\r\n    this.editYouTubeUrl.splice(index, 1);\r\n    this.editYouTubeUrlList.splice(index, 1);\r\n  }\r\n\r\n\r\n  viewFileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      // console.log('File Before Upload', this.attachment);\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Update ' + this.pageName);\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if ((this.attachmentFiles.length + this.editAttachmentList.length) >= 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Update ' + this.pageName);\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Update ' + this.pageName);\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                // console.log('File After Compress: ', this.attachment);\r\n                // console.log('File Size After Compress :', Math.round(this.attachment.size / 1024) + 'KB');\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'application/msword' || ext == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\r\n        this.fileURL = './assets/images/docx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'application/vnd.ms-excel' || ext == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\r\n        this.fileURL = './assets/images/xlsx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'application/vnd.ms-powerpoint' || ext == 'application/vnd.openxmlformats-officedocument.presentationml.presentation') {\r\n        this.fileURL = './assets/images/pptx-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'text/plain') {\r\n        this.fileURL = './assets/images/txt-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'audio/mpeg' || ext == 'audio/x-m4a') {\r\n        if (Math.round(this.attachment.size / 1024) > 5120) {\r\n          this.toastr.warning('Audio file size should be less than 5MB.');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n          return;\r\n        }\r\n        this.fileURL = './assets/images/mp3-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else if (ext == 'video/mp4') {\r\n        if (Math.round(this.attachment.size / 1024) > 10240) {\r\n          this.toastr.warning('Video file size should be less than 10MB.');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n          return;\r\n        }\r\n        this.fileURL = './assets/images/mp4-icon.png';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format');\r\n        (<HTMLInputElement>document.getElementById('editFile')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.');\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  // Remove edit attachment\r\n  removeEditAttachment(index) {\r\n    this.editAttachmentList.splice(index, 1);\r\n  }\r\n  // Remove New attachment\r\n  removeNewAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n  editContent: string = '';\r\n  //Update Homework \r\n  updateHomework(type: string) {\r\n    var homeworkType = type;\r\n    this.editContent = this.translatedText;\r\n    if (this.editContent == undefined || this.editContent == null || this.editContent == '') {\r\n      this.toastr.warning('Please enter ' + homeworkType + ' description', 'Update ' + homeworkType);\r\n      return;\r\n    }\r\n    let formData: FormData = new FormData();\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let index = 0; index < this.attachmentFiles.length; index++) {\r\n        formData.append('files', this.attachmentFiles[index])\r\n      }\r\n    }\r\n    var editAttachment: any[] = []\r\n    for (let i = 0; i < this.editAttachmentList.length; i++) {\r\n      editAttachment.push({ 'attachment': this.editAttachmentList[i].attachment });\r\n    }\r\n    // console.log(editAttachment);\r\n    let youtubeUrl = \"\"\r\n    if (this.editYouTubeUrlList.length > 0) {\r\n      for (let i = 0; i < this.editYouTubeUrlList.length; i++) {\r\n        if (youtubeUrl == \"\") {\r\n          youtubeUrl = youtubeUrl + this.editYouTubeUrlList[i].youtubeurl\r\n        }\r\n        else {\r\n          youtubeUrl = youtubeUrl + \",\" + this.editYouTubeUrlList[i].youtubeurl;\r\n        }\r\n      }\r\n    }\r\n    if (this.editUrl == '' || this.editUrl == undefined) {\r\n    }\r\n    else {\r\n      this.toastr.warning('Please add the YouTube Url.', 'Update ' + this.pageName);\r\n      return;\r\n    }\r\n    var dueDate = this.editDueDate.split('-')[2] + '-' + this.editDueDate.split('-')[1] + '-' + this.editDueDate.split('-')[0];\r\n    this.spinnerService.show();\r\n    formData.append('YoutubeURL', youtubeUrl);\r\n    formData.append('DbName', this.common.storage.get('DBName').toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId').toString());\r\n    formData.append('TeacherId', this.viewData.Teacher.TeacherId);\r\n    formData.append('UserId', this.viewData.Teacher.UserId);\r\n    formData.append('SectionIds', this.editData.SectionId);\r\n    formData.append('ClassId', this.editData.ClassId);\r\n    formData.append('SubjectId', this.editData.SubjectId);\r\n    formData.append('Content', this.editContent);\r\n    formData.append('DueDate', dueDate);\r\n    formData.append('HomeworkType', homeworkType);\r\n    formData.append('SessionId', this.common.storage.get('SessionId').toString());\r\n    formData.append('SessionName', '2020-21');\r\n    formData.append('SubjectName', this.editData.SubjectName);\r\n    formData.append('AllowStudentUpload', this.editData.AllowStudentUpload);\r\n    formData.append('ExistingAttachment', JSON.stringify(editAttachment));\r\n    formData.append('HomeId', this.editData.HomeId);\r\n    // call API\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + \"UpdateHomeWork\", formData).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == \"OK\") {\r\n          this.toastr.success(response.message);\r\n          this.loadViewHomework();\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          Swal.fire('', response.message, 'error');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  // Get Read Status \r\n  totalStudent: number = 0;\r\n  viewStudent: number = 0;\r\n  pendingStudents: number = 0;\r\n  getReadStatus() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetHomeWorkReadStatus?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&HomeId=\" + this.viewData.HomeId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.viewStatus = res;\r\n          if (this.viewStatus.code == 'OK') {\r\n            this.viewStatus = this.viewStatus.data;\r\n            // console.log(this.viewStatus);\r\n            this.totalStudent = this.viewStatus.length;\r\n            this.viewStudent = 0;\r\n            this.pendingStudents = 0;\r\n            for (let i = 0; i < this.viewStatus.length; i++) {\r\n              if (this.viewStatus[i].ReadStatus == 'TRUE') {\r\n                this.viewStudent++;\r\n              }\r\n            }\r\n            this.pendingStudents = this.totalStudent - this.viewStudent;\r\n          }\r\n          else {\r\n            this.viewStatus = {};\r\n            this.totalStudent = 0;\r\n            this.viewStudent = 0;\r\n            this.pendingStudents = 0;\r\n            this.toastr.warning(this.viewStatus.message, 'View Homework');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // View Attachment code\r\n  //Attachment view\r\n  imageView: boolean = false;\r\n  audioView: boolean = false;\r\n  videoView: boolean = false;\r\n  pdfView: boolean = false;\r\n  docView: boolean = false;\r\n  filePath: any = '';\r\n  viewAttachment(fileData) {\r\n    this.filePath = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.audioView = false;\r\n      this.videoView = false;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.filePath = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'mp3' || fileData.ext == 'm4a') {\r\n      this.audioView = true;\r\n      this.videoView = false;\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.filePath = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'mp4' || fileData.ext == 'mkv') {\r\n      this.videoView = true;\r\n      this.audioView = false;\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.filePath = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      this.pdfView = true;\r\n      // var path = \"https://docs.google.com/viewer?url=\"+ fileData.attachmentpath +\"&embedded=true\";\r\n      var path = fileData.attachmentpath;\r\n      this.filePath = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      // console.log(this.filePath);\r\n      this.imageView = false;\r\n      this.audioView = false;\r\n      this.docView = false;\r\n      this.videoView = false;\r\n    }\r\n    else if (fileData.ext == 'docx' || fileData.ext == 'doc' || fileData.ext == 'xlsx' || fileData.ext == 'xls' || fileData.ext == 'pptx' || fileData.ext == 'ppt') {\r\n      this.docView = true;\r\n      var path: any = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + fileData.attachmentpath;\r\n      // https://view.officeapps.live.com/op/embed.aspx?src=\r\n      // var path: any = \"https://docs.google.com/gview?url=\" + fileData.attachmentpath +\"&embedded=true\";\r\n      this.filePath = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n      this.audioView = false;\r\n      this.videoView = false;\r\n      this.pdfView = false;\r\n    }\r\n    else {\r\n      this.imageView = true;\r\n      this.audioView = false;\r\n      this.videoView = false;\r\n      this.pdfView = false;\r\n      this.filePath = fileData.displayPath;\r\n    }\r\n  }\r\n  selectedYoutubeUrl: any;\r\n  youtubeVideo(link: any) {\r\n    this.selectedYoutubeUrl = this.sanitizer.bypassSecurityTrustResourceUrl(link);\r\n  }\r\n\r\n  onClickView() {\r\n    $(function () {\r\n      $('#Viewstatus1').addClass('active');\r\n      $('#Viewstatus1').attr('aria-selected', true);\r\n      $('#Viewstatus1').attr('aria-controls', 'Viewstatus');\r\n      $('#viewhomework1').removeClass('active');\r\n    })\r\n  }\r\n\r\n  stopPlayer() {\r\n    if (this.audioView == true || this.videoView == true) {\r\n      $('#player').attr('src', '');\r\n    }\r\n  }\r\n  stopYoutube() {\r\n    $('#youtubevideo').attr('src', '');\r\n  }\r\n}\r\n","<div [hidden]=\"!showHomework\">\r\n    <div class=\"content-wrapper\">\r\n        <!-- /.content-header -->\r\n\r\n        <!-- Main content -->\r\n        <section class=\"content\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"card main-section\">\r\n                            <h3 style=\"margin-top: 10px; margin-left: 10px;\">Manage {{pageName}}</h3>\r\n                            <div class=\"add-new-btn position-btn\">\r\n                                <button (click)=\"addHomework();\">{{ addBtnText }}</button>\r\n                            </div>\r\n                            <div class=\"card-body new-position-div\">\r\n                                <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link active\" id=\"homework\" data-toggle=\"tab\" href=\"#Homework\"\r\n                                            (click)=\"Reset();loadViewTable('Homework');changePageName('Homework');\"\r\n                                            role=\"tab\" aria-controls=\"Homework\" aria-selected=\"true\">Homework\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link\" id=\"assignment\" data-toggle=\"tab\" href=\"#Assignment\"\r\n                                            role=\"tab\"\r\n                                            (click)=\"Reset();loadViewTable('Assignment');changePageName('Assignment');\"\r\n                                            aria-controls=\"Assignment\" aria-selected=\"false\">Assignment\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"tab-content\" id=\"myTabContent\">\r\n                                    <!-- Homework Tab -->\r\n                                    <div class=\"tab-pane fade show active\" id=\"Homework\" role=\"tabpanel\"\r\n                                        aria-labelledby=\"homework\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div [hidden]=\"!showAddHomework\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-lg-12\">\r\n                                                        <h3 class=\"todays-date\" style=\"font-size: medium;\">Date: {{selectedDate}}</h3>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\" *ngIf=\"DashboardData != null ? DashboardData.IsShowTeacherDropDown == 'Y' : true\">\r\n                                                        <label for=\"\">Teacher</label>\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedTeacher\"\r\n                                                            (change)=\"loadClass()\">\r\n                                                            <option [ngValue]=\"selectedTeacher.TeacherId == 0 ? selectedTeacher : 0\">Select Teacher</option>\r\n                                                            <option *ngFor=\"let teacher of teacherList\"\r\n                                                                [ngValue]=\"teacher\">{{ teacher.TeacherName }}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Class</label>\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedClass\"\r\n                                                            (change)=\"loadSection(selectedClass);\">\r\n                                                            <option [ngValue]=\"0\">Select Class</option>\r\n                                                            <option *ngFor=\"let class of Classes\" [ngValue]=\"class\">\r\n                                                                {{class.ClassName}}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-2 form-group multiselect-div\">\r\n                                                        <label for=\"\" class=\"label-control\">Section</label>\r\n                                                        <ng-multiselect-dropdown [placeholder]=\"'Sections'\"\r\n                                                            [data]=\"Sections\" [(ngModel)]=\"selectedSection\"\r\n                                                            [settings]=\"dropdownSettings\"\r\n                                                            (onSelect)=\"onItemSelect($event)\"\r\n                                                            (onSelectAll)=\"onSelectAll($event)\"\r\n                                                            (onDropDownClose)=\"onDropDownClose()\"\r\n                                                            (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                        </ng-multiselect-dropdown>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Subject</label>\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedSubject\"\r\n                                                            (change)=\"changeSubject('Homework');\">\r\n                                                            <option [ngValue]=\"0\">Select Subjects</option>\r\n                                                            <option *ngFor=\"let subject of Subjects\"\r\n                                                                [ngValue]=\"subject\">{{ subject.SubjectName }}\r\n                                                            </option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <!-- <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Date</label>\r\n                                                        <input type=\"text\" class=\"form-control\"\r\n                                                            [(ngModel)]=\"selectedDate\" name=\"d1\" ngbDatepicker\r\n                                                            #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\"\r\n                                                            [disabled]=\"true\" />\r\n                                                    </div> -->\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Due Date</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [minDate]=\"minDate\"\r\n                                                            [(ngModel)]=\"dueDate\" name=\"d1\" ngbDatepicker\r\n                                                            #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\"\r\n                                                            placeholder=\"DD-MM-YYYY\" />\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Language</label>\r\n                                                        <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                            <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                            <option value=\"HINDI\">HINDI</option>\r\n                                                            <option value=\"ORIYA\">ORIYA</option>\r\n                                                            <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                            <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-12 form-group\">\r\n                                                        <label for=\"\">Description</label>\r\n                                                            <angular-editor [(ngModel)]=\"translatedText\" id=\"TranslationArea\" #TranslationArea [config]=\"config\"></angular-editor>\r\n                                                        <!-- <textarea id=\"TranslationArea\" #TranslationArea rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Description Here.\"></textarea> -->\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-4 form-group\">\r\n                                                        <label for=\"\">Youtube URL (Upto 3 links.)</label>\r\n                                                        <div>\r\n                                                            <input type=\"url\" [(ngModel)]=\"UrlLink\" class=\"flleft form-control\">\r\n                                                            <a (click)=\"addUrl()\"><span class=\"add-btnn\">\r\n                                                                <i class=\"fa fa-plus\"></i></span>\r\n                                                            </a>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-4 form-group\">\r\n                                                        <label for=\"\">Attachments (Upto 5 attachments)</label>\r\n                                                        <input type=\"file\" id=\"attachment\"\r\n                                                            (change)=\"fileToUpload($event);\"\r\n                                                            class=\"form-control align_add\"\r\n                                                            accept=\".jpg,.png,.jpeg,.docx,.doc,.xlsx,.xls,.pdf,.txt,.ppt,.pptx,.mp3,.mp4,.m4a\">\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 *ngIf=\"showUrlSection\">Youtube URL</h5>\r\n                                                    <ul *ngIf=\"showUrlSection\" class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let url of UrlLinks; let i = index\">\r\n                                                            <a [href]=\"url.youtubeurl\" target=\"_blank\">\r\n                                                                <img [src]=\"url.imagePath\" [alt]=\"url.youtubeurl\"\r\n                                                                    class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeUrl(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                    <h5 *ngIf=\"showAttachmentSection\">Attachments</h5>\r\n                                                    <ul *ngIf=\"showAttachmentSection\" class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                                            <a [href]=\"filePath\" target=\"_blank\">\r\n                                                                <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeAttachment(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <div class=\"add-new-btn\">\r\n                                                            <button\r\n                                                                (click)=\"savehomework(pageName);\">\r\n                                                                Send {{pageName}}\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                            <p style=\"color: white\">{{spinnerText}}</p>\r\n                                        </ngx-spinner>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-lg-2 form-group\">\r\n                                                <label for=\"\">Home Date</label>\r\n                                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"viewDate\"\r\n                                                    [maxDate]=\"minDate\" name=\"d2\" ngbDatepicker #d2=\"ngbDatepicker\"\r\n                                                    (click)=\"d2.toggle();\" (change)=\"viewDateChange(viewDate);\"\r\n                                                    placeholder=\"DD-MM-YYYY\" />\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\" *ngIf=\"DashboardData != null ? DashboardData.IsShowTeacherDropDown == 'Y' : true\">\r\n                                                <label for=\"\">Teacher</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"selectedViewTeacher\"\r\n                                                    (change)=\"loadViewClass();loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"selectedViewTeacher.TeacherId == 0 ? selectedViewTeacher : {'TeacherId': userdata.TeacherID, 'UserId': userdata.UserID }\">All Teacher</option>\r\n                                                    <option *ngFor=\"let teacher of teacherList\" [ngValue]=\"teacher\">\r\n                                                        {{ teacher.TeacherName }}</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <label for=\"\">Class</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"viewClassSection\"\r\n                                                    (change)=\"loadViewSubject();loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"0\">All Classes</option>\r\n                                                    <option *ngFor=\"let classes of viewClassList\" [ngValue]=\"classes\">\r\n                                                        {{ classes.Class }}</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <label for=\"\">Subject</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"viewSubject\"\r\n                                                    (change)=\"loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"0\">All Subjects</option>\r\n                                                    <option *ngFor=\"let subject of viewSubejctList\" [ngValue]=\"subject\">\r\n                                                        {{ subject.SubjectName }}</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" style=\"margin-top: 29px; height: 33px; line-height: 5px;\" class=\"btn btn-primary\"\r\n                                                    (click)=\"loadViewTable(pageName);\">Show</button>\r\n                                            </div>\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" style=\"margin-top: 29px; height: 33px; line-height: 5px;\" class=\"btn btn-primary\"\r\n                                                    (click)=\"resetTable(pageName);\">Reset</button>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <input type=\"text\" style=\"margin-top: 29px;\" [(ngModel)]=\"searchText\"\r\n                                                    class=\"form-control\" placeholder=\"Search Here\">\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                            <div class=\"col-md-12\" *ngFor=\"let view of viewHomeworkTabel | filter: searchText\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <a href=\"javascript:void(0)\" style=\"cursor: pointer;\" (click)=\"sendViewHomeworkData(view);loadViewHomework();\">\r\n                                                            <div class=\"fllef\">\r\n                                                                <h3 style=\"font-size: 23px;\">{{ view.SubjectName }}\r\n                                                                    <!-- <span><i class=\"fa fa-tag\"></i> {{ view.SubjectName }} </span>  -->\r\n                                                                </h3>\r\n                                                                <h5>{{ view.ClassName }}</h5>\r\n                                                                <h5>Description: <span [innerHtml]=\"view.Content\"></span></h5>\r\n                                                            </div>\r\n                                                        </a>\r\n                                                            <div class=\"fltrigg\">\r\n                                                                <div class=\"row\">\r\n                                                                    <div class=\"col-md-3\">\r\n                                                                        <i *ngIf=\"view.Youtubeurl && view.Youtubeurl.length > 0\" style=\"color: red;margin-top: 34px;font-size: 20px;\" class=\"fab fa-youtube\"></i>\r\n                                                                        <span *ngIf=\"view.Youtubeurl && view.Youtubeurl.length > 0\" style=\"font-weight: bold; float: right; position: absolute; margin-top: 30px; margin-left: 4px;\"> {{view.Youtubeurl.length}}</span>\r\n                                                                    </div>\r\n                                                                    \r\n                                                                    <div class=\"col-md-3\">\r\n                                                                        <i *ngIf=\"view.Attachment && view.Attachment.length > 0\" style=\"color: black;margin-top: 34px;font-size: 20px;\" class=\"fa fa-paperclip\"></i>\r\n                                                                        <span *ngIf=\"view.Attachment && view.Attachment.length > 0\" style=\"font-weight: bold; float: right; position: absolute; margin-top: 30px; margin-left: 4px;\"> {{view.Attachment.length}}</span>\r\n                                                                    </div>\r\n                                                                    <div class=\"col-md-4\">\r\n                                                                        <div *ngIf=\"view.EnableActiveInactive == 'Y' && view.IsActive == 'N' ? true : false\">\r\n                                                                            <a style=\"color: white; margin-top: 30px;\" class=\"btn btn-sm btn-danger\" *ngIf=\"view.EnableActiveInactive == 'Y'\" (click)=\"changeActive(view.HomeId,view.IsActive,pageName);\">\r\n                                                                                <!-- <i class=\"fa fa-thumbs-down\"></i> -->\r\n                                                                                Inactive\r\n                                                                            </a>\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        <div *ngIf=\"view.EnableActiveInactive == 'Y' && view.IsActive == 'Y' ? true : false\">\r\n                                                                            <a style=\"color: white; margin-top: 30px;\" class=\"btn btn-sm btn-success\" *ngIf=\"view.EnableActiveInactive == 'Y'\" (click)=\"changeActive(view.HomeId,view.IsActive,pageName);\">\r\n                                                                                <!-- <i class=\"fa fa-thumbs-up\"></i> -->\r\n                                                                                Active\r\n                                                                            </a>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <!-- <div class=\"col-md-12\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <div class=\"fllef\">\r\n                                                                <h4><a href=\"homework-view.html\">Class Assignment\r\n                                                                        Testing</a> <span><i class=\"fa fa-tag\"></i> Number\r\n                                                                        System </span> </h4>\r\n                                                                <h5>Due May 10, 2020 11:59 PM</h5>\r\n                                                            </div>\r\n                                                            <div class=\"fltrigg\">\r\n    \r\n                                                                <h4><span class=\"thumbup\"><a href=\"\"><i class=\"fa fa-thumbs-up\"></i></a></span></h4>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div> -->\r\n                                        </div>\r\n                                        <div *ngIf=\"viewHomeworkTabel.length == 0\" class=\"row\">\r\n                                            <h4 style=\"margin: 0 auto;\">No Record Found.</h4>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                                    <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                                    Prev\r\n                                                </button>\r\n                                            </div>\r\n                                            <!-- <div class=\"col-md-1 text-center\">\r\n                                                <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                            </div> -->\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" *ngIf=\"viewHomeworkTabel.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                                    <span>Next\r\n                                                        <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                                    </span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- Assignment tab -->\r\n                                    <div class=\"tab-pane fade\" id=\"Assignment\" role=\"tabpanel\"\r\n                                        aria-labelledby=\"assignment\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div [hidden]=\"!showAddHomework\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-lg-12\">\r\n                                                        <h3 class=\"todays-date\" style=\"font-size: medium;\">Date: {{selectedDate}}</h3>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\" *ngIf=\"DashboardData != null ? DashboardData.IsShowTeacherDropDown == 'Y' : true\">\r\n                                                        <label for=\"\">Teacher</label>\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedTeacher\" (change)=\"loadClass()\">\r\n                                                            <option [ngValue]=\"selectedTeacher.TeacherId == 0 ? selectedTeacher : 0\">Select Teacher</option>\r\n                                                            <option *ngFor=\"let teacher of teacherList\"\r\n                                                                [ngValue]=\"teacher\">{{ teacher.TeacherName }}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Class</label>\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedClass\"\r\n                                                            (change)=\"loadSection(selectedClass);\">\r\n                                                            <option [ngValue]=\"0\">Select Class</option>\r\n                                                            <option *ngFor=\"let class of Classes\" [ngValue]=\"class\">\r\n                                                                {{class.ClassName}}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-2 form-group multiselect-div\">\r\n                                                        <label for=\"\" class=\"label-control\">Section</label>\r\n                                                        <ng-multiselect-dropdown [placeholder]=\"'Sections'\"\r\n                                                            [data]=\"Sections\" [(ngModel)]=\"selectedSection\"\r\n                                                            [settings]=\"dropdownSettings\"\r\n                                                            (onSelect)=\"onItemSelect($event)\"\r\n                                                            (onSelectAll)=\"onSelectAll($event)\"\r\n                                                            (onDropDownClose)=\"onDropDownClose()\"\r\n                                                            (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                        </ng-multiselect-dropdown>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Subject</label>\r\n                                                        <!-- <select name=\"\" id=\"\" class=\"form-control\">\r\n                                                            <option value=\"\">Select Subject</option>\r\n                                                            <option value=\"\">English</option>\r\n                                                            <option value=\"\">Hindi</option>\r\n                                                        </select> -->\r\n                                                        <select class=\"form-control\" [(ngModel)]=\"selectedSubject\"\r\n                                                            (change)=\"changeSubject('Homework');\">\r\n                                                            <option [ngValue]=\"0\">Select Subjects</option>\r\n                                                            <option *ngFor=\"let subject of Subjects\"\r\n                                                                [ngValue]=\"subject\">{{ subject.SubjectName }}\r\n                                                            </option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <!-- <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Date</label>\r\n                                                        <input type=\"text\" class=\"form-control\"\r\n                                                            [(ngModel)]=\"selectedDate\" name=\"d1\" ngbDatepicker\r\n                                                            #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\"\r\n                                                            [disabled]=\"true\" />\r\n                                                    </div> -->\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Due Date</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [minDate]=\"minDate\"\r\n                                                            [(ngModel)]=\"dueDate\" name=\"d3\" ngbDatepicker\r\n                                                            #d3=\"ngbDatepicker\" (click)=\"d3.toggle();\"\r\n                                                            placeholder=\"DD-MM-YYYY\" />\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-2 form-group\">\r\n                                                        <label for=\"\">Language</label>\r\n                                                        <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                            <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                            <option value=\"HINDI\">HINDI</option>\r\n                                                            <option value=\"ORIYA\">ORIYA</option>\r\n                                                            <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                            <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-12 form-group\">\r\n                                                        <label for=\"\">Description</label>\r\n                                                        <!-- <textarea id=\"TranslationArea1\" #TranslationArea1 rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Description Here.\"></textarea> -->\r\n                                                        <angular-editor [(ngModel)]=\"translatedText\" id=\"TranslationArea1\" #TranslationArea1 [config]=\"config\"></angular-editor>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-4 form-group\">\r\n                                                        <label for=\"\">Youtube URL (Upto 3 links)</label>\r\n                                                        <div>\r\n                                                            <input type=\"url\" [(ngModel)]=\"UrlLink\"\r\n                                                                class=\"flleft form-control\">\r\n                                                            <span class=\"add-btnn\"><i (click)=\"addUrl()\"\r\n                                                                    class=\"fa fa-plus\"></i></span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"col-lg-4 form-group\">\r\n                                                        <label for=\"\">Attachments (Upto 5 attachments)</label>\r\n                                                        <input type=\"file\" id=\"attachment1\"\r\n                                                            (change)=\"fileToUpload($event);\"\r\n                                                            class=\"form-control align_add\"\r\n                                                            accept=\".jpg,.png,.jpeg,.docx,.doc,.xlsx,.xls,.pdf,.txt,.ppt,.pptx,.mp3,.mp4,.m4a\">\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 *ngIf=\"showUrlSection\">Youtube URL</h5>\r\n                                                    <ul *ngIf=\"showUrlSection\" class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let url of UrlLinks; let i = index\">\r\n                                                            <a [href]=\"url.youtubeurl\" target=\"_blank\">\r\n                                                                <img [src]=\"url.imagePath\" [alt]=\"url.youtubeurl\"\r\n                                                                    class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeUrl(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                    <h5 *ngIf=\"showAttachmentSection\">Attachments</h5>\r\n                                                    <ul *ngIf=\"showAttachmentSection\" class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                                            <a [href]=\"filePath\" target=\"_blank\">\r\n                                                                <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeAttachment(i);\"><span\r\n                                                                    class=\"fa fa-times\"></span></a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <div class=\"add-new-btn\">\r\n                                                            <button (click)=\"savehomework(pageName);\">\r\n                                                                Send {{pageName}}\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                            <p style=\"color: white\"> {{ spinnerText }} </p>\r\n                                        </ngx-spinner>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-lg-2 form-group\">\r\n                                                <label for=\"\">Home Date</label>\r\n                                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"viewDate\"\r\n                                                    [maxDate]=\"minDate\" name=\"d4\" ngbDatepicker #d4=\"ngbDatepicker\"\r\n                                                    (click)=\"d4.toggle();\" (change)=\"viewDateChange(viewDate);\"\r\n                                                    placeholder=\"DD-MM-YYYY\" />\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\" *ngIf=\"DashboardData != null ? DashboardData.IsShowTeacherDropDown == 'Y' : true\">\r\n                                                <label for=\"\">Teacher</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"selectedViewTeacher\"\r\n                                                    (change)=\"loadViewClass();loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"selectedViewTeacher.TeacherId == 0 ? selectedViewTeacher : {'TeacherId': userdata.TeacherID, 'UserId': userdata.UserID }\">All Teacher</option>\r\n                                                    <option *ngFor=\"let teacher of teacherList\" [ngValue]=\"teacher\">\r\n                                                        {{ teacher.TeacherName }}\r\n                                                    </option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <label for=\"\">Class</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"viewClassSection\"\r\n                                                    (change)=\"loadViewSubject();loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"0\">All Classes</option>\r\n                                                    <option *ngFor=\"let classes of viewClassList\" [ngValue]=\"classes\">\r\n                                                        {{ classes.Class }}\r\n                                                    </option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <label for=\"\">Subject</label>\r\n                                                <select class=\"form-control\" [(ngModel)]=\"viewSubject\"\r\n                                                    (change)=\"loadViewTable(pageName);\">\r\n                                                    <option [ngValue]=\"0\">All Subjects</option>\r\n                                                    <option *ngFor=\"let subject of viewSubejctList\" [ngValue]=\"subject\">\r\n                                                        {{ subject.SubjectName }}\r\n                                                    </option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" style=\"margin-top: 29px; height: 33px; line-height: 5px;\" class=\"btn btn-primary\"\r\n                                                    (click)=\"loadViewTable(pageName);\">Show</button>\r\n                                            </div>\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" style=\"margin-top: 29px; height: 33px; line-height: 5px;\" class=\"btn btn-primary\"\r\n                                                    (click)=\"resetTable(pageName);\">Reset</button>\r\n                                            </div>\r\n                                            <div class=\"col-md-2 form-group\">\r\n                                                <input type=\"text\" style=\"margin-top: 29px;\" [(ngModel)]=\"searchText\"\r\n                                                    class=\"form-control\" placeholder=\"Search Here\">\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                            <div class=\"col-md-12\"\r\n                                                *ngFor=\"let view of viewHomeworkTabel | filter: searchText\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <a href=\"javascript:void(0)\" style=\"cursor: pointer;\" (click)=\"sendViewHomeworkData(view);loadViewHomework();\">\r\n                                                            <div class=\"fllef\">\r\n                                                                <h3 style=\"font-size: 23px;\">{{ view.SubjectName }}\r\n                                                                    <!-- <span><i class=\"fa fa-tag\"></i> {{ view.SubjectName }} </span>  -->\r\n                                                                </h3>\r\n                                                                <h5>{{ view.ClassName }}</h5>\r\n                                                                <h5>Description: <span [innerHtml]=\"view.Content\"></span></h5>\r\n                                                            </div>\r\n                                                        </a>\r\n                                                        <div class=\"fltrigg\">\r\n                                                            <div class=\"row\">\r\n                                                                <div class=\"col-md-3\">\r\n                                                                    <i *ngIf=\"view.Youtubeurl && view.Youtubeurl.length > 0\" style=\"color: red;margin-top: 34px;font-size: 20px;\" class=\"fab fa-youtube\"></i>\r\n                                                                    <span *ngIf=\"view.Youtubeurl && view.Youtubeurl.length > 0\" style=\"font-weight: bold; float: right; position: absolute; margin-top: 30px; margin-left: 4px;\"> {{view.Youtubeurl.length}}</span>\r\n                                                                </div>\r\n                                                                \r\n                                                                <div class=\"col-md-3\">\r\n                                                                    <i *ngIf=\"view.Attachment && view.Attachment.length > 0\" style=\"color: black;margin-top: 34px;font-size: 20px;\" class=\"fa fa-paperclip\"></i>\r\n                                                                    <span *ngIf=\"view.Attachment && view.Attachment.length > 0\" style=\"font-weight: bold; float: right; position: absolute; margin-top: 30px; margin-left: 4px;\"> {{view.Attachment.length}}</span>\r\n                                                                </div>\r\n                                                                <div class=\"col-md-4\">\r\n                                                                    <div *ngIf=\"view.EnableActiveInactive == 'Y' && view.IsActive == 'N' ? true : false\">\r\n                                                                        <a style=\"color: white; margin-top: 30px;\" class=\"btn btn-sm btn-danger\" *ngIf=\"view.EnableActiveInactive == 'Y'\" (click)=\"changeActive(view.HomeId,view.IsActive,pageName);\">\r\n                                                                            <!-- <i class=\"fa fa-thumbs-down\"></i> -->\r\n                                                                            Inactive\r\n                                                                        </a>\r\n                                                                    </div>\r\n                                                                    \r\n                                                                    <div *ngIf=\"view.EnableActiveInactive == 'Y' && view.IsActive == 'Y' ? true : false\">\r\n                                                                        <a style=\"color: white; margin-top: 30px;\" class=\"btn btn-sm btn-success\" *ngIf=\"view.EnableActiveInactive == 'Y'\" (click)=\"changeActive(view.HomeId,view.IsActive,pageName);\">\r\n                                                                            <!-- <i class=\"fa fa-thumbs-up\"></i> -->\r\n                                                                            Active\r\n                                                                        </a>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <!-- <div class=\"col-md-12\">\r\n                                                <div class=\"card\">\r\n                                                    <div class=\"card-body\">\r\n                                                        <div class=\"subject-div\">\r\n                                                            <div class=\"fllef\">\r\n                                                                <h4><a href=\"homework-view.html\">Class Assignment\r\n                                                                        Testing</a> <span><i class=\"fa fa-tag\"></i> Number\r\n                                                                        System </span> </h4>\r\n                                                                <h5>Due May 10, 2020 11:59 PM</h5>\r\n                                                            </div>\r\n                                                            <div class=\"fltrigg\">\r\n    \r\n                                                                <h4><span class=\"thumbup\"><a href=\"\"><i class=\"fa fa-thumbs-up\"></i></a></span></h4>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div> -->\r\n                                        </div>\r\n                                        <div *ngIf=\"viewHomeworkTabel.length == 0\" class=\"row\">\r\n                                            <h4 style=\"margin: 0 auto;\">No Record Found.</h4>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                                    <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                                    Prev\r\n                                                </button>\r\n                                            </div>\r\n                                            <!-- <div class=\"col-md-1 text-center\">\r\n                                                <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                            </div> -->\r\n                                            <div class=\"col-md-1\">\r\n                                                <button type=\"button\" *ngIf=\"viewHomeworkTabel.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                                    <span>Next\r\n                                                        <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                                    </span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <!-- /.content -->\r\n    </div>\r\n</div>\r\n<!-- <div class=\"row\">\r\n    <div class=\"col-lg-2 form-group\">\r\n        <label for=\"\">Teacher</label>\r\n        <select class=\"form-control\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang)\">\r\n            <option value=\"ENGLISH\">English</option>\r\n           <option value=\"ORIYA\">Odia</option>\r\n           <option value=\"HINDI\">Hindi</option>\r\n        </select>\r\n    </div>\r\n    <div class=\"col-md-6 form-group\" style=\"margin-left:150px;\">\r\n        <label for=\"\">Input Text convert into into Hindi</label>\r\n        <textarea class=\"form-control\" name=\"descriptionText\" [(ngModel)]=\"translatedText\" #descriptionText style=\"width:600px;height:200px\"></textarea>\r\n\r\n    </div>\r\n</div> -->\r\n<div [hidden]=\"!viewHomework\">\r\n\r\n    <!-- Content Wrapper. Contains page content -->\r\n    <div class=\"content-wrapper\">\r\n        <!-- /.content-header -->\r\n\r\n        <!-- Main content -->\r\n        <section class=\"content\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"card main-section\">\r\n                            <div class=\"card-header\">\r\n                                <a href=\"javascript:void(0)\" (click)=\"loadViewHomework();\" class=\"new_header_link\">\r\n                                    <i class=\"fa fa-angle-left\"></i>\r\n                                    Back\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link active\" id=\"viewhomework1\" data-toggle=\"tab\"\r\n                                            href=\"#viewhomework\" role=\"tab\" aria-controls=\"viewhomework\"\r\n                                            aria-selected=\"true\">View {{viewData.PageName}}\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link\" id=\"Edithomework1\" data-toggle=\"tab\" href=\"#Edithomework\"\r\n                                            (click)=\"editHomework();\" [hidden]=\"!(viewData.IsEditable == 'Y')\" role=\"tab\"\r\n                                            aria-controls=\"Edithomework\" aria-selected=\"false\">Edit\r\n                                            {{viewData.PageName}}</a>\r\n                                    </li>\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link\" id=\"Viewstatus1\" data-toggle=\"tab\" href=\"#Viewstatus\"\r\n                                            role=\"tab\" aria-controls=\"Viewstatus\" aria-selected=\"false\">View Status</a>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"tab-content\" id=\"myTabContent\">\r\n                                    <div class=\"tab-pane fade show active\" id=\"viewhomework\" role=\"tabpanel\"\r\n                                        aria-labelledby=\"viewhomework1\">\r\n                                        <div class=\"subject-div\">\r\n                                            <div class=\"fllef\">\r\n                                                <h4>\r\n                                                    <a style=\"font-size: 25px !important;font-weight: bold;\">\r\n                                                        {{viewData.SubjectName}}\r\n                                                    </a>\r\n                                                    <!-- <span><i class=\"fa fa-tag\"></i> Number System </span> -->\r\n                                                </h4>\r\n                                                <h5>\r\n                                                    {{viewData.ClassName}}\r\n                                                </h5>\r\n                                            </div>\r\n                                            <div class=\"fltrigg\">\r\n                                                <h5 id=\"view-data\">\r\n                                                    Viewed By : <a (click)=\"onClickView();\" data-toggle=\"tab\" aria-controls=\"Viewstatus\" aria-selected=\"false\" href=\"#Viewstatus\"><span>{{viewStudent}} / {{totalStudent}} students</span></a>\r\n                                                </h5>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"stu-info\">\r\n                                            <ul class=\"info-list\">\r\n                                                <li>\r\n                                                    <span class=\"labell\">Description: </span>\r\n                                                    <!-- <span class=\"info-labell\">{{viewData.Content}}</span> -->\r\n                                                    <span [innerHtml]=\"viewData.Content\"></span>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span class=\"labell\">Due Date: </span>\r\n                                                    <span class=\"info-labell\">{{viewData.dueDate}}</span>\r\n                                                </li>\r\n                                            </ul>\r\n                                            <h5 *ngIf=\"viewData.Youtubeurl && viewData.Youtubeurl.length > 0\">Youtube URL</h5>\r\n                                            <ul class=\"images-feed\">\r\n                                                <li *ngFor=\"let url of viewData.Youtubeurl\">\r\n                                                    <a href=\"javascript:void(0);\" (click)=\"youtubeVideo(url.youtubeurl)\" data-toggle=\"modal\" data-target=\"#videoModal\">\r\n                                                        <img [src]=\"url.Thumbnail\" alt=\"\" class=\"img-fluid\">\r\n                                                    </a>\r\n                                                </li>\r\n                                            </ul>\r\n                                            <h5 *ngIf=\"viewData.Attachment && viewData.Attachment.length > 0\">Attachments</h5>\r\n                                            <ul class=\"images-feed image-cancel\">\r\n                                                <li *ngFor=\"let file of viewData.Attachment\">\r\n                                                    <a href=\"javascript:void(0);\" (click)=\"viewAttachment(file);\" click data-toggle=\"modal\" data-target=\"#viewModal\">\r\n                                                        <img [src]=\"file.displayPath\" alt=\"\" class=\"img-fluid\">\r\n                                                    </a>\r\n                                                    <a href=\"javascript:void(0)\" (click)=\"downlaodAttachment(file.attachmentpath);\">\r\n                                                        <span class=\"add-btnn download-btn\">\r\n                                                            <i class=\"fa fa-download\"></i>\r\n                                                        </span>\r\n                                                    </a>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"tab-pane fade\" id=\"Edithomework\" role=\"tabpanel\" [hidden]=\"!(viewData.IsEditable == 'Y')\" aria-labelledby=\"Edithomework1\">\r\n                                        <div id=\"homeword-add\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Teacher : {{ viewData.Teacher == undefined ? '' : viewData.Teacher.TeacherName }}</label>\r\n                                                </div>\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Class: {{ editData != undefined ? editData.ClassName : ''}}</label>\r\n                                                </div>\r\n                                                <div class=\"col-md-2 form-group multiselect-div\">\r\n                                                    <label for=\"\" class=\"label-control\">Section:\r\n                                                        {{editData.SectionName}}\r\n                                                    </label>\r\n                                                </div>\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Subject: {{editData.SubjectName}}</label>\r\n                                                </div>\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Due Date</label>\r\n                                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"editDueDate\"\r\n                                                        name=\"d5\" ngbDatepicker #d5=\"ngbDatepicker\"\r\n                                                        (click)=\"d5.toggle();\" placeholder=\"DD-MM-YYYY\" />\r\n                                                </div>\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Language</label>\r\n                                                    <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                        <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                        <option value=\"HINDI\">HINDI</option>\r\n                                                        <option value=\"ORIYA\">ORIYA</option>\r\n                                                        <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                        <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-lg-12 form-group\">\r\n                                                    <label for=\"\">Description</label>\r\n                                                    <!-- <textarea id=\"TranslationArea2\" #TranslationArea2 rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Description Here.\"></textarea> -->\r\n                                                    <angular-editor [(ngModel)]=\"translatedText\" id=\"TranslationArea2\" #TranslationArea2 [config]=\"config\"></angular-editor>\r\n                                                </div>\r\n                                                <div class=\"col-lg-4 form-group\">\r\n                                                    <label for=\"\">Youtube URL</label>\r\n                                                    <input type=\"url\" [(ngModel)]=\"editUrl\" class=\"flleft form-control\">\r\n                                                    <a (click)=\"addEditUrl();\">\r\n                                                        <span class=\"add-btnn\">\r\n                                                            <i class=\"fa fa-plus\"></i>\r\n                                                        </span>\r\n                                                    </a>\r\n                                                </div>\r\n                                                <div class=\"col-lg-4 form-group\">\r\n                                                    <label for=\"\">Attachments</label>\r\n                                                    <input type=\"file\" (change)=\"viewFileToUpload($event);\" id=\"editFile\"\r\n                                                        class=\"flleft form-control\">\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 *ngIf=\"editYouTubeUrl && editYouTubeUrl.length > 0\">Youtube URL</h5>\r\n                                                    <ul class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let url of editYouTubeUrl; let i = index\">\r\n                                                            <a [href]=\"url.youtubeurl\">\r\n                                                                <img [src]=\"url.displayPath\" [alt]=\"url.youtubeurl\"\r\n                                                                    class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeEditUrl(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                    <h5 *ngIf=\"editAttachmentList && editAttachmentList.length > 0\">Attachments</h5>\r\n                                                    <ul class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let file of editAttachmentList; let i = index;\">\r\n                                                            <a [href]=\"file.attachment\">\r\n                                                                <img [src]=\"file.imagePath\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeEditAttachment(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                    <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">New Attachments</h5>\r\n                                                    <ul class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let file of fileURLs; let i = index\">\r\n                                                            <a [href]=\"file\">\r\n                                                                <img [src]=\"file\" alt=\"file\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeNewAttachment(i);\"><span\r\n                                                                    class=\"fa fa-times\"></span></a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"add-new-btn\">\r\n                                                        <button *ngIf=\"editButtonActive\"\r\n                                                            (click)=\"updateHomework(viewData.PageName);\" id=\"btn-1\">\r\n                                                            Update {{viewData.PageName}}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"tab-pane fade\" id=\"Viewstatus\" role=\"tabpanel\"\r\n                                        aria-labelledby=\"Viewstatus1\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-3\">\r\n                                                <label for=\"\">Total Student: <span style=\"font-weight: bold;\">{{viewStatus.length}}</span></label>\r\n                                            </div>\r\n                                            <div class=\"col-md-3\">\r\n                                                <label for=\"\">Viewed By: <span style=\"font-weight: bold;\">{{viewStudent}}</span></label>\r\n                                            </div>\r\n                                            <div class=\"col-md-3\">\r\n                                                <label for=\"\">Pending: <span style=\"font-weight: bold;\">{{pendingStudents}}</span></label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div id=\"view-table\">\r\n                                            <div class=\"table-responsive\">\r\n                                                <table class=\"table table-striped table-border\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Adm.No.</th>\r\n                                                            <th>Roll No.</th>\r\n                                                            <th>Name</th>\r\n                                                            <th>Status</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <tr *ngFor=\"let student of viewStatus\">\r\n                                                            <td>{{ student.EnrollNo}}</td>\r\n                                                            <td>{{ student.RollNo}}</td>\r\n                                                            <td>{{ student.StudentName}}</td>\r\n                                                            <td>\r\n                                                                <span *ngIf=\"student.ReadStatus == 'TRUE'\"><i\r\n                                                                        class=\"fa fa-eye\"></i> Read</span>\r\n                                                                <span *ngIf=\"student.ReadStatus == 'FALSE'\"><i\r\n                                                                        class=\"fa fa-eye-slash\"></i> Unread</span>\r\n                                                            </td>\r\n                                                            <!-- <td>\r\n                                                            <button data-target=\"#modal-comment\" data-toggle=\"modal\"><i class=\"fa fa-comment\"></i></button>\r\n                                                        </td> -->\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- view  Modal -->\r\n                                    <div class=\"modal fade\" id=\"viewModal\">\r\n                                        <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                            <div class=\"modal-content\">\r\n\r\n                                                <!-- Modal Header -->\r\n                                                <div class=\"modal-header\">\r\n                                                    <h4 class=\"modal-title\">Attachments</h4>\r\n                                                    <button type=\"button\" class=\"close\" (click)=\"stopPlayer();\"\r\n                                                        data-dismiss=\"modal\">&times;</button>\r\n                                                </div>\r\n\r\n                                                <!-- Modal body -->\r\n                                                <div class=\"modal-body\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12\" style=\"height: 600px;\" *ngIf=\"imageView\">\r\n                                                            <img [src]=\"filePath\" alt=\"Attachment Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                        </div>\r\n                                                        <div class=\"col-md-12\" *ngIf=\"audioView\">\r\n                                                            <audio [src]=\"filePath\" id=\"player\" controls></audio>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-12\" *ngIf=\"videoView\">\r\n                                                            <video [src]=\"filePath\" id=\"player\" height=\"600px\" controls></video>\r\n                                                        </div>\r\n                                                        <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                            <iframe [src]='filePath' width=\"100%\" height=\"600px\" style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                        </div>\r\n                                                        <div *ngIf=\"docView\" class=\"col-md-12\">\r\n                                                            <iframe [src]=\"filePath\" width=\"100%\" height=\"600px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <!-- Modal footer -->\r\n                                                <!-- <div class=\"modal-footer\">\r\n                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                        data-dismiss=\"modal\">Close</button>\r\n                                                </div> -->\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- Youtube modal -->\r\n                                    <div class=\"modal fade\" id=\"videoModal\" role=\"dialog\">\r\n                                        <div class=\"modal-dialog modal-xl\">\r\n                                            <div class=\"modal-content\">\r\n                                                <div class=\"modal-header\">\r\n                                                    <h4 class=\"modal-title\">YouTube Videos</h4>\r\n                                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" (click)=\"stopYoutube();\">&times;</button>\r\n                                                </div>\r\n                                                <div class=\"modal-body\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12\" *ngIf=\"selectedYoutubeUrl != undefined\">\r\n                                                            <iframe [src]=\"selectedYoutubeUrl != undefined ? selectedYoutubeUrl : ''\" id=\"youtubevideo\" width=\"100%\" height=\"550px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <!-- /.content -->\r\n    </div>\r\n    <!-- /.content-wrapper -->\r\n</div>","import { Component,  ViewChild, OnInit,ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { interval, Subscription } from 'rxjs';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { DataService } from '../services/data.service';\r\nimport * as $ from 'jquery';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\ndeclare var google: any;\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n\r\n\r\n@Component({\r\n  selector: 'app-inbox',\r\n  templateUrl: './inbox.component.html',\r\n  styleUrls: ['./inbox.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class InboxComponent implements OnInit {\r\n  translatedText: \"string\";\r\n  // @ViewChild('inputMessageText', { static: true }) inputMessageText: ElementRef;\r\n  toDate: string;\r\n  formDate: string;\r\n  searchText: string;\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  autoLoadSms: Subscription;\r\n  searchStudent: string;\r\n  groupField: boolean = false;\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Description Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      },\r\n    ]\r\n  };  \r\n\r\n  /*Google transliteration*/\r\n  selectedlang: string = 'ENGLISH';\r\n  ngAfterViewInit() {\r\n    // google.load(\"elements\", \"1\", {\r\n    //   packages: \"transliteration\"\r\n    // });\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n    debugger;\r\n    // \r\n\r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    debugger;\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      this.control.disableTransliteration()\r\n    }\r\n  }\r\n  public onLoad() {\r\n    debugger\r\n    // const elements = this.inputMessageText.nativeElement;   \r\n    $('#inboxMessageText').find('.angular-editor-textarea').prop('id', 'editInboxText');   \r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['editInboxText']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    public data: DataService,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private sanitizer: DomSanitizer,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>,\r\n    private common: CommonclassService) {\r\n    this.autoLoadSms = interval(5000).subscribe((load => {\r\n      // console.log('Refresh No: '+load);\r\n      // this.loadSms();\r\n    }));\r\n  }\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    if (this.userData === null) {\r\n      this.router.navigate(['']);\r\n    }\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedSection = 0;\r\n    // this.selectedGroup = 0;\r\n    this.spinnerText = 'Loading...';\r\n    this.formDate = this.today;\r\n    this.loadSms();\r\n    this.loadClassSecction();\r\n    this.loadLanguages();\r\n  }\r\n  //Load Translate languages \r\n  LanguageList: any[] = [];\r\n  loadLanguages() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n      (data) => {\r\n        // console.log('Translator language:', data);\r\n        var responsen: any = data;\r\n        if (responsen.code == 'OK') {\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  public smsData: any[] = [];\r\n  loadSms() {\r\n    var formDateFormat = this.formDate.split('-')[2] + '-' + this.formDate.split('-')[1] + '-' + this.formDate.split('-')[0];\r\n    let dbName = this.common.storage.get('DBName');\r\n    let schoolId = this.common.storage.get('SchoolId');\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getmysentmessages?DbName=\" + dbName\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&NextData=\"+ this.page +\"&UserId=\" + this.userData.UserID\r\n      + \"&SchoolId=\" + schoolId + \"&FormDate=\" + formDateFormat, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.smsData = response.data;\r\n            // console.log('SMS data: ', this.smsData);\r\n            this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.smsData = [];\r\n            this.spinnerService.hide();\r\n            this.toastr.warning(response.message, 'Inbox');\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n  public modalData: any[] = [];\r\n  public ViewMessageData: any;\r\n  showAttachment(data: any) {\r\n    this.ViewMessageData = data;\r\n    this.modalData = [];\r\n    if (data.Files.length > 0) {\r\n      for (let i = 0; i < data.Files.length; i++) {\r\n        this.modalData.push({ 'attachmentpath': data.Files[i].attachmentpath });\r\n      }\r\n    }\r\n    if (data.Images.length > 0) {\r\n      for (let i = 0; i < data.Images.length; i++) {\r\n        this.modalData.push({ 'attachmentpath': data.Images[i].attachmentpath });\r\n      }\r\n    }\r\n    // console.log('Files Data: ',this.modalData);\r\n    if (this.modalData.length > 0) {\r\n      for (let i = 0; i < this.modalData.length; i++) {\r\n        var ext = this.getFileExtension(this.modalData[i].attachmentpath);\r\n        if (ext == 'pdf') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/pdf-icon.jpg',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': this.modalData[i].attachmentpath,\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'doc' || ext == 'docx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/docx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'xls' || ext == 'xlsx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/xlsx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'ppt' || ext == 'pptx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/pptx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/file-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n      }\r\n    }\r\n    //this.open();\r\n  }\r\n\r\n\r\n  //Delete Inbox Message \r\n  deleteInboxMessage(MessageId: string) {\r\n    Swal.fire({\r\n      title: 'Delete Message',\r\n      text: 'Are you sure to delete this message?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.http.get(this.common.Baseurl + \"deletemessage?DbName=\" + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.userData.UserID + \"&MessageId=\" + MessageId, options).subscribe(\r\n            (res) => {\r\n              var response: any = res\r\n              if (response.code == 'OK') {\r\n                this.toastr.success(response.message, 'Delete Message');\r\n                this.loadSms();\r\n              }\r\n              else {\r\n                this.toastr.error(response.message, 'Delete Message');\r\n              }\r\n            },\r\n            (err) => {\r\n              if (err.status === 400) {\r\n                console.log(err);\r\n              }\r\n            }\r\n          );\r\n      }\r\n    })\r\n  }\r\n  //Attachment view\r\n  fileUrl: any;\r\n  imageView: boolean = false;\r\n  pdfView: boolean = false;\r\n  docView: boolean = false;\r\n\r\n  viewFile(fileData) {\r\n    this.fileUrl = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.fileUrl = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      debugger;\r\n      this.pdfView = true;\r\n      var path = fileData.attachmentpath;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n\r\n      this.docView = false;\r\n\r\n    }\r\n    else if (fileData.ext == 'docx' || fileData.ext == 'doc' || fileData.ext == 'xlsx' || fileData.ext == 'xls' || fileData.ext == 'pptx' || fileData.ext == 'ppt') {\r\n      this.docView = true;\r\n      var path: any = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + fileData.attachmentpath;\r\n      // https://view.officeapps.live.com/op/embed.aspx?src=\r\n      // var path: any = \"https://docs.google.com/gview?url=\" + fileData.attachmentpath +\"&embedded=true\";\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n    }\r\n    else {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.displayPath;\r\n    }\r\n  }\r\n  public StudentStatusList: any[] = [];\r\n  loadReadStatus(MessageId: string) {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show()\r\n    this.http.get(this.common.Baseurl + \"getmysentmessagesreadstatus?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&MessageId=\" + MessageId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.StudentStatusList = response.data;\r\n            this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.spinnerService.hide()\r\n            this.toastr.warning(response.message, 'Student View Status');\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //------------------------------ Edit Inbox Message --------------------------------\r\n  // Edit Message \r\n  editData: any = []\r\n  editAttachmentList: any[] = [];\r\n  MessageID: string;\r\n  editInboxMessage(MessageId: string) {\r\n    this.MessageID = MessageId;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show()\r\n    this.http.get(this.common.Baseurl + \"editinboxmessagev24?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&MessageId=\" + this.MessageID, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.editData = response.data;\r\n            // console.log('Edit Data:', this.editData);\r\n            if (this.editData.SendOption == 'group') {\r\n              this.groupField = true;\r\n              this.loadGroup(0);\r\n              // this.messageText = this.editData.Text;\r\n              this.translatedText = this.editData.Text;\r\n            }\r\n            else if (this.editData.SendOption == 'selected') {\r\n              this.groupField = false;\r\n              this.loadClassSecction();\r\n              // this.messageText = this.editData.Text;\r\n              this.translatedText = this.editData.Text;\r\n            }\r\n            else {\r\n              this.groupField = false;\r\n              // this.messageText = this.editData.Text;\r\n              this.translatedText = this.editData.Text;\r\n              this.loadClassSecction();\r\n              // this.selectAll = true;\r\n            }\r\n            if (this.editData.Attachment.length > 0) {\r\n              this.editAttachmentList = this.editData.Attachment;\r\n              for (let index = 0; index < this.editAttachmentList.length; index++) {\r\n                var ext = this.getFileExtension(this.editAttachmentList[index].attachment);\r\n                if (ext == 'jpg' || ext == 'png' || ext == 'jpeg') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': this.editAttachmentList[index].attachment })\r\n                }\r\n                else if (ext == 'pdf') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/pdf-icon.jpg' });\r\n                }\r\n                else if (ext == 'docx' || ext == 'doc') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/docx-icon.png' });\r\n                }\r\n                else if (ext == 'ppt' || ext == 'pptx') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/pptx-icon.png' });\r\n                }\r\n                else if (ext == 'xlsx' || ext == 'xls') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/xlsx-icon.png' });\r\n                }\r\n                else {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '' });\r\n                }\r\n              }\r\n            }\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'Edit Message');\r\n            this.spinnerService.hide()\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Class Section Drop Down List\r\n  search: string;\r\n  // userData: any;\r\n  classList: any = [];\r\n  selectedSection: any;\r\n  resData: any;\r\n  studentList = [];\r\n  selectAll: boolean = false;\r\n  messageData = []\r\n  messageText: string = \"\"\r\n  fileURL: any;\r\n  fileUploadList: File[] = []\r\n  fileUploadUrl: any[] = []\r\n  // Load Class Section\r\n  loadClassSecction() {\r\n    let dbName = this.common.storage.get('DBName');\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + dbName\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log('Class Section',res)\r\n          this.resData = res;\r\n          this.classList = this.resData.data;\r\n          if (this.editData == undefined || this.editData == '') {\r\n            this.selectedSection = 0;\r\n          }\r\n          else {\r\n            this.selectedSection = this.classList[this.classList.findIndex(x => x.SectionId == this.editData.SectionId)];\r\n            this.loadStudent(this.selectedSection);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Student List\r\n  loadStudent(classes) {\r\n    if (classes == 0 || classes == undefined) {\r\n      this.studentList = [];\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    // var urlLink = this.common.Baseurl + \"MyContactList?&DbName=\"+ this.common.storage.get('DBName')\r\n    // +\"&TeacherId=\"+this.userData.TeacherID+\"&SectionId=\"+classes.SectionId + \"&UserId=\" +this.userData.UserID\r\n    // +\"&SessionId=\"+this.common.storage.get('SessionId') + \"&ClassId=\" + classes.ClassId\r\n    // console.log(urlLink)\r\n    this.http.get(this.common.Baseurl + \"MyContactList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SectionId=\" + classes.SectionId + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&ClassId=\" + classes.ClassId, options).subscribe(\r\n        (res) => {\r\n          this.resData = res;\r\n          // console.log('API Response: ',this.resData);\r\n          this.studentList = this.resData.data.student;\r\n          for (let i = 0; i < this.studentList.length; i++) {\r\n            Object.assign(this.studentList[i], { 'Selected': false });\r\n          }\r\n          if (this.editData.SendOption == 'selected') {\r\n            this.selectAll = false;\r\n            for (let i = 0; i < this.editData.Students.length; i++) {\r\n              for (let j = 0; j < this.studentList.length; j++) {\r\n                if (this.editData.Students[i].studentdetailId == this.studentList[j].StudentdetailId) {\r\n                  this.studentList[j].Selected = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (this.editData.SendOption == 'all') {\r\n            this.selectAll = true;\r\n            for (let i = 0; i < this.studentList.length; i++) {\r\n              this.studentList[i].Selected = this.selectAll;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      )\r\n  }\r\n  // Load Group List\r\n  GroupList: any = []\r\n  selectedGroup: any;\r\n  loadGroup(classes) {\r\n    if (classes == 0 || classes == undefined) {\r\n      this.studentList = [];\r\n      var classid = 0;\r\n      var sectionid = 0;\r\n    }\r\n    else {\r\n      this.studentList = [];\r\n      var classid = parseInt(classes.ClassId);\r\n      var sectionid = parseInt(classes.SectionId);\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"MyContactList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SectionId=\" + sectionid + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&ClassId=\" + classid, options).subscribe(\r\n        (res) => {\r\n          var resData: any = res;\r\n          this.GroupList = resData.data.group;\r\n          if (this.editData == undefined || this.editData == '') {\r\n            this.selectedGroup = 0;\r\n          }\r\n          else {\r\n            this.selectedGroup = this.GroupList[this.GroupList.findIndex(x => x.GroupId == this.editData.GroupId)];\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      )\r\n  }\r\n  selected: boolean = false\r\n  selectedAll(e) {\r\n    for (let i = 0; i < this.studentList.length; i++) {\r\n      this.studentList[i].Selected = e.target.checked;\r\n    }\r\n  }\r\n  // file upload change event\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.selectedFile = event.target.files.item(0);\r\n      var ext = this.selectedFile.type;\r\n      var fileName = this.selectedFile.name;\r\n      if (Math.round(this.selectedFile.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB');\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n      if (this.fileUploadList.length == 5) {\r\n        this.toastr.warning('You can add only 5 Attachments !');\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.selectedFile.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.selectedFile);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.selectedFile = imageFile;\r\n                this.fileUploadList.push(this.selectedFile);\r\n                this.fileUploadUrl.push(this.fileURL);\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.selectedFile);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.fileUploadList.push(this.selectedFile);\r\n            this.fileUploadUrl.push(this.fileURL);\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.fileUploadList.push(this.selectedFile);\r\n        this.fileUploadUrl.push(this.fileURL);\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.selectedFile = null;\r\n        this.toastr.warning('Invalid File Format');\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.');\r\n    }\r\n\r\n  }\r\n\r\n  // Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  // Remove Attachments\r\n  removeFile(index) {\r\n    this.fileUploadUrl.splice(index, 1);\r\n    this.fileUploadList.splice(index, 1);\r\n  }\r\n  removeEditAttachement(index) {\r\n    this.editAttachmentList.splice(index, 1);\r\n  }\r\n\r\n  // Reset Method\r\n  selectedFile: File;\r\n  reset() {\r\n    this.fileUploadList = [];\r\n    this.fileUploadUrl = [];\r\n    this.messageText = \"\";\r\n    this.selectedSection = 0;\r\n    this.selectedFile = null;\r\n    this.editAttachmentList = [];\r\n    this.studentList = [];\r\n    this.GroupList = [];\r\n    this.selectAll = false;\r\n  }\r\n  // Update Inbox Message\r\n  UpdateMessage() {\r\n    this.messageData = [];\r\n    if (this.selectedSection == undefined || this.selectedSection == 0) {\r\n      this.toastr.warning('Please Select Class.', 'Send Message');\r\n      return;\r\n    }\r\n    var type: string;\r\n    var groupid: number = 0;\r\n    var ClassID: string;\r\n    var SectionID: string;\r\n    var studentdetailIds: string = \"\";\r\n    if (this.editData.SendOption == 'all' || this.editData.SendOption == 'selected') {\r\n      for (let i = 0; i < this.studentList.length; i++) {\r\n        if (this.studentList[i].Selected == true) {\r\n          this.messageData.push({\r\n            \"StudentdetailId\": this.studentList[i].StudentdetailId,\r\n            \"EnrollNo\": this.studentList[i].AdmissionNo\r\n          });\r\n          if(studentdetailIds == \"\"){\r\n            studentdetailIds = studentdetailIds + this.studentList[i].StudentdetailId;\r\n          }\r\n          else {\r\n            studentdetailIds = studentdetailIds + ',' + this.studentList[i].StudentdetailId;\r\n          }\r\n        }\r\n      }\r\n      if (this.messageData.length == this.studentList.length) {\r\n        type = 'all'\r\n        ClassID = this.selectedSection.ClassId\r\n        SectionID = this.selectedSection.SectionId\r\n        this.messageData = [];\r\n      }\r\n      else {\r\n        ClassID = this.selectedSection.ClassId\r\n        SectionID = this.selectedSection.SectionId\r\n        type = 'selected';\r\n      }\r\n    }\r\n    else {\r\n      type = 'group'\r\n      groupid = parseInt(this.selectedGroup.GroupId);\r\n      ClassID = this.editData.ClassId;\r\n      SectionID = this.editData.SectionId;\r\n    }\r\n    debugger;\r\n    this.messageText = this.translatedText;\r\n    if (this.messageText == '' || this.messageText == undefined || this.messageText == null) {\r\n      this.toastr.warning('Please Type Message.', 'Update Message');\r\n      return;\r\n    }\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('ClassId', ClassID);\r\n    formData.append('SectionId', SectionID);\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('TeacherId', this.userData.TeacherID);\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('Sendoption', type);\r\n    formData.append('Text', this.messageText);\r\n    formData.append('Students', JSON.stringify(this.messageData));\r\n    formData.append('SessionName', '2020-21');\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('GroupId', groupid.toString());\r\n    formData.append('MessageId', this.MessageID);\r\n    // formData.append('YoutubeURL', '');\r\n    formData.append('ExistingAttachment', JSON.stringify(this.editAttachmentList));\r\n    if (this.fileUploadList.length > 0) {\r\n      for (let i = 0; i < this.fileUploadList.length; i++) {\r\n        formData.append('images', this.fileUploadList[i]);\r\n      }\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    debugger\r\n    this.http.post(this.common.Baseurl + \"UpdateInboxMessagev24\", formData).subscribe(\r\n      (res) => {\r\n        // console.log(res);  \r\n        this.resData = res;\r\n        if (this.resData.code == 'OK') {\r\n          Swal.fire(this.resData.message, '', 'success');\r\n          this.reset();\r\n          this.loadSms();\r\n          $('#editModal').modal('hide'); // Close Edit Modal\r\n        }\r\n        else {\r\n          this.toastr.error(this.resData.message, 'Message Send');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    )\r\n  }\r\n  //Pagination Page Change\r\n  page: number = 20;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + (value * 10);\r\n    this.loadSms();\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin: 10px 0px 0px 20px;\">Inbox</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3\">\r\n                                    <input style=\"width: 300px; margin-left: 10px;\" [(ngModel)]=\"searchText\" type=\"text\" class=\"form-control\" placeholder=\"Search Here\">\r\n                                </div>\r\n                                <div class=\"col-md-9\">\r\n                                    <button class=\"btn btn-primary\" style=\"float: right;\" routerLink=\"/SendMessage\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Send Message</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let sms of smsData | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                <a href=\"#MessageDetails\" data-toggle=\"modal\" (click)=\"showAttachment(sms);\">\r\n                                                    <div class=\"fllef\">\r\n                                                        <h4 style=\"color: #49aedd;\">Send To: {{ sms.SentTo }}</h4>\r\n                                                        <h5>Date: {{ sms.Date }}</h5>\r\n                                                        <h5 [innerHtml]=\"sms.Message\"></h5>\r\n                                                    </div>\r\n                                                </a>\r\n                                                <div class=\"fltrigg\">\r\n                                                    <div>\r\n                                                        <div class=\"row\">\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button *ngIf=\"sms.Images.length > 0 || sms.Files.length > 0\"\r\n                                                                    title=\"Attachments\" type=\"button\" class=\"btn btn-lg\" style=\"width: 34px;\">\r\n                                                                    <i style=\"color: black;margin-top: 23px; float: left;\" class=\"fa fa-paperclip\"></i>\r\n                                                                    <span style=\"margin-top: 15px;position: absolute; padding-left: 4px;\">{{ sms.Files.length + sms.Images.length }}</span>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Edit\" data-toggle=\"modal\" data-target=\"#editModal\"\r\n                                                                    (click)=\"editInboxMessage(sms.MessageId);\">\r\n                                                                    <i style=\"margin-top: 23px;\" class=\"fa fa-edit\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Delete\" (click)=\"deleteInboxMessage(sms.MessageId);\">\r\n                                                                    <i style=\"color: red;margin-top: 23px;\" class=\"fa fa-trash-alt\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"View Status\" data-toggle=\"modal\" data-target=\"#viewStatus\" (click)=\"loadReadStatus(sms.MessageId);\">\r\n                                                                    <i style=\"margin-top: 23px;\" class=\"fas fa-info-circle\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"smsData.length == 0\" class=\"row\">\r\n                                <h3 class=\"text-center\">No Messages Found..</h3>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"page > 20\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                        <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                        Prev\r\n                                    </button>\r\n                                </div>\r\n                                <!-- <div class=\"col-md-1 text-center\">\r\n                                    <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                </div> -->\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"smsData.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                        <span>Next\r\n                                            <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <!--View Modal -->\r\n                            <div class=\"modal fade\" id=\"MessageDetails\" tabindex=\"-1\" role=\"dialog\"\r\n                                aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Message Details</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\" style=\"margin-bottom: -18px;\">\r\n                                                    <h6><span style=\"font-weight: bold;\">Send To:</span> {{ ViewMessageData != undefined ? ViewMessageData.SentTo : ''}}</h6><br>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h6><span style=\"font-weight: bold;\">Date:</span> {{ ViewMessageData != undefined ? ViewMessageData.Date : ''}}</h6>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <label for=\"\" style=\"font-weight: bold !important; font-size: 18px;\">Message</label>\r\n                                                    <h6 [innerHtml]=\"ViewMessageData != undefined ? ViewMessageData.Message : ''\"></h6>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 2px; margin-top: 10px;\">\r\n                                                <label for=\"\" style=\"font-weight: bold !important; font-size: 18px;\" *ngIf=\"modalData.length > 0\">Attachments</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li *ngFor=\"let file of modalData\">\r\n                                                        <a (click)=\"viewFile(file);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewFile\">\r\n                                                            <img [src]=\"file.displayPath\" height=\"100\" width=\"100\" alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary\">Close\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- Edit Modal -->\r\n                            <div class=\"modal fade\" id=\"editModal\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <!-- Modal Header -->\r\n                                        <div class=\"modal-header\">\r\n                                            <h4 class=\"modal-title\">Edit Message</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <!-- Modal body -->\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\" *ngIf=\"!groupField\">\r\n                                                    <label for=\"\">Class-Section</label>\r\n                                                    <select class=\"form-control\" data-width=\"100%\"\r\n                                                        [(ngModel)]=\"selectedSection\"\r\n                                                        (change)=\"loadStudent(selectedSection);loadGroup(selectedSection);\">\r\n                                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                                        <option *ngFor=\"let class of classList\" [ngValue]=\"class\">\r\n                                                            {{ class.Class }}\r\n                                                        </option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div *ngIf=\"groupField\" class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Group</label>\r\n                                                    <select class=\"form-control\" data-width=\"100%\" [(ngModel)]=\"selectedGroup\">\r\n                                                        <option [ngValue]=\"0\">Select Group</option>\r\n                                                        <option *ngFor=\"let group of GroupList\" [ngValue]=\"group\">{{ group.GroupName }}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Language</label>\r\n                                                    <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                        <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                        <option value=\"HINDI\">HINDI</option>\r\n                                                        <option value=\"ORIYA\">ORIYA</option>\r\n                                                        <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                        <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Upload Attachment</label>\r\n                                                    <input type=\"file\" class=\"form-control\"\r\n                                                        (change)=\"fileToUpload($event)\">\r\n                                                </div>\r\n                                                <div class=\"col-md-12 form-group\">\r\n                                                    <label for=\"\">Message</label>\r\n                                                    <!-- <textarea id=\"inputMessageText\" #inputMessageText rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Type your message here.\"></textarea> -->\r\n                                                    <angular-editor [(ngModel)]=\"translatedText\" id=\"inboxMessageText\" #inboxMessageText [config]=\"config\"></angular-editor>\r\n                                                </div>\r\n                                                \r\n                                                <!-- editAttachmentList -->\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 *ngIf=\"editAttachmentList && editAttachmentList.length > 0\">Attachments\r\n                                                    </h5>\r\n                                                    <ul *ngIf=\"editAttachmentList && editAttachmentList.length > 0\"\r\n                                                        class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let filePath of editAttachmentList; let i = index\">\r\n                                                            <a [href]=\"filePath.attachment\" target=\"_blank\">\r\n                                                                <img [src]=\"filePath.viewPath\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeEditAttachement(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\">New Attachments\r\n                                                    </h5>\r\n                                                    <ul *ngIf=\"fileUploadUrl && fileUploadUrl.length > 0\"\r\n                                                        class=\"images-feed image-cancel\">\r\n                                                        <li *ngFor=\"let filePath of fileUploadUrl; let i = index\">\r\n                                                            <a [href]=\"filePath\" target=\"_blank\">\r\n                                                                <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                            <a (click)=\"removeFile(i);\">\r\n                                                                <span class=\"fa fa-times\"></span>\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\" *ngIf=\"!groupField\">\r\n                                                <div class=\"form-group\">\r\n                                                    <input type=\"text\" [(ngModel)]=\"search\" class=\"form-control\" style=\"width: 300px;\" placeholder=\"Search Here\">\r\n                                                </div>\r\n                                                <div id=\"view-table\">\r\n                                                    <div class=\"table-responsive\">\r\n                                                        <table class=\"table table-striped table-border\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th><input type=\"checkbox\" class=\"form-check-input\" [(ngModel)]=\"selectAll\" (change)=\"selectedAll($event)\"> Select All</th>\r\n                                                                    <th>S. No.</th>\r\n                                                                    <th>Admn. No.</th>\r\n                                                                    <th>Student Name</th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                                <tr *ngFor=\"let student of studentList | filter:search ; let i = index\">\r\n                                                                    <td><input type=\"checkbox\" class=\"form-check-input\" [(ngModel)]=\"student.Selected\" [checked]=\"student.Selected\"></td>\r\n                                                                    <td>{{ i+1 }}</td>\r\n                                                                    <td>{{ student.AdmissionNo }}</td>\r\n                                                                    <td>{{ student.StudentName }}</td>\r\n                                                                </tr>\r\n                                                                <tr *ngIf=\"studentList.length == 0\" >\r\n                                                                    <td colspan=\"5\"><p>No Record Found.</p></td>\r\n                                                                </tr>                \r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <!-- Modal footer -->\r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-secondary\" (click)=\"UpdateMessage();\">Update\r\n                                                Message</button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- view attachmentModal -->\r\n                            <div class=\"modal fade\" id=\"viewFile\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <!-- Modal Header -->\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Attachment</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <!-- Modal body -->\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageView\">\r\n                                                        <img [src]=\"fileUrl\" alt=\"Attachment Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                    </div>\r\n                                                    <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                        <iframe [src]='fileUrl' width=\"100%\" height=\"500px\" style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                        <!-- <pdf-viewer [src]=\"filePath\" [render-text]=\"true\" style=\"max-width: 100%;max-height: 100%;display: block;\"></pdf-viewer> -->\r\n                                                    </div>\r\n                                                    <div *ngIf=\"docView\" class=\"col-md-12\">\r\n                                                        <iframe [src]=\"fileUrl\" width=\"100%\" height=\"500px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- View Status -->\r\n                            <div class=\"modal fade\" id=\"viewStatus\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-lg\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <!-- Modal Header -->\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Message Read Status</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <!-- Modal body -->\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <input type=\"text\" placeholder=\"Search Here.\" class=\"form-control\" [(ngModel)]=\"searchStudent\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                                <div class=\"col-md-12\" *ngFor=\"let student of StudentStatusList | filter: searchStudent\">\r\n                                                    <div class=\"card\">\r\n                                                        <div class=\"card-body\">\r\n                                                            <div class=\"subject-div\">\r\n                                                                <div class=\"fllef\">\r\n                                                                    <h4>\r\n                                                                        <a href=\"javascript:void(0)\" style=\"font-weight: bold;\">{{student.Name}}</a>\r\n                                                                    </h4>\r\n                                                                    <h5>Enroll No: {{student.EnrollNo}}</h5>\r\n                                                                    <!-- <h6>{{ sms.Message }}</h6> -->\r\n                                                                </div>\r\n                                                                <div class=\"fltrigg\">\r\n                                                                    <div>\r\n                                                                        <div class=\"row\">\r\n                                                                            <div *ngIf=\"student.ReadStatus == 'Unread'\">\r\n                                                                                <i style=\"color:red; margin-top: 19px;\" title=\"Unread\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:red; margin-top: 19px;\">{{student.ReadStatus}}</span>\r\n                                                                            </div>\r\n                                                                            <div *ngIf=\"student.ReadStatus == 'Read'\">\r\n                                                                                <i style=\"color:green;margin-top: 19px;\" title=\"Read\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:green; margin-top: 19px;\">{{student.ReadStatus}}</span>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport Swal from 'sweetalert2';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service'\r\nimport { DeviceDetectorService } from 'ngx-device-detector';\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n// import 'rxjs/add/operator/filter';\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css',\r\n    '../../assets/css/main.css',\r\n    '../../assets/css/util.css',\r\n    '../../assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css',\r\n    '../../assets/fonts/iconic/css/material-design-iconic-font.min.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  getdata: any;\r\n  userdata: any;\r\n  public spinnerText: string;\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private titleService: Title,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private spinnerService: NgxSpinnerService,\r\n    private deviceService: DeviceDetectorService,\r\n    private common: CommonclassService) { }\r\n\r\n  // public loadScript(url: string) {\r\n  //   const body = <HTMLDivElement>document.body;\r\n  //   const script = document.createElement('script');\r\n  //   script.innerHTML = '';\r\n  //   script.src = url;\r\n  //   script.async = false;\r\n  //   script.defer = true;\r\n  //   body.appendChild(script);\r\n  // }\r\n\r\n  // Show and Hide password\r\n  showPassword(value: boolean){\r\n    if(value){\r\n      $('#pass').attr('type', 'text');\r\n      $('#show').css('display', 'none');\r\n      $('#hide').css('display', 'initial');\r\n    }\r\n    else {\r\n      $('#pass').attr('type', 'password');\r\n      $('#show').css('display', 'initial');\r\n      $('#hide').css('display', 'none');\r\n    }\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    this.titleService.setTitle('Teacher Panel | login');\r\n    if (this.common.storage.get(\"user\") != null) {\r\n      this.router.navigate(['dashboard']);\r\n      return;\r\n    }\r\n    this.common.storage.clearAll();\r\n    this.deviceDetails();\r\n    this.getQueryString();\r\n    this.spinnerText = 'Signing In...'\r\n  }\r\n  ResponseData: any;\r\n  getQueryString(){\r\n    // var url = window.location.search;\r\n    var token = this.route.snapshot.queryParamMap.get('token');\r\n    // console.log('token : ',token);\r\n    if (token != null){\r\n      var data = {\r\n        'Token': token.replace(' ','+'),\r\n        \"deviceType\": \"Web\",\r\n        \"osVersion\": this.deviceInfo.os_version\r\n      };\r\n      let headers = new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      });\r\n      let options = {\r\n        headers: headers\r\n      }\r\n      let body = JSON.stringify(data);  //Convert frontend Data into Json\r\n      this.http.post(this.common.Baseurl + 'TokenBasedLoginForTeacherPanel', body, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ResponseData = response.data;\r\n            this.common.storage.set(\"user\", this.ResponseData.user);\r\n            this.common.storage.set('SessionId', this.ResponseData.user.SessionID);\r\n            this.common.storage.set('SchoolId', this.ResponseData.school.SchoolID);\r\n            this.common.storage.set('SchoolName', this.ResponseData.school.SchoolName);\r\n            this.common.storage.set('SchoolCode', this.ResponseData.school.SchoolCode);\r\n            this.common.storage.set('feepayurl', this.ResponseData.school.feepayurl);\r\n            this.common.storage.set('logo', this.ResponseData.school.logo);\r\n            this.common.storage.set('banner', this.ResponseData.school.banner);\r\n            this.common.storage.set('SchoolType', this.ResponseData.school.SchoolType);\r\n            this.common.storage.set('SchoolUrl', this.ResponseData.school.SchoolUrl);\r\n            this.common.storage.set('DBName', this.ResponseData.school.DBName);\r\n            this.common.storage.set('MachineDBName', this.ResponseData.school.MachineDBName)\r\n            var SessionTime = new Date();\r\n            SessionTime.setHours(SessionTime.getHours() + 12);\r\n            this.common.storage.set('SessionExpiry', SessionTime);\r\n            this.router.navigate(['AssignHomeWork']);\r\n            // this.toastr.success('Login Successfully');\r\n          }\r\n        },\r\n        (err) => {\r\n          console.error(err);\r\n        }\r\n      )\r\n    }\r\n  }\r\n  schoolcode: String = \"\";\r\n  username: String = \"\";\r\n  password: String = \"\";\r\n  deviceInfo = null;\r\n  //Method for getting device info\r\n  deviceDetails() {\r\n    this.deviceInfo = this.deviceService.getDeviceInfo();\r\n    // console.log(this.deviceInfo);\r\n  }\r\n  login() {\r\n    if (this.schoolcode == undefined || this.schoolcode == \"\") {\r\n      this.toastr.warning('Please enter school code', '');\r\n      return;\r\n    }\r\n    if (this.username == undefined || this.username == \"\") {\r\n      this.toastr.warning('Please enter username')\r\n      return;\r\n    }\r\n    if (this.password == undefined || this.password == \"\") {\r\n      this.toastr.warning('Please enter password', '');\r\n      return;\r\n    }\r\n    this.spinnerService.show();\r\n    var data = {\r\n      \"password\": this.password,\r\n      \"appVersion\": \"1.5\",\r\n      \"username\": this.username,\r\n      \"token\": \"csmteacherapptoken\",\r\n      \"deviceIMEI\": \"789655852282208\",\r\n      \"lang\": \"English\",\r\n      \"deviceType\": \"Web\",\r\n      \"osVersion\": this.deviceInfo.os_version,\r\n      \"schoolCode\": this.schoolcode\r\n    };\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data);//Convert frontend Data into Json\r\n    this.http.post(this.common.Baseurl + \"login\", body, options).subscribe(\r\n      (res) => {\r\n        console.log('Login Data:', res);\r\n        this.getdata = res;\r\n        if (this.getdata.code == \"OK\") {\r\n          // Swal.fire('','Login Successfully','success');\r\n          // this.toastr.success('Login Successfully');\r\n          this.common.storage.set(\"user\", this.getdata.data.user);\r\n          this.common.storage.set('UserPassword', this.password);\r\n          this.common.storage.set('SessionId', this.getdata.data.user.SessionID);\r\n          this.common.storage.set('SchoolId', this.getdata.data.school.SchoolID);\r\n          this.common.storage.set('SchoolName', this.getdata.data.school.SchoolName);\r\n          this.common.storage.set('SchoolCode', this.getdata.data.school.SchoolCode);\r\n          this.common.storage.set('feepayurl', this.getdata.data.school.feepayurl);\r\n          this.common.storage.set('logo', this.getdata.data.school.logo);\r\n          this.common.storage.set('banner', this.getdata.data.school.banner);\r\n          this.common.storage.set('SchoolType', this.getdata.data.school.SchoolType);\r\n          this.common.storage.set('SchoolUrl', this.getdata.data.school.SchoolUrl);\r\n          this.common.storage.set('DBName', this.getdata.data.school.DBName);\r\n          this.common.storage.set('MachineDBName', this.getdata.data.school.MachineDBName)\r\n          var SessionTime = new Date();\r\n          SessionTime.setHours(SessionTime.getHours() + 12);\r\n          this.common.storage.set('SessionExpiry', SessionTime);\r\n          this.router.navigate(['AssignHomeWork']);\r\n          //this.userdata = this.common.storage.get(\"user\");\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.spinnerService.hide();\r\n          Swal.fire('', this.getdata.message);\r\n          return;\r\n        }\r\n\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        console.log(err)\r\n        // Swal.fire('Error', '' + err.statusText, 'error');\r\n      }\r\n    );\r\n  }\r\n}\r\n","\r\n    <div class=\"limiter\">\r\n        <div class=\"container-login100\" style=\"background-image: url('../../assets/images/bg-01.jpg');\">\r\n            <div class=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54\">\r\n                <form class=\"login100-form validate-form\">\r\n                    <span class=\"login100-form-title p-b-49\">\r\n                        Login\r\n                    </span>\r\n    \r\n                    <div class=\"wrap-input100 validate-input m-b-23\" data-validate=\"School code is reauired\">\r\n                        <span class=\"label-input100\">School Code</span>\r\n                        <input class=\"input100\" type=\"text\" [(ngModel)]=\"schoolcode\r\n                        \" name=\"schoolcode\" placeholder=\"Type your School Code\">\r\n                        <span class=\"focus-input100\" data-symbol=\"&#xf206;\"></span>\r\n                    </div>\r\n    \r\n                    <div class=\"wrap-input100 validate-input m-b-23\" data-validate=\"Username is reauired\">\r\n                        <span class=\"label-input100\">Username</span>\r\n                        <input class=\"input100\" type=\"text\" [(ngModel)]=\"username\" name=\"username\" placeholder=\"Type your username\">\r\n                        <span class=\"focus-input100\" data-symbol=\"&#xf206;\"></span>\r\n                    </div>\r\n    \r\n                    <div class=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                        <span class=\"label-input100\">Password</span>\r\n                        <input class=\"input100\" type=\"password\" [(ngModel)]=\"password\" id=\"pass\" name=\"pass\" placeholder=\"Type your password\">\r\n                        <i class=\"far fa-eye\" style=\"float: right; margin-top: -34px; font-size: 20px; color: #9E9E9E; cursor: pointer;\" id=\"show\" (click)=\"showPassword(true);\" title=\"Show Password\"></i>\r\n                        <i class=\"far fa-eye-slash\" style=\"float: right; margin-top: -34px; font-size: 20px; color: #9E9E9E;cursor: pointer; display: none;\" id=\"hide\" (click)=\"showPassword(false);\" title=\"Hide Password\"></i>\r\n                        <span class=\"focus-input100\" data-symbol=\"&#xf190;\"></span>\r\n                    </div>\r\n    \r\n                    <div class=\"text-right p-t-8 p-b-31\">\r\n                        <a href=\"#\">\r\n                            Forgot password?\r\n                        </a>\r\n                    </div>\r\n    \r\n                    <div class=\"container-login100-form-btn\">\r\n                        <div class=\"wrap-login100-form-btn\">\r\n                            <div class=\"login100-form-bgbtn\"></div>\r\n                            <button class=\"login100-form-btn\" (click)=\"login();\">\r\n                                Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                        <p style=\"color: white\">{{spinnerText}}</p>\r\n                    </ngx-spinner>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n<!-- <div id=\"dropDownSelect1\"></div> -->","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport Swal from 'sweetalert2';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-mark-subject-wise-attendance',\r\n  templateUrl: './mark-subject-wise-attendance.component.html',\r\n  styleUrls: ['./mark-subject-wise-attendance.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class MarkSubjectWiseAttendanceComponent implements OnInit {\r\n  public userData: any;\r\n  public selectedClass: any;\r\n  public currentDate: string;\r\n  public ClassList: any[] = [];\r\n  public SubjectList: any[] = [];\r\n  public selectedSubejct: any = 0;\r\n  public spinnerText: string = 'Loading...';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  //Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedClass = 0;\r\n    this.selectedSubejct = 0;\r\n    this.currentDate = this.today;\r\n    this.loadAssignedClass();\r\n  }\r\n\r\n  loadAssignedClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'View Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  loadSubjectList() {\r\n    if (this.selectedClass == 0) {\r\n      this.StudentList = [];\r\n      this.selectedSubejct = 0;\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID\r\n      + \"&SectionId=\" + this.selectedClass.SectionId + \"&ClassId=\" + this.selectedClass.ClassId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.SubjectList = response.data.Subjects;\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Attendance Type\r\n  AttendanceType: any[] = []\r\n  loadAttendanceType() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"AttendanceType?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var type: any = res;\r\n          // console.log('Attendance Type: ', type);\r\n          if (type.code == 'OK') {\r\n            this.AttendanceType = type.data;\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  public StudentList: any[] = [];\r\n  loadStudentList() {\r\n    if (this.selectedSubejct == 0) {\r\n      this.StudentList = [];\r\n      return;\r\n    }\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"StudentList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID\r\n      + \"&SectionId=\" + this.selectedClass.SectionId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.StudentList = response.data;\r\n            // console.log(this.StudentList);\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Save Attendance\r\n  SaveAttendance() {\r\n    var todayDate: string;\r\n    if (parseInt(this.currentDate.split('-')[0]) < 10 && parseInt(this.currentDate.split('-')[1]) < 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-0' + this.currentDate.split('-')[1] + '-0' + this.currentDate.split('-')[0];\r\n    }\r\n    else if (parseInt(this.currentDate.split('-')[0]) > 10 && parseInt(this.currentDate.split('-')[1]) < 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-0' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    }\r\n    else if (parseInt(this.currentDate.split('-')[0]) < 10 && parseInt(this.currentDate.split('-')[1]) > 10) {\r\n      todayDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-0' + this.currentDate.split('-')[0];\r\n    }\r\n    else {\r\n      todayDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    }\r\n    var MarkAttendanceDetail: any[] = []\r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      MarkAttendanceDetail.push({\r\n        'StudentdetailId': this.StudentList[i].StudentDetailId,\r\n        'AttendanceTypeId': this.StudentList[i].AttendanceTypeId,\r\n        'AttendanceScheduleId': \"1\"\r\n      });\r\n    }\r\n    // console.log('Attendance Details: ',MarkAttendanceDetail);\r\n    var absent: number = 0;\r\n    for (let i = 0; i < MarkAttendanceDetail.length; i++) {\r\n      if (MarkAttendanceDetail[i].AttendanceTypeId == 2) {\r\n        absent = absent + 1;\r\n      }\r\n    }\r\n    var leave: number = 0;\r\n    for (let i = 0; i < MarkAttendanceDetail.length; i++) {\r\n      if (MarkAttendanceDetail[i].AttendanceTypeId == 3) {\r\n        leave = leave + 1;\r\n      }\r\n    }\r\n    var present: number = 0;\r\n    present = MarkAttendanceDetail.length - (absent + leave);\r\n    Swal.fire({\r\n      title: 'Mark Attendance',\r\n      text: 'Present: ' + present + ', Absent: ' + absent + ', Leave: ' + leave,\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'Cancel',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinnerText = 'Saving Attendance...';\r\n        this.spinnerService.show();\r\n        var data = {\r\n          \"DbName\": this.common.storage.get('DBName'),\r\n          \"TeacherId\": this.userData.TeacherID,\r\n          \"SchoolId\": this.common.storage.get('SchoolId'),\r\n          \"SessionId\": this.common.storage.get('SessionId'),\r\n          \"SectionId\": this.selectedClass.SectionId,\r\n          \"AttendanceDate\": todayDate,\r\n          \"StudentList\": MarkAttendanceDetail\r\n        };\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        let body = JSON.stringify(data); //Convert frontend Data into Json\r\n        this.http.post(this.common.Baseurl + \"SaveAttendance\", body, options).subscribe(\r\n          (res) => {\r\n            // console.log(res);\r\n            var response: any = res;\r\n            if (response.code == 'OK') {\r\n              this.toastr.success(response.message, 'Mark Attendance');\r\n              this.selectedClass = 0;\r\n              this.StudentList = [];\r\n              this.selectedSubejct = 0;\r\n              this.spinnerService.hide()\r\n              this.spinnerText = 'Loading...';\r\n            }\r\n            else {\r\n              this.toastr.error(response.message, 'Mark Attendance');\r\n              this.spinnerService.hide()\r\n              this.spinnerText = 'Loading...';\r\n            }\r\n          },\r\n          (err) => {\r\n            this.spinnerService.hide()\r\n            this.spinnerText = 'Loading...';\r\n            console.log(err);\r\n          }\r\n        );\r\n      }\r\n    })\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Mark Subject Wise Attendance</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadSubjectList();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.Class}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Subject</label>\r\n                                    <select [(ngModel)]=\"selectedSubejct\" class=\"form-control\" (change)=\"loadStudentList();loadAttendanceType();\">\r\n                                        <option [ngValue]=\"0\">Select Subject</option>\r\n                                        <option *ngFor=\"let subject of SubjectList\" [ngValue]=\"subject\">{{subject.SubjectName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let student of StudentList\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                <div class=\"fllef\">\r\n                                                    <h3 style=\"font-size: 23px;\">{{ student.StudentName }}\r\n                                                        <!-- <span><i class=\"fa fa-tag\"></i> {{ view.SubjectName }} </span>  -->\r\n                                                    </h3>\r\n                                                    <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                    <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                </div>\r\n                                            \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12 form-group\">\r\n                                                            <label for=\"\">Status</label>\r\n                                                            <select class=\"form-control\" [(ngModel)]=\"student.AttendanceTypeId\" [ngClass]=\"{'present-green': student.AttendanceTypeId == 1, 'absent-red': student.AttendanceTypeId == 2, 'leave-yellow': student.AttendanceTypeId == 3 }\">\r\n                                                                <option *ngFor=\"let type of AttendanceType\" [ngValue]=\"type.AttendanceTypeID\">{{type.AttendanceTypeName}}</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button *ngIf=\"StudentList.length > 0\" (click)=\"SaveAttendance();\">Mark Attendance</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-marks-entry',\r\n  templateUrl: './marks-entry.component.html',\r\n  styleUrls: ['./marks-entry.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class MarksEntryComponent implements OnInit {\r\n  public userData: any;\r\n  public ClassList: any[] = [];\r\n  public selectedClass: any;\r\n  public TermList: any[] = [];\r\n  public selectedTerm: any;\r\n  public selectedExam: any;\r\n  public ExamList: any[] = [];\r\n  public selectedSubject: any;\r\n  public SubjectList: any[] = [];\r\n  public examDate;\r\n  public minDate: any;\r\n  public orderBy: any;\r\n  public spinnerText: string;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n  onlyNumberKey(event) {\r\n    return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.selectedClass = 0;\r\n    this.selectedTerm = 0;\r\n    this.selectedExam = 0;\r\n    this.selectedSubject = 0;\r\n    this.loadAssignedClass();\r\n    this.loadSortBy()\r\n    this.minDate = this.ngbCalendar.getToday();\r\n  }\r\n\r\n  // Load Assigned Class\r\n  loadAssignedClass() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Marks Entry');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load term  \r\n  loadTerm() {\r\n    this.StudentList = [];\r\n    this.selectedTerm = 0;\r\n    this.selectedExam = 0;\r\n    this.selectedSubject = 0;\r\n    this.examDate = ''\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getterm?DbName=\" + this.common.storage.get('DBName') + \"&Type=Getterm\"\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&SectionId=\" + this.selectedClass.SectionId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.TermList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'View Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Load Exam   \r\n  loadExam() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getterm?DbName=\" + this.common.storage.get('DBName') + \"&Type=GetExam\"\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&SectionId=\" + this.selectedClass.SectionId + \"&TermId=\" + this.selectedTerm.ExamId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ExamList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Mark Entry');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Load Subject  \r\n  loadSubject() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getsubject?DbName=\" + this.common.storage.get('DBName') + \"&Type=GetSubject\"\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&SectionId=\" + this.selectedClass.SectionId + \"&TermId=\" + this.selectedTerm.ExamId\r\n      + \"&ExamId=\" + this.selectedExam.ExamId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.SubjectList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Mark Entry');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  public SortList: any[] = [];\r\n  loadSortBy() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"studentshort\", options).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.SortList = response.data;\r\n          this.orderBy = this.SortList[0];\r\n        }\r\n        else {\r\n          this.toastr.error(response.message, 'Mark Entry');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  // Load Attendance Type\r\n  AttendanceType: any[] = []\r\n  loadAttendaceType() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"examattendancetype?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SchoolId=\" + this.common.storage.get('SchoolId')\r\n      , options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.AttendanceType = response.data;\r\n            // console.log('Attendance Type',this.AttendanceType);\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Mark Entry');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Load Subject  \r\n  public StudentList: any[] = [];\r\n  public MaxMarks: string;\r\n  loadStudent() {\r\n    if (this.selectedClass == 0) {\r\n      this.toastr.warning('Please Select Class', 'Marks Entry');\r\n      return;\r\n    }\r\n    if (this.selectedTerm == 0) {\r\n      this.toastr.warning('Please Select Term', 'Marks Entry');\r\n      return;\r\n    }\r\n    if (this.selectedExam == 0) {\r\n      this.toastr.warning('Please Select Exam', 'Marks Entry');\r\n      return;\r\n    }\r\n    if (this.selectedSubject == 0) {\r\n      this.toastr.warning('Please Select Subject', 'Marks Entry');\r\n      return;\r\n    }\r\n    if (this.examDate == '' || this.examDate == undefined) {\r\n      this.toastr.warning('Please Select Exam Date', 'Marks Entry');\r\n      return;\r\n    }\r\n    if (this.orderBy == undefined) {\r\n      this.toastr.warning('Please Select Order By', 'Marks Entry');\r\n      return;\r\n    }\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getstudentforexam?DbName=\" + this.common.storage.get('DBName') + \"&Type=GetStudent\"\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&SectionId=\" + this.selectedClass.SectionId + \"&TermId=\" + this.selectedTerm.ExamId + '&OrderBy=' + this.orderBy.ShortName\r\n      + \"&ExamId=\" + this.selectedExam.ExamId + \"&SubjectMarksId=\" + this.selectedSubject.SubjectMarksId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            // console.log('Student List: ',response);\r\n            this.StudentList = response.data;\r\n            this.MaxMarks = this.StudentList[0].MaxMarks;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Mark Entry');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Save Marks\r\n  SaveMarks() {\r\n    var StudentMarks: any[] = [];\r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      if (this.StudentList[i].MarksObt > parseInt(this.MaxMarks)) {\r\n        this.toastr.warning(this.StudentList[i].StudentName + ' mark obtained is more than max mark', 'Marks Entry');\r\n        return;\r\n      }\r\n      StudentMarks.push({\r\n        'AttendanceStatus': this.StudentList[i].AttendanceStatus,\r\n        'MarksObt': this.StudentList[i].MarksObt,\r\n        'SessionId': this.common.storage.get('SessionId'),\r\n        'StuSubjectId': this.StudentList[i].StuSubjectId,\r\n        'StudentDetailId': this.StudentList[i].StudentDetailid,\r\n        'StudentMarksId': this.StudentList[i].StudentMarksId,\r\n        'Remarks': this.StudentList[i].Remarks,\r\n        'SubjectMarksId': this.selectedSubject.SubjectMarksId\r\n      })\r\n    }\r\n    // console.log('Student Marks:', StudentMarks);\r\n    var data = {\r\n      \"DbName\": this.common.storage.get('DBName'),\r\n      \"UserId\": this.userData.UserID,\r\n      \"SessionId\": this.common.storage.get('SessionId'),\r\n      \"SectionId\": this.selectedClass.SectionId,\r\n      \"AttendanceDate\": this.examDate,\r\n      \"ExamId\": this.selectedExam.ExamId,\r\n      \"SubjectMarksId\": this.selectedSubject.SubjectMarksId,\r\n      \"StudentMarks\": StudentMarks\r\n    };\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data); //Convert frontend Data into Json\r\n    this.spinnerText = 'Saving Student Marks...'\r\n    this.spinnerService.show();\r\n    this.http.post(this.common.Baseurl + \"savesrtudentmarks\", body, options).subscribe(\r\n      (res) => {\r\n        // console.log(res);\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.toastr.success(response.message, 'Marks Entry');\r\n          this.resetFields();\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.toastr.error(response.message, 'Marks Entry');\r\n          this.spinnerService.hide();\r\n\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.spinnerService.hide();\r\n      }\r\n    );\r\n  }\r\n  resetFields() {\r\n    this.selectedClass = 0;\r\n    this.selectedTerm = 0;\r\n    this.TermList = [];\r\n    this.selectedExam = 0;\r\n    this.ExamList = [];\r\n    this.selectedSubject = 0;\r\n    this.SubjectList = [];\r\n    this.examDate = '';\r\n    this.orderBy = this.SortList[0];\r\n    this.StudentList = [];\r\n    this.spinnerText = 'Loading...';\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Marks Entry</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadTerm();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.Class}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Term</label>\r\n                                    <select [(ngModel)]=\"selectedTerm\" class=\"form-control\" (change)=\"loadExam();\">\r\n                                        <option [ngValue]=\"0\">Select Term</option>\r\n                                        <option *ngFor=\"let term of TermList\" [ngValue]=\"term\">{{term.ExamName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Exam</label>\r\n                                    <select [(ngModel)]=\"selectedExam\" class=\"form-control\" (change)=\"loadSubject();\">\r\n                                        <option [ngValue]=\"0\">Select Exam</option>\r\n                                        <option *ngFor=\"let exam of ExamList\" [ngValue]=\"exam\">{{exam.ExamName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Subject</label>\r\n                                    <select [(ngModel)]=\"selectedSubject\" class=\"form-control\">\r\n                                        <option [ngValue]=\"0\">Select Subject</option>\r\n                                        <option *ngFor=\"let subject of SubjectList\" [ngValue]=\"subject\">{{subject.SubjectName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Exam Date</label>\r\n                                    <input type=\"text\" class=\"form-control\" [maxDate]=\"minDate\" [(ngModel)]=\"examDate\" name=\"d1\" ngbDatepicker #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\" placeholder=\"DD-MM-YYYY\" />\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Order By</label>\r\n                                    <select [(ngModel)]=\"orderBy\" class=\"form-control\">\r\n                                        <option *ngFor=\"let sort of SortList\" [ngValue]=\"sort\">{{sort.ShortName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)='loadStudent();loadAttendaceType();'>Show</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" *ngIf=\"StudentList.length > 0\">\r\n                                <div class=\"col-md-3\">\r\n                                    <h5>Maximum Marks: {{MaxMarks}}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let student of StudentList\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                <div class=\"fllef\">\r\n                                                    <h3 style=\"font-size: 18px;\">{{ student.StudentName }}\r\n                                                    </h3>\r\n                                                    <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                    <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                    <div class=\"col-md-3 form-group\" style=\"float: right; margin-top: -80px;\">\r\n                                                        <label for=\"\">Marks Obt.</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"student.MarksObt\" (keypress)=\"onlyNumberKey($event)\" minlength=\"3\">\r\n                                                    </div>\r\n                                                </div>\r\n                                            \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12 form-group\">\r\n                                                            <label for=\"\">Status</label>\r\n                                                            <select class=\"form-control\" [(ngModel)]=\"student.AttendanceStatus\">\r\n                                                                <option *ngFor=\"let type of AttendanceType\" [ngValue]=\"type.AttendanceSymbol\">{{type.AttendanceName}}</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button *ngIf=\"StudentList.length > 0\" (click)=\"SaveMarks();\">Save Marks</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component,  ViewChild, OnInit,ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport * as $ from 'jquery';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ExcelServiceService } from \"../services/excel-service.service\";\r\n\r\n@Component({\r\n  selector: 'app-my-attendance',\r\n  templateUrl: './my-attendance.component.html',\r\n  styleUrls: ['./my-attendance.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class MyAttendanceComponent implements OnInit {\r\n  public spinnerText: string;\r\n  public userData: any;\r\n  public SessionMonth: any[] = [];\r\n  public currentDate: string;\r\n  public selectedMonth: string;\r\n  public AttendanceData: any[] = [];\r\n\r\n  // Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private fileService: ExcelServiceService,\r\n    private spinnerService: NgxSpinnerService,\r\n    private common: CommonclassService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    if (this.userData === null) {\r\n      this.router.navigate(['']);\r\n    }\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    // this.selectedGroup = 0;\r\n    this.spinnerText = 'Loading...';\r\n    this.currentDate = this.today;\r\n    this.loadSessionMonth();\r\n  }\r\n  // Load Session Month\r\n  loadSessionMonth() {\r\n    var d = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetSessionMonths?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&CurrentDate=\" + d, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.SessionMonth = response.data.months;\r\n            this.selectedMonth = this.SessionMonth[0].MonthName;\r\n            // console.log(this.SessionMonth);\r\n            this.loadAttendance();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'My Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Attendance\r\n  loadAttendance(){\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    debugger\r\n    this.http.get(this.common.Baseurl + \"employeeattendancestatuswise?DbName=\" + this.common.storage.get('DBName')\r\n    + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&Status=All\" + \"&MachineDBName=\" + this.common.storage.get('MachineDBName')\r\n    + \"&UserId=\" + this.userData.UserID + \"&Month=\" + this.selectedMonth.split('-')[0].toString() + \"&Year=\" + this.selectedMonth.split('-')[1].toString(), options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.AttendanceData = response.data;\r\n          console.log(this.AttendanceData);\r\n        }\r\n        else {\r\n          this.toastr.warning(response.message, 'My Attendance');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"attendance-di\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <h3>My Attendance</h3>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-4 form-group\">\r\n                                        <label for=\"\">Select Month</label>\r\n                                        <select class=\"form-control\" [(ngModel)]=\"selectedMonth\">\r\n                                            <option [ngValue]=\"month.MonthName\" *ngFor=\"let month of SessionMonth\">{{ month.MonthName }}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"present-div common-divv\">\r\n                                            <h3>Present : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"absent-div common-divv\">\r\n                                            <h3>Absent : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"halfday-div common-divv\">\r\n                                            <h3>Half Day : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"onduty-div common-divv\">\r\n                                            <h3>On Duty : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"leave-div common-divv\">\r\n                                            <h3>Leave : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"holiday-div common-divv\">\r\n                                            <h3>Holiday : 0</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-12\">\r\n                                        <div class=\"btn-attendance-show \">\r\n                                            <a href=\"\">View Details</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"attendance-my-show\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>18th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Working</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"Present\">Present</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>17th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Working</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"Absent\">Absent</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>16th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Working</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"halfday\">Half Day</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>15th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Working</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"onduty\">On Duty</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>14th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Sunday</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"Holiday\">Holiday</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>13th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Second Saturday</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"Holiday\">Holiday</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"single-att single-my-att\">\r\n                                                <h3>12th June 2020</h3>\r\n                                                <div class=\"color-divvvv color-divv-my\">\r\n                                                    <div class=\"firstt\">\r\n                                                        <h4>Type</h4>\r\n                                                        <p>Working</p>\r\n                                                    </div>\r\n                                                    <div class=\"secondd\">\r\n                                                        <h4>Status</h4>\r\n                                                        <p class=\"Leave\">Leave</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<!-- /.content-wrapper -->","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\n// import { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\n// import { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport { MyDetails } from \"../common-class\";\r\nimport * as $ from 'jquery'\r\n\r\n@Component({\r\n  selector: 'app-my-details',\r\n  templateUrl: './my-details.component.html',\r\n  styleUrls: ['./my-details.component.css']\r\n})\r\nexport class MyDetailsComponent implements OnInit {\r\n  userData: any;\r\n  profileData: any;\r\n  editData = new MyDetails();\r\n\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private imageCompress: NgxImageCompressService,\r\n    private spinnerService: NgxSpinnerService,\r\n    private titleService: Title\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    this.profileData = this.common.storage.get('ProfileData');\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n  }\r\n  // chooseFile\r\n  chooseFile() {\r\n    $(\"#fileInput\").click();\r\n  }\r\n  // Edit profile\r\n  editProfile() {\r\n    // this.editData = new MyDetails(this.userData.VAddress, this.userData.PhoneNo, this.userData.TeacherName, this.userData.UserImage);\r\n    this.editData.Name = this.userData.TeacherName;\r\n    this.editData.MobileNo = this.userData.PhoneNo;\r\n    this.editData.Address = this.userData.VAddress;\r\n    this.editData.ProfilePic = this.userData.UserImage;\r\n  }\r\n  // Profile Pic Upload\r\n  profileImage: File;\r\n  \r\n  UploadImage(event) {\r\n    this.profileImage = event.target.files.item(0);\r\n    var ext = this.profileImage.type;\r\n    var fileName = this.profileImage.name;\r\n    if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n      if (Math.round(this.profileImage.size / 1024) > 500) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(this.profileImage);\r\n        reader.onload = (event: any) => {\r\n          this.editData.ProfilePic = event.target.result;\r\n          var orientation = -1;\r\n          this.imageCompress.compressFile(this.editData.ProfilePic, orientation, 50, 50).then(\r\n            result => {\r\n              // console.log(result);\r\n              var imgResultAfterCompress = result;\r\n              const imageName = fileName;\r\n              var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n              const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n              this.profileImage = imageFile;\r\n            }\r\n          );\r\n        }\r\n      }\r\n      else {\r\n        debugger\r\n        var fileReader = new FileReader();\r\n        fileReader.readAsDataURL(this.profileImage);\r\n        fileReader.onload = (_event) => {\r\n          this.editData.ProfilePic = _event.target.result;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select a image.');\r\n    }\r\n  }\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  // Update Profile\r\n  UpdateProfile(){\r\n    if(this.editData.Name == undefined || this.editData.Name == '' || this.editData.Name == null) {\r\n      this.toastr.warning('Please type name.');\r\n      return;\r\n    }\r\n    if(this.editData.MobileNo == undefined || this.editData.MobileNo == '' || this.editData.MobileNo == null) {\r\n      this.toastr.warning('Please provide mobile no');\r\n      return;\r\n    }\r\n    if(this.editData.Address == undefined || this.editData.Address == '' || this.editData.Address == null) {\r\n      this.toastr.warning('Please provide address');\r\n      return;\r\n    }\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('TeacherId', this.userData.TeacherID);\r\n    formData.append('UserId', this.userData.UserID.toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('Name', this.editData.Name);\r\n    formData.append('Address', this.editData.Address);\r\n    formData.append('MobileNo', this.editData.MobileNo);\r\n    if(this.profileImage != null || this.profileImage != undefined){\r\n      formData.append('profilePic', this.profileImage);\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + 'UpdateProfilePicture', formData).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.toastr.success(response.message, 'Update Profile');\r\n          $('#closeButton').click();\r\n        }\r\n        else {\r\n          this.toastr.warning(response.message, 'Update Profile');\r\n        }\r\n      },\r\n      (err) => {\r\n        if(err.status == 401) {\r\n          console.error(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"profile-imgg\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"img-prfi\">\r\n                                            <img [src]=\"userData.UserImage\" alt=\"\" class=\"img-fluid img-responsive\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"content-prf\">\r\n                                            <h3>{{ userData.TeacherName }}</h3>\r\n                                            <p>Empcode : {{profileData.EmployeeId}}</p>\r\n                                            <a href=\"#edit-profile\" (click)=\"editProfile();\" data-toggle=\"modal\">Edit Profile</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"profile-middle\">\r\n                                <div class=\"row list-subjects list-profile\" id=\"homework-history\">\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"float-leftprofile\">\r\n                                                    <img src=\"../../assets/images/hierarchy.png\" alt=\"\"\r\n                                                        class=\"img-fluid img-responsive\">\r\n                                                </div>\r\n                                                <div class=\"float-contright\">\r\n                                                    <h4>Department</h4>\r\n                                                    <p>{{profileData.Dept}}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"float-leftprofile\">\r\n                                                    <img src=\"../../assets/images/calendar-birthday.png\" alt=\"\"\r\n                                                        class=\"img-fluid img-responsive\">\r\n                                                </div>\r\n                                                <div class=\"float-contright\">\r\n                                                    <h4>Date of Birth</h4>\r\n                                                    <p>{{ profileData.DOB }}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"float-leftprofile\">\r\n                                                    <img src=\"../../assets/images/calendar-joining.png\" alt=\"\"\r\n                                                        class=\"img-fluid img-responsive\">\r\n                                                </div>\r\n                                                <div class=\"float-contright\">\r\n                                                    <h4>Date of Joining</h4>\r\n                                                    <p>{{profileData.DOJ}}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"float-leftprofile\">\r\n                                                    <img src=\"../../assets/images/mobile-no.png\" alt=\"\"\r\n                                                        class=\"img-fluid img-responsive\">\r\n                                                </div>\r\n                                                <div class=\"float-contright\">\r\n                                                    <h4>Mobile Number</h4>\r\n                                                    <p>{{userData.PhoneNo}}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"float-leftprofile\">\r\n                                                    <img src=\"../../assets/images/map.png\" alt=\"\" class=\"img-fluid img-responsive\">\r\n                                                </div>\r\n                                                <div class=\"float-contright\">\r\n                                                    <h4>Address</h4>\r\n                                                    <p>{{ userData.VAddress }}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<div class=\"modal fade album-modal edit-modal\" id=\"edit-profile\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Edit Profile</h5>\r\n                <button type=\"button\" id=\"closeButton\" title=\"Close\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"img-prfi positionnn\">\r\n                    <img [src]=\"editData.ProfilePic\" alt=\"\" class=\"img-fluid img-responsive\">\r\n                    <div style=\"height:0px;overflow:hidden\">\r\n                        <input type=\"file\" id=\"fileInput\" name=\"fileInput\" (change)=\"UploadImage($event);\" accept=\".jpeg,.jpg,.png\"/>\r\n                    </div>\r\n                    <span class=\"span-pic fa fa-camera \" style=\"cursor: pointer; font-size: 16px; padding-top: 5px;\" title=\"Upload Profile Picture\" (click)=\"chooseFile()\"></span>\r\n                </div>\r\n                <div class=\"edit-form\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6 form-group\">\r\n                            <label for=\"\">Name</label>\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"editData.Name\">\r\n                        </div>\r\n                        <div class=\"col-md-6 form-group\">\r\n                            <label for=\"\">Mobile No.</label>\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"editData.MobileNo\">\r\n                        </div>\r\n                        <div class=\"col-md-12 form-group\">\r\n                            <label for=\"\">Address</label>\r\n                            <textarea rows=\"3\" class=\"form-control\" [(ngModel)]=\"editData.Address\"></textarea>\r\n                        </div>\r\n                        <div class=\"col-md-12 \">\r\n                            <div class=\"buttoncontainer\">\r\n                                <button value=\"Update\" (click)=\"UpdateProfile();\"> Update</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- /.content-wrapper -->","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-send-circular',\r\n  templateUrl: './send-circular.component.html',\r\n  styleUrls: ['./send-circular.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class SendCircularComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public title: string;\r\n  public EmployeeTypeList: any[] = [];\r\n  public dropdownSettings: IDropdownSettings = {};\r\n  public dropdownSettings_dept: IDropdownSettings = {};\r\n  public dropdownSettings_desg: IDropdownSettings = {};\r\n  public selectedEmployeeType: any;\r\n  public EmployeeCircularTypeList: any[] = [];\r\n  public selectedCircularType: any;\r\n  public EmployeeDepartmentList: any[] = [];\r\n  public selectedDepartment: any[];\r\n  public EmployeeList: any[] = [];\r\n  public selectedEmployee: any[];\r\n  public EmployeeDesignationList: any[] = [];\r\n  public selectedDesignation: any[];\r\n  public message: string;\r\n  public YouTubeUrl: string;\r\n  public currentDate; string;\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n  // Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.currentDate = this.today;\r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'UserId',\r\n      textField: 'UserName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.dropdownSettings_dept = {\r\n      singleSelection: false,\r\n      idField: 'DepartmentId',\r\n      textField: 'DepartmentName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.dropdownSettings_desg = {\r\n      singleSelection: false,\r\n      idField: 'DesignationId',\r\n      textField: 'DesignationName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.loadEmployeeType();\r\n    this.selectedEmployeeType = 0;\r\n    this.selectedCircularType = 0;\r\n  }\r\n  // Dropdown methods\r\n  onItemSelect(item: any) {\r\n    // console.log('onItemSelect:',item)\r\n  }\r\n  onSelectAll(items: any) {\r\n    // console.log('onSelectAll',items)\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    // console.log('onItemDeSelect',items)\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n  // Load Employee Type\r\n  loadEmployeeType() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetEmployeeType?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.EmployeeTypeList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'Send Circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Employee Type\r\n  loadEmployeeCircularType() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"employeecirculartype\", options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.EmployeeCircularTypeList = response.data;\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.toastr.warning(response.message, 'Send Circular');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n          this.spinnerService.hide();\r\n        }\r\n      }\r\n    );\r\n  }\r\n  loadEmployeeDepartment() {\r\n    this.EmployeeDepartmentList = [];\r\n    this.EmployeeDesignationList = [];\r\n    this.EmployeeList = [];\r\n    this.selectedEmployee = [];\r\n    this.selectedDepartment = [];\r\n    this.selectedDesignation = [];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + 'getemployeedepartment?DbName=' + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&EmpCategory=\" + this.selectedEmployeeType.employeetype + \"&CircularTypeName=\" + this.selectedCircularType.CircularTypeName, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            debugger\r\n            if (this.selectedCircularType.CircularTypeName == 'Department') {\r\n              this.EmployeeDepartmentList = response.data.department;\r\n            }\r\n            else if (this.selectedCircularType.CircularTypeName == 'Designation') {\r\n              this.EmployeeDesignationList = response.data.designation;\r\n            }\r\n            else {\r\n              this.EmployeeList = response.data.employee;\r\n            }\r\n            this.spinnerService.hide(); // stop spinner\r\n          }\r\n          else {\r\n            // this.toastr.warning(response.message, 'Send Circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // file upload change event\r\n  attachment: File;\r\n  attachmentFiles: File[] = [];\r\n  fileURL: any;\r\n  fileURLs: any[] = [];\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Send Circular');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length == 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Send Circular');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Send Circular');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format', 'Send Circular');\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Send Circular');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n\r\n  //Save Employee circular\r\n  SaveCircular() {\r\n    if (this.title == '' || this.title == undefined || this.title == null) {\r\n      this.toastr.warning('Please Type Circular Title.', 'Send Circular');\r\n      return;\r\n    }\r\n    if (this.selectedEmployeeType == 0 || this.selectedEmployeeType == undefined) {\r\n      this.toastr.warning('Please Select Employee Type.', 'Send Circular');\r\n      return;\r\n    }\r\n    if (this.selectedCircularType == 0 || this.selectedCircularType == undefined) {\r\n      this.toastr.warning('Please Select Circular Group.', 'Send Circular');\r\n      return;\r\n    }\r\n    var DepartmentIds: string = '';\r\n    var DesignationIds: string = '';\r\n    var UserIds: string = '';\r\n    if (this.selectedCircularType.CircularTypeName == 'Selected') {\r\n      if (this.selectedEmployee.length == 0) {\r\n        this.toastr.warning('Please Select Employee', 'Send Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedEmployee.length; i++) {\r\n        if (UserIds == '') {\r\n          UserIds = UserIds + this.selectedEmployee[i].UserId;\r\n        }\r\n        else {\r\n          UserIds = UserIds + ',' + this.selectedEmployee[i].UserId;\r\n        }\r\n      }\r\n    }\r\n    else if (this.selectedCircularType.CircularTypeName == 'Department') {\r\n      if (this.selectedDepartment.length == 0) {\r\n        this.toastr.warning('Please Select Department.', 'Send Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedDepartment.length; i++) {\r\n        if (DepartmentIds == '') {\r\n          DepartmentIds = DepartmentIds + this.selectedDepartment[i].DepartmentId;\r\n        }\r\n        else {\r\n          DepartmentIds = DepartmentIds + ',' + this.selectedDepartment[i].DepartmentId;\r\n        }\r\n      }\r\n    }\r\n    else if (this.selectedCircularType.CircularTypeName == 'Designation') {\r\n      if (this.selectedDesignation.length == 0) {\r\n        this.toastr.warning('Please Select Designation.', 'Send Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedDesignation.length; i++) {\r\n        if (DesignationIds == '') {\r\n          DesignationIds = DesignationIds + this.selectedDesignation[i].DesignationId;\r\n        }\r\n        else {\r\n          DesignationIds = DesignationIds + ',' + this.selectedDesignation[i].DesignationId;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      UserIds = '';\r\n      DepartmentIds = '';\r\n      DesignationIds = '';\r\n    }\r\n\r\n    if (this.message == '' || this.message == null) {\r\n      this.toastr.warning('Please Type Message', 'Send Circular');\r\n      return;\r\n    }\r\n    if (this.YouTubeUrl == null || this.YouTubeUrl == '' || this.YouTubeUrl == undefined) {\r\n      var url = '';\r\n    }\r\n    else {\r\n      var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n      var verifyUrl = this.YouTubeUrl.match(regExp);\r\n      if (verifyUrl && verifyUrl[2].length == 11) {\r\n        url = this.YouTubeUrl;\r\n      }\r\n      else {\r\n        this.toastr.warning('Invalid YouTube URL.', 'Send Circular');\r\n        return;\r\n      }\r\n    }\r\n    var d: string = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('Date', d);\r\n    formData.append('Circular', this.message);\r\n    formData.append('SentTo', this.selectedCircularType.CircularTypeName);\r\n    formData.append('DepartmentIds', DepartmentIds);\r\n    formData.append('DesignationIds', DesignationIds);\r\n    formData.append('UserIds', UserIds);\r\n    formData.append('Title', this.title);\r\n    formData.append('YoutubeURL', url);\r\n    formData.append('SessionName', \"2020-21\");\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        formData.append('images', this.attachmentFiles[i]);\r\n      }\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerText = 'Sending Circular...';\r\n    this.spinnerService.show();\r\n    this.http.post(this.common.Baseurl + \"saveteachercircular\", formData).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.toastr.success(response.message, 'Send Circular');\r\n          this.Reset();\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.toastr.success(response.message, 'Send Circular');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    )\r\n  }\r\n  Reset() {\r\n    this.title = '';\r\n    this.selectedEmployeeType = 0;\r\n    this.selectedCircularType = 0;\r\n    this.EmployeeCircularTypeList = [];\r\n    this.EmployeeDepartmentList = [];\r\n    this.EmployeeDesignationList = [];\r\n    this.EmployeeList = [];\r\n    this.selectedEmployee = [];\r\n    this.selectedDepartment = [];\r\n    this.selectedDesignation = [];\r\n    this.message = '';\r\n    this.YouTubeUrl = '';\r\n    this.attachmentFiles = [];\r\n    this.fileURLs = [];\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Send Circular</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Title</label>\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Circular Title\" [(ngModel)]=\"title\">\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\" class=\"label-control\">Employee Type</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"selectedEmployeeType\" (change)=\"loadEmployeeCircularType();\">\r\n                                        <option [ngValue]=\"0\">Select Employee Type</option>\r\n                                        <option *ngFor=\"let type of EmployeeTypeList\" [ngValue]=\"type\">{{type.employeetype}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\" class=\"label-control\">Circular Type</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"selectedCircularType\" (change)='loadEmployeeDepartment();'>\r\n                                        <option [ngValue]=\"0\">Select Circular Type</option>\r\n                                        <option *ngFor=\"let type of EmployeeCircularTypeList\" [ngValue]=\"type\">{{type.CircularTypeName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeList.length == 0\">\r\n                                    <label for=\"\" class=\"label-control\">Employee</label>\r\n                                    <ng-multiselect-dropdown [placeholder]=\"'Select Employee'\"\r\n                                        [data]=\"EmployeeList\" [(ngModel)]=\"selectedEmployee\"\r\n                                        [settings]=\"dropdownSettings\"\r\n                                        (onSelect)=\"onItemSelect($event)\"\r\n                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeDepartmentList.length == 0\">\r\n                                    <label for=\"\" class=\"label-control\">Department</label>\r\n                                    <ng-multiselect-dropdown [placeholder]=\"'Select Department'\"\r\n                                        [data]=\"EmployeeDepartmentList\" [(ngModel)]=\"selectedDepartment\"\r\n                                        [settings]=\"dropdownSettings_dept\"\r\n                                        (onSelect)=\"onItemSelect($event)\"\r\n                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeDesignationList.length == 0\">\r\n                                    <label for=\"\" class=\"label-control\">Designation</label>\r\n                                    <ng-multiselect-dropdown [placeholder]=\"'Select Designation'\"\r\n                                        [data]=\"EmployeeDesignationList\" [(ngModel)]=\"selectedDesignation\"\r\n                                        [settings]=\"dropdownSettings_desg\"\r\n                                        (onSelect)=\"onItemSelect($event)\"\r\n                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">Message</label>\r\n                                    <textarea rows=\"3\" class=\"form-control\" [(ngModel)]=\"message\" placeholder=\"Type Message...\"></textarea>\r\n                                </div>\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">YouTube URL</label>\r\n                                    <input type=\"url\" class=\"form-control\" [(ngModel)]=\"YouTubeUrl\" placeholder=\"YouTube URL\">\r\n                                </div>\r\n                                <div class=\"col-md-4 form-group\">\r\n                                    <label for=\"\">Attachment </label>\r\n                                    <input type=\"file\" class=\"form-control\" id=\"attachment\" accept=\".pdf,.jpg,.jpeg,.png\" (change)=\"fileToUpload($event)\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">Attachments</h5>\r\n                                <ul *ngIf=\"fileURLs && fileURLs.length > 0\" class=\"images-feed image-cancel\">\r\n                                    <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                        <a [href]=\"filePath\" target=\"_blank\">\r\n                                            <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                        </a>\r\n                                        <a (click)=\"removeAttachment(i);\">\r\n                                            <span class=\"fa fa-times\"></span>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)=\"SaveCircular();\">Send Circular</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\n//import { StorageMap } from '@ngx-pwa/local-storage';\r\nimport { LocalStorageService } from 'angular-2-local-storage';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommonclassService {\r\n  // Baseurl:string=\"https://teacherapi.digitechindia.co.in/android/v2.10/api/\";\r\n  // Baseurl:string = \"http://localhost:20149/api/\"\r\n  Baseurl:string = \"https://teacherapi.cyberschoolmanager.com/android/dev/api/\"\r\n  constructor( public storage: LocalStorageService ) { }\r\n  SessionValidate(): boolean{\r\n    return true;\r\n  }\r\n  ClearLocalStorage(){\r\n    this.storage.clearAll();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n  data: any;\r\n  private dataSource = new BehaviorSubject(this.data);\r\n  currentData = this.dataSource.asObservable();\r\n  constructor() { }\r\n\r\n  changeData(data : any){\r\n    this.dataSource.next(data);\r\n  }\r\n}\r\n","import { Injectable, Component } from '@angular/core';\r\nimport {NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct} from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DatepickerFormatService  {\r\n\r\n  constructor() { }\r\n}\r\n\r\n@Injectable()\r\nexport class CustomAdapter extends NgbDateAdapter<string> {\r\n\r\n  readonly DELIMITER = '-';\r\n\r\n  fromModel(value: string | null): NgbDateStruct | null {\r\n    if (value) {\r\n      let date = value.split(this.DELIMITER);\r\n      return {\r\n        day : parseInt(date[0], 10),\r\n        month : parseInt(date[1], 10),\r\n        year : parseInt(date[2], 10)\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  toModel(date: NgbDateStruct | null): string | null {\r\n    return date ? date.day + this.DELIMITER + date.month + this.DELIMITER + date.year : null;\r\n  }\r\n}\r\n\r\n/**\r\n * This Service handles how the date is rendered and parsed from keyboard i.e. in the bound input field.\r\n */\r\n@Injectable()\r\nexport class CustomDateParserFormatter extends NgbDateParserFormatter {\r\n\r\n  readonly DELIMITER = '/';\r\n\r\n  parse(value: string): NgbDateStruct | null {\r\n    if (value) {\r\n      let date = value.split(this.DELIMITER);\r\n      return {\r\n        day : parseInt(date[0], 10),\r\n        month : parseInt(date[1], 10),\r\n        year : parseInt(date[2], 10)\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n  format(date: NgbDateStruct | null): string {\r\n    // if (date.day < 10 && date.month < 10) {\r\n    //   return date ? '0' + date.day + '-0' + date.month + '-' + date.year : '';\r\n    // }\r\n    // if (date.day < 10 && date.month > 10) {\r\n    //   return date ? '0' + date.day + '-' + date.month + '-' + date.year : '';\r\n    // }\r\n    // if (date.day > 10 && date.month < 10) {\r\n    //   return date ? date.day + '-0' + date.month + '-' + date.year : '';\r\n    // }\r\n    return date ? date.day + '-' + date.month + '-' + date.year : '';\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DownloadService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  // To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  // Download attachment\r\n  public SaveFile(url: string) {\r\n    let ext: string = this.getFileExtension(url);\r\n    fetch(url).then(response => response.blob()).then(blob => {\r\n      // use blob here...\r\n      const url = URL.createObjectURL(blob);\r\n      // Create a new anchor element\r\n      const a = document.createElement('a');\r\n\r\n      document.body.appendChild(a);\r\n      a.style.display = 'none';\r\n      a.href = url;\r\n      a.download = 'AttachmentFile.' + ext || 'download.' + ext;\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    });\r\n  }\r\n\r\n  download(url: string): Observable<Blob> {\r\n    return this.http.get(url, {\r\n      responseType: 'blob'\r\n    })\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n// import * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\nconst EXCEL_EXTENSION = '.xlsx';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExcelServiceService {\r\n\r\n  constructor() { }\r\n  public exportAsExcelFile(json: any[], excelFileName: string): void {\r\n    \r\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\r\n    // console.log('worksheet',worksheet);\r\n    const workbook: XLSX.WorkBook = { Sheets: { 'data': worksheet }, SheetNames: ['data'] };\r\n    const excelBuffer: any = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n    //const excelBuffer: any = XLSX.write(workbook, { bookType: 'xlsx', type: 'buffer' });\r\n    this.saveAsExcelFile(excelBuffer, excelFileName);\r\n  }\r\n\r\n  private saveAsExcelFile(buffer: any, fileName: string): void {\r\n    const data: Blob = new Blob([buffer], { type: EXCEL_TYPE });\r\n    const url = window.URL.createObjectURL(data);\r\n    var a = document.createElement(\"a\");\r\n    document.body.appendChild(a);\r\n    a.style.display = 'none';\r\n    a.href = url;\r\n    a.download = fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n    // FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\r\n  }\r\n  \r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport Swal from 'sweetalert2';\r\n// import { Session } from 'protractor';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Title } from \"@angular/platform-browser\";\r\n\r\n\r\n\r\ndeclare var $: any;\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.css']\r\n})\r\nexport class SidebarComponent implements OnInit {\r\n  userdata: any;\r\n  menuList: any[] = [];\r\n  schoolName: string;\r\n  schoollogo: string = \"\";\r\n  schoolCode: string = ''\r\n  constructor(\r\n    private common: CommonclassService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private toster: ToastrService,\r\n    private titleService: Title\r\n  ) { }\r\n  public loadScript(url: string) {\r\n    const body = <HTMLDivElement>document.body;\r\n    const script = document.createElement('script');\r\n    script.innerHTML = '';\r\n    script.src = url;\r\n    script.async = false;\r\n    script.defer = true;\r\n    body.appendChild(script);\r\n  }\r\n  ngOnInit(): void {\r\n    //  this.loadScript('../../assets/js/adminlte.js');\r\n    //  this.loadScript('../../assets/js/bootstrap4-toggle.min.js');\r\n    this.userdata = this.common.storage.get(\"user\");\r\n    if (this.userdata === null) {\r\n      // this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.schoolName = this.common.storage.get('SchoolName');\r\n    this.schoolCode = this.common.storage.get('SchoolCode');\r\n    this.schoollogo = this.common.storage.get('logo');\r\n    if (this.userdata != null) {\r\n      this.loadAppMenu();\r\n      this.loadDashboard();\r\n    }\r\n  }\r\n\r\n  // Load App Menu\r\n  loadAppMenu() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetAppMenus?DbName=\" + this.common.storage.get('DBName') + '&SchoolId=' + this.common.storage.get('SchoolId')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.userdata.SessionID + \"&UserId=\" + this.userdata.UserID + \"&RequestFrom=Panel\", options).subscribe(\r\n        (data) => {\r\n          var response: any = data;\r\n          if (response.code == 'OK') {\r\n            this.menuList = response.data;\r\n            console.log('App Menu', this.menuList);\r\n          }\r\n          else {\r\n            this.menuList = [];\r\n            console.error('LOAD MENU ' + response.code + ' !!! PLEASE CONTACT ADMIN');\r\n          }\r\n\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  \r\n  // logout \r\n  logout() {\r\n    Swal.fire({\r\n      title: 'Logout',\r\n      text: 'Are you sure to logout?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.common.storage.clearAll();\r\n        this.router.navigate(['']);\r\n      }\r\n    })\r\n  }\r\n  // Toggel Menu Method\r\n  togglemenu(menu) {\r\n    if (($('#' + menu).hasClass('menu-open'))) {\r\n      $('#' + menu).removeClass('menu-open');\r\n    }\r\n    else {\r\n      $('#' + menu).addClass('menu-open');\r\n    }\r\n  }\r\n\r\n  // Check for submenu.\r\n  goToPageUrl(menu: any){\r\n    if(menu.SubMenu.length == 0){\r\n      this.router.navigate([menu.PageUrl]);\r\n      \r\n    }\r\n  }\r\n\r\n  // Call Dashboard API\r\n  public SessionList: any[] = [];\r\n  public sessionData: any;\r\n  public selectedSession: any;\r\n  loadDashboard() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"DashBoard?DbName=\" + this.common.storage.get('DBName') + '&SchoolId=' + this.common.storage.get('SchoolId')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID\r\n      + \"&deviceIMEI=789655852282208&appVersion=1.5\" + \"&MachineDBName=\" + this.common.storage.get('MachineDBName'), options).subscribe(\r\n        (data) => {\r\n          var response: any = data;\r\n          console.log('Dashboard Data: ', response);\r\n          this.common.storage.set('DashboardData', response.data);\r\n          this.common.storage.set('session', response.data.session);\r\n          this.common.storage.set('ProfileData', response.data.Profiledata);\r\n          this.SessionList = response.data.sessionlist;\r\n          this.sessionData = response.data.session;\r\n          this.selectedSession = this.SessionList[this.SessionList.findIndex(x => x.SessionId == this.sessionData.SessionId)];\r\n          // this.selectedSession = this.SessionList[1];\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Code for change session \r\n  SessionChange() {\r\n    this.common.storage.remove('SessionId');\r\n    this.common.storage.remove('ProfileData');\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"DashBoard?DbName=\" + this.common.storage.get('DBName') + '&SchoolId=' + this.common.storage.get('SchoolId')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.selectedSession.SessionId + \"&UserId=\" + this.userdata.UserID\r\n      + \"&deviceIMEI=789655852282208&appVersion=1.5\" + \"&MachineDBName=\" + this.common.storage.get('MachineDBName'), options).subscribe(\r\n        (data) => {\r\n          var response: any = data;\r\n          console.log('Dashboard Data: ', response);\r\n          if (response.code == 'OK') {\r\n            this.common.storage.set('DashboardData', response.data);\r\n            this.common.storage.set('SessionId', response.data.session.SessionId);\r\n            this.common.storage.set('ProfileData', response.data.Profiledata);\r\n            this.SessionList = response.data.sessionlist;\r\n            this.sessionData = response.data.session;\r\n            this.selectedSession = this.SessionList[this.SessionList.findIndex(x => x.SessionId == this.sessionData.SessionId)];\r\n            this.router.navigate(['dashboard']);\r\n            this.toster.success('Session Changed.');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // change page title \r\n  pageTitleChange(pageTitle){\r\n    this.titleService.setTitle(pageTitle);\r\n  }\r\n}\r\n","<!-- Navbar -->\r\n<nav class=\"main-header navbar navbar-expand navbar-white navbar-light\">\r\n    <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-widget=\"pushmenu\" href=\"#\" role=\"button\"><i class=\"fas fa-bars\"></i></a>\r\n        </li>\r\n    </ul>\r\n    <!-- SEARCH FORM -->\r\n    <form class=\"form-inline ml-3\">\r\n        <div class=\"input-group input-group-sm\">\r\n            <!-- <input class=\"form-control form-control-navbar\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\r\n            <div class=\"input-group-append\">\r\n                <button class=\"btn btn-navbar\" type=\"submit\">\r\n                    <i class=\"fas fa-search\"></i>\r\n                </button>\r\n            </div> -->\r\n            <select class=\"form-control form-control-navbar\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"selectedSession\" (change)=\"SessionChange()\">\r\n                <option *ngFor=\"let session of SessionList\" [ngValue]=\"session\">{{ session.SessionName }}</option>\r\n            </select>\r\n            \r\n        </div>\r\n        <div class=\"input-group input-group-sm schoolCode\">\r\n            <h6>School Code: {{ schoolCode }}</h6>\r\n        </div>\r\n    </form>\r\n\r\n    <!-- Right navbar links -->\r\n    <ul class=\"navbar-nav ml-auto\">\r\n        <!-- Messages Dropdown Menu -->\r\n\r\n        <!-- Notifications Dropdown Menu -->\r\n        <!-- <li class=\"nav-item dropdown\">\r\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\r\n                <i class=\"far fa-bell\"></i>\r\n                <span class=\"badge badge-warning navbar-badge\">15</span>\r\n            </a>\r\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n                <span class=\"dropdown-item dropdown-header\">15 Notifications</span>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a href=\"#\" class=\"dropdown-item\">\r\n                    <i class=\"fas fa-envelope mr-2\"></i> 4 new messages\r\n                    <span class=\"float-right text-muted text-sm\">3 mins</span>\r\n                </a>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a href=\"#\" class=\"dropdown-item\">\r\n                    <i class=\"fas fa-users mr-2\"></i> 8 friend requests\r\n                    <span class=\"float-right text-muted text-sm\">12 hours</span>\r\n                </a>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a href=\"#\" class=\"dropdown-item\">\r\n                    <i class=\"fas fa-file mr-2\"></i> 3 new reports\r\n                    <span class=\"float-right text-muted text-sm\">2 days</span>\r\n                </a>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a href=\"#\" class=\"dropdown-item dropdown-footer\">See All Notifications</a>\r\n            </div>\r\n        </li> -->\r\n        <!-- <li class=\"nav-item dropdown\">\r\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\r\n                <i class=\"far fa-user\"></i>\r\n            </a>\r\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a href=\"javascript:void(0);\" (click)=\"logout();\" class=\"dropdown-item\">\r\n                    Logout\r\n                </a>\r\n            </div>\r\n        </li> -->\r\n        <li class=\"nav-item dropdown\">\r\n            <a href=\"javascript:void(0)\" routerLink=\"/AppDownload\" style=\"cursor: pointer;\" class=\"nav-link\" title=\"App Download Status\">\r\n                <i class=\"fas fa-mobile-alt\"></i> App Download Status\r\n            </a>\r\n        </li>\r\n        <li class=\"nav-item dropdown\">\r\n            <a href=\"javascript:void(0)\" routerLink=\"/dashboard\" style=\"cursor: pointer;\" class=\"nav-link\" title=\"Dashboard\">\r\n                <img src=\"../../assets/images/dashboard.png\" alt=\"\" class=\"img-fluid\" style=\"height: 22px; margin-top: -2px; opacity: 0.6;\"> Dashboard\r\n            </a>\r\n        </li>\r\n        <li class=\"nav-item dropdown\">\r\n            <a href=\"javascript:void(0)\" style=\"cursor: pointer;\" class=\"nav-link\" title=\"Logout\" (click)=\"logout();\">\r\n                <i class=\"fas fa-sign-out-alt\"></i> Logout\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</nav>\r\n<!-- /.navbar -->\r\n<!-- Main Sidebar Container -->\r\n<aside class=\"main-sidebar sidebar-dark-primary elevation-4\">\r\n    <!-- Brand Logo -->\r\n    <a href=\"javascript:void(0);\" [routerLink]=\"['/dashboard']\" routerLinkActive=\"router-link-active\"  class=\"brand-link\">\r\n        <span class=\"brandd-img\">\r\n            <img [src]=\"schoollogo\" alt=\"AdminLTE Logo\" class=\"brand-image img-circle elevation-3\"\r\n                style=\"opacity: .8\">\r\n        </span>\r\n        <span class=\"brand-text font-weight-light\">{{schoolName}}</span>\r\n    </a>\r\n\r\n    <!-- Sidebar -->\r\n    <div class=\"sidebar\">\r\n\r\n        <!-- Sidebar Menu -->\r\n        <nav class=\"mt-2\">\r\n            <ul class=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\r\n                <!-- Add icons to the links using the .nav-icon class\r\n             with font-awesome or any other icon font library -->\r\n                <!-- <li class=\"nav-item\">\r\n                    <a href=\"\" class=\"nav-link \">\r\n                        <i class=\"nav-icon fas fa-home\"></i>\r\n                        <p>\r\n                            Home\r\n                        </p>\r\n                    </a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a href=\"\" class=\"nav-link active\">\r\n                        <i class=\"nav-icon fas fa-newspaper\"></i>\r\n                        <p>\r\n                            Homework/Assignment\r\n                        </p>\r\n                    </a>\r\n                </li> -->\r\n                <li class=\"nav-item has-treeview\"  *ngFor=\"let menu of menuList\" id=\"menu{{menu.MenuId}}\">\r\n                <!-- *ngIf=\"menu.IsShowInPanel == 'Y'\" -->\r\n                    <a href=\"javascript:void(0)\" id=\"menu\" class=\"nav-link\" (click)=\"togglemenu('menu'+menu.MenuId);goToPageUrl(menu);\">   \r\n                        <!-- <i class=\"nav-icon fas fa-envelope\"></i> -->\r\n                        <span class=\"nav-icon\"><img [src]=\"menu.Icon\" height=\"25\" width=\"25\" alt=\"\" style=\"border-radius: 50%;\"></span>\r\n                        <p>\r\n                            {{menu.MenuName}}\r\n                            <i *ngIf=\"menu.SubMenu.length > 0\" class=\"right fas fa-angle-left\"></i>\r\n                        </p>\r\n                    </a>\r\n                    <ul class=\"nav nav-treeview\" *ngFor=\"let submenu of menu.SubMenu\">\r\n                        <li class=\"nav-item\">\r\n                        <!-- *ngIf=\"submenu.IsShowInPanel == 'Y'\" -->\r\n                            <a routerLink=\"/{{submenu.PageUrl}}\" routerLinkActive=\"active\" (click)=\"pageTitleChange(submenu.SubMenuName)\" id=\"submenu\" class=\"nav-link \">\r\n                                <i class=\"far fa-circle nav-icon\"></i>\r\n                                <p>{{submenu.SubMenuName}}</p>\r\n                            </a>\r\n                        </li>\r\n                        <!-- <li class=\"nav-item\">\r\n                            <a href=\"\" class=\"nav-link\">\r\n                                <i class=\"far fa-circle nav-icon\"></i>\r\n                                <p>List</p>\r\n                            </a>\r\n                        </li> -->\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n        <!-- /.sidebar-menu -->\r\n    </div>\r\n    <!-- /.sidebar -->\r\n</aside>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\n// import { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\n// import { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport * as $ from 'jquery';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-student-group',\r\n  templateUrl: './student-group.component.html',\r\n  styleUrls: ['./student-group.component.css']\r\n})\r\nexport class StudentGroupComponent implements OnInit {\r\n  public userData: any;\r\n  public DashboardData: any;\r\n  public ShowAddGroup: boolean = true;\r\n  public ClassList: any[] = [];\r\n  public selectedClass: number = 0;\r\n  public SectionList: any[] = [];\r\n  public selectedSection: any[] = [];\r\n  public dropdownSettings: IDropdownSettings = {};\r\n  public addBtnText:string = \"Add Student Group\";\r\n  public admNo : string = \"\";\r\n  public StudentList: any[] = [];\r\n  public SelectAll: boolean = false;\r\n  public selectedStudentList: any[] = [];\r\n  public groupName: string = \"\";\r\n\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private spinnerService: NgxSpinnerService,\r\n    private common: CommonclassService,\r\n    private titleService: Title\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.titleService.setTitle('Student Group');\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.DashboardData = this.common.storage.get('DashboardData');\r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'SectionId',\r\n      textField: 'SectionName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: false\r\n    };\r\n    this.loadClass();\r\n  }\r\n\r\n  ShowAdd(){\r\n    if(this.ShowAddGroup == true){\r\n      this.ShowAddGroup = false;\r\n      this.addBtnText = \"Cancel\";\r\n    }\r\n    else{\r\n      this.ShowAddGroup = true;\r\n      this.addBtnText = \"Add Student Group\";\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  //load class method\r\n  loadClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID, options).subscribe(\r\n        (data) => {\r\n          var response: any = data;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data.Classess;\r\n            // this.ClassList.push({ClassId: 5, ClassName: '5th'});\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // Load Section \r\n  loadSection() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID + \"&ClassId=\" + this.selectedClass, options).subscribe(\r\n        (data) => {\r\n          let response: any = data;\r\n          console.log(response)\r\n          if(response.code == 'OK'){\r\n            this.SectionList = response.data.Sections;\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  onItemSelect(item: any) {\r\n    this.loadStudents();\r\n  }\r\n  onSelectAll(items: any) {\r\n    this.loadStudents();\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    this.loadStudents();\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n\r\n  loadStudents(){\r\n    if(this.selectedClass == 0){\r\n      return;\r\n    }\r\n    var sectionIds : string = \"\";\r\n    if(this.selectedSection.length > 0){\r\n      for (let index = 0; index < this.selectedSection.length; index++) {\r\n        if(sectionIds == \"\"){\r\n          sectionIds = sectionIds + this.selectedSection[index].SectionId;\r\n        }\r\n        else {\r\n          sectionIds = sectionIds + \",\" + this.selectedSection[index].SectionId;\r\n        }\r\n      }\r\n    }\r\n    console.log(sectionIds);\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"sectionwisestudentlist?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&ClassId=\" + this.selectedClass +\"&SectionIds=\"+ sectionIds + \"&AdmissionNo=\" + this.admNo, options).subscribe(\r\n        (data) => {\r\n          let response: any = data;\r\n          console.log(response)\r\n          if(response.code == 'OK'){\r\n            // this.SectionList = response.data.Sections;\r\n            this.StudentList = response.data;\r\n            this.StudentList.forEach(student => {\r\n              Object.assign(student, {'Selected': false});\r\n            });\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );    \r\n  }\r\n  // Select All Student\r\n  selectAllStudent(){\r\n    debugger\r\n    if(this.SelectAll == true){\r\n      this.StudentList.forEach(student => {\r\n        student.Selected = true;\r\n      });\r\n      this.AddStudent(this.StudentList);\r\n      console.log('SA', this.StudentList);\r\n    }\r\n    else {\r\n      this.StudentList.forEach(student => {\r\n        student.Selected = false;\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  // Selected Student List\r\n  AddStudent(data: any) {\r\n    debugger\r\n    var studentList: any[] = [];\r\n    if (data.length > 1) {\r\n      studentList = data;\r\n    }\r\n    else {\r\n      studentList.push(data);\r\n    }\r\n    studentList.forEach(student => {\r\n      if (student.Selected == true) {\r\n        this.selectedStudentList.push({\r\n          'StudentName': student.StudentName,\r\n          'StudentDetailId': student.StudentDetailId,\r\n          'EnrollNo': student.EnrollNo,\r\n          'ClassName': student.ClassName\r\n        })\r\n      }\r\n    });\r\n    console.log('Selected Student List: ', this.selectedStudentList);\r\n  }\r\n\r\n  // Remove Student form list\r\n  removeStudent(index){\r\n    this.selectedStudentList.splice(index, 1);\r\n  }\r\n\r\n  // Save Student Group\r\n  SaveGroup() {\r\n    if(this.groupName == \"\" || this.groupName == null){\r\n      this.toastr.warning('Please Type Group Name');\r\n      return;\r\n    }\r\n    if(this.selectedStudentList.length == 0){\r\n      this.toastr.warning('Please Select Students');\r\n      return;\r\n    }\r\n    let GroupStudentList: any[] = [];\r\n    this.selectedStudentList.forEach(student => {\r\n      GroupStudentList.push({ 'StudentDetailId': student.StudentDetailId });\r\n    });\r\n    let data = {\r\n      'DbName': this.common.storage.get('DBName'),\r\n      'SessionId': this.common.storage.get('SessionId'),\r\n      'SchoolId': this.common.storage.get('SchoolId'),\r\n      'StudentGroupName': this.groupName,\r\n      'GroupStudentList': GroupStudentList\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data);\r\n    debugger\r\n    this.http.post(this.common.Baseurl + \"savestudentgroup\", body, options).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        if(response.code == 'OK'){\r\n          this.toastr.success(response.message);\r\n          this.reset();\r\n        }\r\n        else {\r\n          this.toastr.error(response.message);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  reset(){\r\n    this.StudentList = [];\r\n    this.SectionList = [];\r\n    this.selectedStudentList = [];\r\n    this.selectedSection = [];\r\n    this.selectedClass = 0;\r\n    this.groupName = '';\r\n    this.admNo = '';\r\n    // this.ShowAddGroup = false;\r\n    // this.ShowAdd();\r\n    $('#show_add').click();\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <h3>Student Group</h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"btn-attendance-show student-group-add\">\r\n                                        <a href=\"javascript:void(0)\" id=\"show_add\" (click)=\"ShowAdd();\">{{ addBtnText }}</a>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-12\" [hidden]=\"ShowAddGroup\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"form-group col-md-3\">\r\n                                            <label for=\"\" class=\"label-control\">Group Name</label>\r\n                                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"groupName\">\r\n                                        </div>\r\n                                        <div class=\"col-md-3 form-group\">\r\n                                            <label for=\"\">Class</label>\r\n                                            <select class=\"form-control\" [(ngModel)]=\"selectedClass\" (change)=\"loadSection();loadStudents();\">\r\n                                                <option value=\"0\">Select Class</option>\r\n                                                <option *ngFor=\"let class of ClassList\" [ngValue]=\"class.ClassId\">{{ class.ClassName }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-md-3 form-group multiselect-div\">\r\n                                            <label for=\"\" class=\"label-control\">Section</label>\r\n                                            <ng-multiselect-dropdown [placeholder]=\"'Sections'\" \r\n                                                [data]=\"SectionList\" [(ngModel)]=\"selectedSection\"\r\n                                                [settings]=\"dropdownSettings\" \r\n                                                (onSelect)=\"onItemSelect($event)\" \r\n                                                (onSelectAll)=\"onSelectAll($event)\"\r\n                                                (onDropDownClose)=\"onDropDownClose()\" \r\n                                                (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                            </ng-multiselect-dropdown>\r\n                                        </div>\r\n                                        <div class=\"form-group col-md-3\">\r\n                                            <label for=\"\" class=\"label-control\">Admission No</label>\r\n                                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"admNo\" (change)=\"loadStudents();\">\r\n                                        </div>\r\n                                        <div class=\"col-md-12\">\r\n                                            <fieldset class=\"newfieldss\" *ngIf=\"selectedStudentList.length > 0\">\r\n                                                <legend>Students of the Group</legend>\r\n                                                <div class=\"child-names\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-4\" *ngFor=\"let selectStudent of selectedStudentList; let i = index;\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>{{selectStudent.StudentName}} ({{selectStudent.EnrollNo}})</h3>\r\n                                                                <p>{{selectStudent.ClassName}}</p>\r\n                                                                <span (click)=\"removeStudent(i)\" class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <!-- <div class=\"col-md-4\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>Annie Jain (2400783)</h3>\r\n                                                                <p>XII-B</p>\r\n                                                                <span class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-4\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>Annie Jain (2400783)</h3>\r\n                                                                <p>XII-B</p>\r\n                                                                <span class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-4\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>Annie Jain (2400783)</h3>\r\n                                                                <p>XII-B</p>\r\n                                                                <span class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-4\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>Annie Jain (2400783)</h3>\r\n                                                                <p>XII-B</p>\r\n                                                                <span class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-4\">\r\n                                                            <div class=\"person-namee\">\r\n                                                                <h3>Annie Jain (2400783)</h3>\r\n                                                                <p>XII-B</p>\r\n                                                                <span class=\"fa fa-times person-del\"></span>\r\n                                                            </div>\r\n                                                        </div> -->\r\n                                                    </div>\r\n                                                </div>\r\n                                            </fieldset>\r\n                                        </div>\r\n                                        <div class=\"col-md-12\" *ngIf=\"StudentList.length > 0\">\r\n                                            <div id=\"view-table\" class=\"group-table\">\r\n                                                <div class=\"table-responsive\">\r\n                                                    <table class=\"table table-striped table-border\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th>\r\n                                                                    <div class=\"select-all\">\r\n                                                                        <input type=\"checkbox\" [(ngModel)]=\"SelectAll\" (change)=\"selectAllStudent();\">\r\n                                                                        <span>Select All</span>\r\n                                                                    </div>\r\n                                                                </th>\r\n                                                                <th>Student Roll No.</th>\r\n                                                                <th>Student Name</th>\r\n                                                                <th>Gender</th>\r\n                                                                <th>DoB</th>\r\n                                                                <th>Father Name</th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody>\r\n                                                            <tr *ngFor=\"let student of StudentList\">\r\n                                                                <td><input type=\"checkbox\" [(ngModel)]=\"student.Selected\" (change)=\"AddStudent(student);\"></td>\r\n                                                                <td>{{ student.RollNo }}</td>\r\n                                                                <td>{{ student.StudentName }}</td>\r\n                                                                <td>{{student.Gender}}</td>\r\n                                                                <td>{{student.DOB}}</td>\r\n                                                                <td>{{student.FatherName}}</td>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-12\">\r\n                                            <div class=\"btn-attendance-show\">\r\n                                                <a href=\"javascript:void(0);\" (click)=\"SaveGroup();\">Save Group</a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div id=\"particular-group\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-4\">\r\n                                                <div class=\"single-grp\">\r\n                                                    <div class=\"grp-div\">\r\n                                                        <h3>Cybrain Group</h3>\r\n                                                        <p>Total Students : 3</p>\r\n                                                        <a href=\"\" class=\"edit-grp\"><span class=\"fa fa-pen\"></span></a>\r\n                                                        <a href=\"\" class=\"delete-grp\"><span\r\n                                                                class=\"fa fa-times\"></span></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4\">\r\n                                                <div class=\"single-grp\">\r\n                                                    <div class=\"grp-div\">\r\n                                                        <h3>Cybrain Group</h3>\r\n                                                        <p>Total Students : 3</p>\r\n                                                        <a href=\"\" class=\"edit-grp\"><span class=\"fa fa-pen\"></span></a>\r\n                                                        <a href=\"\" class=\"delete-grp\"><span\r\n                                                                class=\"fa fa-times\"></span></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4\">\r\n                                                <div class=\"single-grp\">\r\n                                                    <div class=\"grp-div\">\r\n                                                        <h3>Cybrain Group</h3>\r\n                                                        <p>Total Students : 3</p>\r\n                                                        <a href=\"\" class=\"edit-grp\"><span class=\"fa fa-pen\"></span></a>\r\n                                                        <a href=\"\" class=\"delete-grp\"><span\r\n                                                                class=\"fa fa-times\"></span></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4\">\r\n                                                <div class=\"single-grp\">\r\n                                                    <div class=\"grp-div\">\r\n                                                        <h3>Cybrain Group</h3>\r\n                                                        <p>Total Students : 3</p>\r\n                                                        <a href=\"\" class=\"edit-grp\"><span class=\"fa fa-pen\"></span></a>\r\n                                                        <a href=\"\" class=\"delete-grp\"><span\r\n                                                                class=\"fa fa-times\"></span></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-student-health',\r\n  templateUrl: './student-health.component.html',\r\n  styleUrls: ['./student-health.component.css']\r\n})\r\nexport class StudentHealthComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>student-health works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport Swal from 'sweetalert2';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n@Component({\r\n  selector: 'app-student-leave-request',\r\n  templateUrl: './student-leave-request.component.html',\r\n  styleUrls: ['./student-leave-request.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class StudentLeaveRequestComponent implements OnInit {\r\n  public userData: any;\r\n  public selectedClass: any = 0;\r\n  public currentDate: string;\r\n  public ClassList: any = [];\r\n  public spinnerText: string = 'Loading...';\r\n  public searchText: string = '';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n  //Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedClass = 0;\r\n    this.currentDate = this.today;\r\n    this.loadCoordinatorClass();\r\n  }\r\n  //Load Coordinator Class\r\n  loadCoordinatorClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetInchargeCoordinatorClass?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.ClassList = res;\r\n          if (this.ClassList.code == 'OK') {\r\n            this.ClassList = this.ClassList.data;\r\n          }\r\n          else {\r\n            this.toastr.error(this.ClassList.message, 'Student Leave Request');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  public LeaveRequestList: any[] = [];\r\n  loadLeaveRequest() {\r\n    var isPending: string = 'No';\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetLeaveRequest?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + '&SectionId=' + this.selectedClass.SectionID\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID\r\n      + \"&SchoolId=\" + this.common.storage.get('SchoolId') + \"&IsPending=\" + isPending, options).subscribe(\r\n        (res) => {\r\n          var data: any = res;\r\n          if (data.code == 'OK') {\r\n            this.LeaveRequestList = data.data;\r\n            // console.log(this.LeaveRequestList);\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.spinnerService.hide();\r\n            this.LeaveRequestList = [];\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  public viewData: any = []\r\n  leaveRequestData(data: any) {\r\n    this.viewData = data;\r\n    // console.log('View Data', this.viewData);\r\n  }\r\n  // Update Leave Request\r\n  UpdateLeaveRequest(leaveId: string, status: string) {\r\n    Swal.fire({\r\n      text: 'Are you sure to ' + status.toLowerCase() + ' this Request ?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        var data = {\r\n          \"DbName\": this.common.storage.get('DBName'),\r\n          \"TeacherId\": this.userData.TeacherID,\r\n          \"SchoolId\": this.common.storage.get('SchoolId'),\r\n          \"Status\": status,\r\n          \"LeaveId\": leaveId\r\n        };\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        let body = JSON.stringify(data); //Convert frontend Data into Json\r\n        // console.log('body', body);\r\n        this.http.post(this.common.Baseurl + \"UpdateLeaveRequest\", body, options).subscribe(\r\n          (res) => {\r\n            // console.log(res);\r\n            var response: any = res;\r\n            if (response.code == 'OK') {\r\n              this.toastr.success('Leave Request Approved', 'Update Leave Request');\r\n              this.loadLeaveRequest();\r\n            }\r\n            else {\r\n              this.toastr.error(response.message, 'Update Leave Request');\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Student Leave Request</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadLeaveRequest();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.ClassName}}-{{class.SectionName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\" *ngIf=\"LeaveRequestList.length > 0\">\r\n                                    <input type=\"text\" style=\"margin-top: 30px;\" [(ngModel)]=\"searchText\" class=\"form-control\" placeholder=\"Search here.\">\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <div>\r\n                                <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                    <div class=\"col-md-12\" *ngFor=\"let student of LeaveRequestList | filter: searchText\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"subject-div\">\r\n                                                    <a href=\"javascript:void(0);\" (click)=\"leaveRequestData(student);\" data-toggle=\"modal\" data-target=\"#ViewLeaveRequest1\">\r\n                                                        <div class=\"fllef\">\r\n                                                            <h3 style=\"font-size: 20px;\">{{ student.StudentName }}\r\n                                                            </h3>\r\n                                                            <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                            <h5>Adm No: {{ student.EnrollNo }}</h5>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                    <div class=\"fltrigg\">\r\n                                                        <div class=\"row\">\r\n                                                            \r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"row\" *ngIf=\"LeaveRequestList.length == 0\">\r\n                                    <h5 style=\"margin: 0 auto;\">No Leave Request Found !</h5>\r\n                                </div>\r\n                                <!-- Modal -->\r\n                                <div class=\"modal fade\" id=\"ViewLeaveRequest1\" role=\"dialog\">\r\n                                    <div class=\"modal-dialog modal-lg\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h4 class=\"modal-title\">Leave Request</h4>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <div class=\"row\">\r\n                                                    <h3 style=\"margin: 0 auto;\">{{viewData.StudentName}}</h3>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Enroll No: {{viewData.EnrollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Roll No: {{viewData.RollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-3\" style=\"margin-left: 250px; padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">From Date</label>\r\n                                                        <h6>{{viewData.fromdate != undefined ? viewData.fromdate.split(' ')[0].split('/')[1]+'-'+viewData.fromdate.split(' ')[0].split('/')[0]+'-'+viewData.fromdate.split(' ')[0].split('/')[2] : '' }}</h6>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-3\" style=\"padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">To Date</label>\r\n                                                        <h6>{{ viewData.todate != undefined ? viewData.todate.split(' ')[0].split('/')[1]+'-'+viewData.todate.split(' ')[0].split('/')[0]+'-'+viewData.todate.split(' ')[0].split('/')[2] : '' }}</h6>\r\n                                                    </div>\r\n                                                    \r\n                                                </div>  \r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">{{viewData.heading}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h6 style=\"margin: 0 auto;\">{{viewData.remarks}}</h6>\r\n                                                </div>\r\n                                                <div *ngIf=\"viewData.status == '1'\" class=\"row\" style=\"margin-top: 10px;\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                        <button type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVED</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf=\"viewData.status == '-1'\" class=\"row\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-left: 185px; margin-top: 15px;\">\r\n                                                        <button type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENIED</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf=\"viewData.status == '0'\" class=\"row\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(viewData.leave_id,'APPROVE')\" type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVE</button>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(viewData.leave_id,'DENY')\" type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENY</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\n// import { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\n// import { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport { StudentRemark } from \"../common-class\";\r\n\r\n@Component({\r\n  selector: 'app-student-remark',\r\n  templateUrl: './student-remark.component.html',\r\n  styleUrls: ['./student-remark.component.css']\r\n})\r\nexport class StudentRemarkComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public pageTitle: string;\r\n  public studentRemark = new StudentRemark();\r\n  public ClassList: any[] = [];\r\n  public RemarkType: any[] = []\r\n  public ExamList: any[] = [];\r\n  public searchText: string = '';\r\n  public StudentList: any[] = [];\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private titleService: Title\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.pageTitle = this.titleService.getTitle();\r\n    this.loadAssignedClass();\r\n  }\r\n  // Load Assigned Class\r\n  loadAssignedClass() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Student Remark');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //load exam \r\n  loadExam() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getterm?DbName=\" + this.common.storage.get('DBName') + \"&Type=Getterm\" + \"&SectionId=\" + this.studentRemark.Class.SectionId\r\n    + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ExamList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Student Remark');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  loadRemarkType(){\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getremarkstype?DbName=\" + this.common.storage.get('DBName') + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SchoolId=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        // console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.RemarkType = response.data;\r\n        }\r\n        else{\r\n          this.toastr.warning(response.message);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  // Load Student\r\n  loadStudent() {\r\n    this.spinnerService.show()\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getstudentforremarks?DbName=\" + this.common.storage.get('DBName') + \r\n    \"&SessionId=\" + this.common.storage.get('SessionId') + \"&SchoolId=\" + this.common.storage.get('SchoolId') + \"&RemarksType=\" + this.studentRemark.RemarksType +\r\n    \"&ClassId=\"+ this.studentRemark.Class.ClassId + \"&SectionId=\" + this.studentRemark.Class.SectionId + \"&ExamId=\" + this.studentRemark.ExamId, options).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.StudentList = response.data;\r\n          this.spinnerService.hide();\r\n        }\r\n        else{\r\n          this.toastr.warning(response.message);\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  // Save Remarks\r\n  SaveRemarks(){\r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      if (this.StudentList[i].Remarks != \"\") {\r\n        this.studentRemark.studntperformance.push({\r\n          'StudentDetailId': this.StudentList[i].StudentDetailId,\r\n          'Remarks': this.StudentList[i].Remarks\r\n        });\r\n      }\r\n    }\r\n    // savestudentremarks\r\n    this.spinnerText = 'Saving student remarks...';\r\n    this.spinnerService.show();\r\n    var data = {\r\n      \"DbName\": this.common.storage.get('DBName'),\r\n      \"UserId\": this.userData.UserID,\r\n      \"SessionId\": this.common.storage.get('SessionId'),\r\n      \"SectionId\": this.studentRemark.Class.SectionId,\r\n      \"ClassId\": this.studentRemark.Class.ClassId,\r\n      \"ExamId\": this.studentRemark.ExamId,\r\n      \"Type\": 'Save',\r\n      \"RemarksType\": this.studentRemark.RemarksType,\r\n      \"studntperformance\": this.studentRemark.studntperformance\r\n    };\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data); //Convert frontend Data into Json \r\n    this.http.post(this.common.Baseurl + \"savestudentremarks\", body, options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.toastr.success(response.message, 'Student Remarks');\r\n          this.spinnerService.hide();\r\n          this.reset();\r\n        }\r\n        else{\r\n          this.spinnerService.hide();\r\n          this.toastr.error(response.message, 'Student Remarks');\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );  \r\n  }\r\n  reset(){\r\n    this.studentRemark = new StudentRemark();\r\n    this.StudentList = [];\r\n    this.RemarkType = [];\r\n    this.ExamList = [];\r\n    this.spinnerText = 'Loading...';\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Student Remarks</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"studentRemark.Class\" class=\"form-control\" (change)=\"loadExam()\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.Class}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Exam</label>\r\n                                    <select [(ngModel)]=\"studentRemark.ExamId\" class=\"form-control\" (change)=\"loadRemarkType()\">\r\n                                        <option [ngValue]=\"0\">Select Term</option>\r\n                                        <option *ngFor=\"let exam of ExamList\" [ngValue]=\"exam.ExamId\">{{exam.ExamName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Remark Type</label>\r\n                                    <select [(ngModel)]=\"studentRemark.RemarksType\" class=\"form-control\">\r\n                                        <option [ngValue]=\"'0'\">Select Remarks Type</option>\r\n                                        <option *ngFor=\"let remark of RemarkType\" [ngValue]=\"remark.RemarkType\">{{ remark.RemarkType }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-1\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px; line-height: 5px; height: 33px;\" (click)=\"loadStudent();\">Show</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" *ngIf=\"StudentList.length > 0\">\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Here\" [(ngModel)]=\"searchText\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let student of StudentList | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                <div class=\"fllef\" style=\"width: 60% !important;\">\r\n                                                    <h3 style=\"font-size: 18px;\">{{ student.StudentName }}\r\n                                                    </h3>\r\n                                                    <h5>Roll No: {{ student.RollNo }}</h5>\r\n                                                    <h5>Adm No: {{ student.AdmissionNo }}</h5>\r\n                                                    <!-- <div class=\"col-md-3 form-group\" style=\"float: right; margin-top: -80px;\">\r\n                                                        <label for=\"\">Marks Obt.</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"student.MarksObt\" (keypress)=\"onlyNumberKey($event)\" minlength=\"3\">\r\n                                                    </div> -->\r\n                                                </div>\r\n                                            \r\n                                                <div class=\"fltrigg\" style=\"width: 40% !important;\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12 form-group\">\r\n                                                            <label for=\"\">Remark</label>\r\n                                                            <textarea [(ngModel)]=\"student.Remarks\" style=\"width: 350px;\" rows=\"2\" class=\"form-control\" placeholder=\"Student remarks here.\"></textarea>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button *ngIf=\"StudentList.length > 0\" (click)=\"SaveRemarks();\">Save Remarks</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-studentmessages',\r\n  templateUrl: './studentmessages.component.html',\r\n  styleUrls: ['./studentmessages.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class StudentmessagesComponent implements OnInit {\r\n  selectedClass: any;\r\n  selectedStudent: any;\r\n  selectedMonth: any;\r\n  userData: any;\r\n  ClassList: any = [];\r\n  StudentList: any = [];\r\n  MonthList: any = [];\r\n  StudentMessageList: any[] = [];\r\n  currentDate: string;\r\n  SearchText: string;\r\n  constructor(\r\n    private common: CommonclassService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>,\r\n  ) { }\r\n  //Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedClass = 0;\r\n    this.selectedStudent = 0;\r\n    this.selectedMonth = 0;\r\n    this.currentDate = this.today;\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'));\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.loadCoordinatorClass();\r\n  }\r\n\r\n  //Load Coordinator Class\r\n  loadCoordinatorClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetInchargeCoordinatorClass?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.ClassList = res;\r\n          if (this.ClassList.code == 'OK') {\r\n            this.ClassList = this.ClassList.data;\r\n          }\r\n          else {\r\n            this.toastr.error(this.ClassList.message, 'Student Message');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load Student List\r\n  loadStudent() {\r\n    if (this.selectedClass == 0 || this.selectedClass == undefined) {\r\n      this.selectedStudent = 0;\r\n      this.StudentList = [];\r\n      this.selectedMonth = 0;\r\n      this.MonthList = [];\r\n      this.StudentMessageList = [];\r\n      return;\r\n    }\r\n    this.selectedStudent = 0;\r\n    this.StudentList = [];\r\n    this.selectedMonth = 0;\r\n    this.MonthList = [];\r\n    this.StudentMessageList = [];\r\n    this.selectedMonth = 0;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"MyContactList?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&ClassId=\" + this.selectedClass.ClassId + \"&SectionId=\" + this.selectedClass.SectionID, options).subscribe(\r\n        (res) => {\r\n          this.StudentList = res;\r\n          if (this.StudentList.code == 'OK') {\r\n            this.StudentList = this.StudentList.data.student;\r\n            // console.log('Student List',this.StudentList);\r\n            if (this.StudentList.length == 0) {\r\n              this.toastr.warning('No Student found in this Class.', 'Student List');\r\n            }\r\n          }\r\n          else {\r\n            this.toastr.error(this.StudentList.message, 'Student Message');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Load GetSessionMonths\r\n  loadSessionMonths() {\r\n    this.selectedMonth = 0;\r\n    var currentDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetSessionMonths?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&CurrentDate=\" + currentDate, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.MonthList = res;\r\n          if (this.MonthList.code == 'OK') {\r\n            this.MonthList = this.MonthList.data.months;\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Student Message\r\n  loadStudentMessage() {\r\n    if (this.selectedStudent == 0 || this.selectedStudent == undefined) {\r\n      this.StudentMessageList = [];\r\n      this.selectedMonth = 0;\r\n      this.MonthList = [];\r\n      return;\r\n    }\r\n    if (this.selectedMonth == undefined || this.selectedMonth == 0) {\r\n      var monthId = 0;\r\n    }\r\n    else {\r\n      monthId = this.selectedMonth.MonthId;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"studentmessages?&DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&MonthId=\" + monthId\r\n      + \"&StudentDetailId=\" + this.selectedStudent.StudentdetailId + \"&Nextdata=1\", options).subscribe(\r\n        (res) => {\r\n          // console.log('Student Message',res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.StudentMessageList = response.data;\r\n          }\r\n          else {\r\n            this.StudentMessageList = [];\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Show Message\r\n  showMessage(message: string) {\r\n    Swal.fire('Message', message);\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-header\">\r\n                            <h3>Student Messages</h3>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadStudent();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.ClassName}}-{{class.SectionName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Student</label>\r\n                                    <select [(ngModel)]=\"selectedStudent\" class=\"form-control\" (change)=\"loadSessionMonths();loadStudentMessage();\">\r\n                                        <option [ngValue]=\"0\">Select Student</option>\r\n                                        <option [ngValue]=\"student\" *ngFor=\"let student of StudentList\">\r\n                                            {{student.StudentName}} - {{student.AdmissionNo}}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Months</label>\r\n                                    <select [(ngModel)]=\"selectedMonth\" class=\"form-control\" (change)=\"loadStudentMessage();\">\r\n                                        <option [ngValue]=\"0\">All Months</option>\r\n                                        <option [ngValue]=\"month\" *ngFor=\"let month of MonthList\">{{month.MonthName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Here.\" [(ngModel)]=\"SearchText\" style=\"margin-top: 30px;\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let sms of StudentMessageList | filter: SearchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                <a href=\"javascript:void(0)\" (click)=\"showMessage(sms.Message);\">\r\n                                                    <div class=\"fllef\">\r\n                                                        <h3 style=\"font-size: 20px;font-weight: bold;\">\r\n                                                            Send By: {{sms.Sender}}\r\n                                                        </h3>\r\n                                                        <h6 style=\"font-size: 15px; color: black;\">{{sms.Message}}</h6>\r\n                                                        <h6 style=\"font-size: 15px; color: black;\">Date: {{ sms.Date }}</h6>\r\n                                                    </div>\r\n                                                </a>\r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-6\" style=\"margin: 0 auto;\">\r\n                                                            <div *ngIf=\"sms.ReadStatus == 'false'\">\r\n                                                                <i style=\"color:red; margin-top: 35px;\" title=\"Unread\" class=\"fas fa-circle\"></i><span style=\"color: red;\"> Unread</span>\r\n                                                            </div>\r\n                                                        \r\n                                                            <div *ngIf=\"sms.ReadStatus == 'true'\">\r\n                                                                <i style=\"color:green;margin-top: 35px;\" title=\"Read\" class=\"fas fa-circle\"></i><span style=\"color: green;\"> Read</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"StudentMessageList.length == 0\" class=\"row\">\r\n                                <h5 style=\"margin: 0 auto;\">No Data Found !</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n<!-- /.content-wrapper -->","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\n// import { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\n// import { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n// import { Title } from \"@angular/platform-browser\";\r\nimport { TermwiseAttendance } from \"../common-class\";\r\n\r\n@Component({\r\n  selector: 'app-termwise-attendance',\r\n  templateUrl: './termwise-attendance.component.html',\r\n  styleUrls: ['./termwise-attendance.component.css']\r\n})\r\nexport class TermwiseAttendanceComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public ExamList: any[] = []\r\n  public ClassList: any[] = []\r\n  public StudentList: any[] = [];\r\n  public workingDays: number = 0;\r\n  public searchText: string = ''\r\n  public termwiseAttendance = new TermwiseAttendance();\r\n\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.loadAssignedClass();\r\n  }\r\n  // Load Assigned Class\r\n  loadAssignedClass() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Student Remark');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //load exam \r\n  loadExam() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getterm?DbName=\" + this.common.storage.get('DBName') + \"&Type=Getterm\" + \"&SectionId=\" + this.termwiseAttendance.Class.SectionId\r\n    + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ExamList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Student Remark');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  public SortByList: any[] =  []\r\n  loadSortBy(){\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"studentshort\", options).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.SortByList = response.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(response.message, 'Termwise Attendance');\r\n        }\r\n      },\r\n      (err) => {\r\n        if(err.status === 401){\r\n          console.log(err);\r\n        }\r\n      }\r\n    );   \r\n  }\r\n  setWorkingDays(value) { console.log(value.value) }\r\n  loadStudent() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    debugger\r\n    this.http.get(this.common.Baseurl + 'GetStudentattendancedata?DbName='+ this.common.storage.get('DBName') + '&userid=' + this.userData.UserID\r\n    + \"&type=GETDATA&Totalworkingdays=\" + this.workingDays + \"&orderby=\"+ this.termwiseAttendance.SortBy + \"&SessionId=\" + this.common.storage.get('SessionId') + \r\n    \"&classid=\" + this.termwiseAttendance.Class.ClassId + \"&Examid=\" + this.termwiseAttendance.ExamId, options).subscribe(\r\n      (data) => {\r\n        let response: any = data;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.StudentList = response.data.studentlist;\r\n          this.spinnerService.hide();\r\n        }\r\n        else{\r\n          this.toastr.warning(response.message);\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if(err.status === 401){\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  SaveTermwiseAttendance() {\r\n    \r\n    for (let i = 0; i < this.StudentList.length; i++) {\r\n      if (parseInt(this.StudentList[i].totalattendance) > 0 && parseInt(this.StudentList[i].totalworkingdays) > 0) {\r\n        // if(parseInt(this.StudentList[i].totalattendance) > parseInt(this.StudentList[i].totalworkingdays)){\r\n        //   this.toastr.warning('Total Present days are more than working days !!');\r\n        //   return;\r\n        // }\r\n        // else {\r\n        //   this.termwiseAttendance.studentdetailstermwise.push({\r\n        //     'StudentDetailId': this.StudentList[i].StudentDetailId,\r\n        //     'TotalPresentDays': this.StudentList[i].totalattendance,\r\n        //     'TotalWorkingDays': this.StudentList[i].totalworkingdays\r\n        //   });\r\n        // }\r\n        this.termwiseAttendance.studentdetailstermwise.push({\r\n          'StudentDetailID': this.StudentList[i].Studentdetailid,\r\n          'TotalPresentDays': this.StudentList[i].totalattendance,\r\n          'TotalWorkingDays': this.StudentList[i].totalworkingdays\r\n        });\r\n      }\r\n    }\r\n    // savestudentremarks\r\n    this.spinnerText = 'Saving...';\r\n    this.spinnerService.show();\r\n    var data = {\r\n      \"DbName\": this.common.storage.get('DBName'),\r\n      \"Examid\": this.termwiseAttendance.ExamId,\r\n      \"studentdetailstermwise\": this.termwiseAttendance.studentdetailstermwise\r\n    };\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    let body = JSON.stringify(data); //Convert frontend Data into Json \r\n    debugger\r\n    this.http.post(this.common.Baseurl + \"SaveAttendanceTermWise\", body, options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        console.log(response);\r\n        if(response.code == 'OK'){\r\n          this.toastr.success(response.message, 'Term wise attendance');\r\n          this.spinnerService.hide();\r\n          this.reset();\r\n        }\r\n        else{\r\n          this.spinnerService.hide();\r\n          this.toastr.error(response.message, 'Term wise attendance');\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );  \r\n  }\r\n  reset() {\r\n    this.termwiseAttendance = new TermwiseAttendance();\r\n    this.StudentList = [];\r\n    this.ExamList = [];\r\n    this.SortByList = [];\r\n    this.workingDays = 0;\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">Termwise Attendance</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"termwiseAttendance.Class\" class=\"form-control\" (change)=\"loadExam()\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.Class}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Exam</label>\r\n                                    <select [(ngModel)]=\"termwiseAttendance.ExamId\" class=\"form-control\" (change)=\"loadSortBy();\">\r\n                                        <option [ngValue]=\"0\">Select Term</option>\r\n                                        <option *ngFor=\"let exam of ExamList\" [ngValue]=\"exam.ExamId\">{{exam.ExamName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Sort By</label>\r\n                                    <select [(ngModel)]=\"termwiseAttendance.SortBy\" class=\"form-control\">\r\n                                        <option [ngValue]=\"'0'\">Select Sort By</option>\r\n                                        <option *ngFor=\"let sort of SortByList\" [ngValue]=\"sort.ShortName\">{{ sort.ShortName }}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-2 form-group\">\r\n                                    <label for=\"\">Total Working Days</label>\r\n                                    <input type=\"text\" class=\"form-control\" #totalWorkingDays [(ngModel)]=\"workingDays\" name=\"totalWorkingDays\" (change)=\"setWorkingDays(totalWorkingDays)\">\r\n                                </div>\r\n                                <div class=\"col-md-1\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px; line-height: 5px; height: 33px;\" (click)=\"loadStudent();\">Show</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" *ngIf=\"StudentList.length > 0\">\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Search Here\" [(ngModel)]=\"searchText\">\r\n                                </div>\r\n                            </div> \r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let student of StudentList | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                \r\n                                                <div class=\"fllef\">\r\n                                                    <h3 style=\"font-size: 18px;\">{{ student.studentname }}\r\n                                                    </h3>\r\n                                                    <h5>Roll No: {{ student.rollno }}</h5>\r\n                                                    <h5>Adm No: {{ student.admnno }}</h5>\r\n                                                    <div class=\"col-md-3 form-group\" style=\"float: right; margin-top: -80px;\">\r\n                                                        <label for=\"\">Total Present Day</label>\r\n                                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"student.totalattendance\" maxlength=\"2\">\r\n                                                    </div>\r\n                                                </div>\r\n                                            \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-12 form-group\">\r\n                                                            <label for=\"\">Total Working Days</label>\r\n                                                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"student.totalworkingdays\">\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button *ngIf=\"StudentList.length > 0\" (click)=\"SaveTermwiseAttendance();\">Save Attendance</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from 'sweetalert2';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-view-activity',\r\n  templateUrl: './view-activity.component.html',\r\n  styleUrls: ['./view-activity.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewActivityComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public searchText: string;\r\n  public ActivitiesList: any[] = [];\r\n  public modalData: any[] = [];\r\n  public searchDate: any = '';\r\n  public searchKeyword: string = '';\r\n  public minDate: any;\r\n  public ActivityId: string = \"\";\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.minDate = this.ngbCalendar.getToday();\r\n    this.loadActivities();\r\n  }\r\n  // Load Assigned Class\r\n  loadActivities() {\r\n    if (this.searchDate == '' || this.searchDate == undefined || this.searchDate == null) {\r\n      this.searchDate = '';\r\n    }\r\n    else {\r\n      this.searchDate = this.searchDate.split('-')[2] + '-' + this.searchDate.split('-')[1] + '-' + this.searchDate.split('-')[0];\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"getclassactivity?DbName=\" + this.common.storage.get('DBName') + \"&NextData=\" + \"&SearchKeyWord=\" + this.searchKeyword\r\n      + \"&Date=\" + this.searchDate + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ActivitiesList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'View Activity');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Delete Activity\r\n  DeleteActivity(activityId: string) {\r\n    Swal.fire({\r\n      title: 'Delete Activity',\r\n      text: 'Are you sure to delete this activity?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.spinnerService.show();\r\n        this.http.get(this.common.Baseurl + \"deleteclassactivity?DbName=\" + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.userData.UserID + \"&ActivityId=\" + activityId + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n            (res) => {\r\n              var response: any = res\r\n              if (response.code == 'OK') {\r\n                this.toastr.success(response.message, 'Delete Activity');\r\n                this.loadActivities();\r\n                this.spinnerService.hide();\r\n              }\r\n              else {\r\n                this.toastr.error(response.message, 'Delete Activity');\r\n                this.spinnerService.hide();\r\n              }\r\n            },\r\n            (err) => {\r\n              this.spinnerService.hide();\r\n              if (err.status === 400) {\r\n                console.log(err);\r\n              }\r\n            }\r\n          );\r\n      }\r\n    })\r\n  }\r\n  //To get file extension\r\n  getFileExtension(filename: string) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n  // Get Activity Attachement \r\n  public SelectedActivity: any;\r\n  getActivityImage(activity: any) {\r\n    this.SelectedActivity = activity;\r\n    this.ActivityId = this.SelectedActivity.ActivityId;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getactivityimages?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&ActivityId=\" + this.ActivityId + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res\r\n          if (response.code == 'OK') {\r\n            this.modalData = response.data;\r\n            for (let i = 0; i < this.modalData.length; i++) {\r\n              var ext = this.getFileExtension(this.modalData[i].Image);\r\n              if (ext == 'pdf') {\r\n                Object.assign(this.modalData[i], {\r\n                  'displayPath': '../../assets/images/pdf-icon.jpg',\r\n                  'ext': ext,\r\n                  'viewPath': this.modalData[i].Image\r\n                });\r\n              }\r\n              else if (ext == 'mp3' || ext == 'm4a' || ext == 'aac') {\r\n                Object.assign(this.modalData[i], {\r\n                  'displayPath': './assets/images/mp3-icon.png',\r\n                  'ext': ext,\r\n                  'viewPath': this.modalData[i].Image\r\n                });\r\n              }\r\n              else if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n                Object.assign(this.modalData[i], {\r\n                  'displayPath': this.modalData[i].Thumbnail,\r\n                  'ext': ext,\r\n                  'viewPath': this.modalData[i].Image\r\n                });\r\n              }\r\n              else {\r\n                Object.assign(this.modalData[i], {\r\n                  'displayPath': '../../assets/images/file-icon.png',\r\n                  'ext': ext,\r\n                  'viewPath': this.modalData[i].Image\r\n                });\r\n              }\r\n            }\r\n            // console.log('Modal Data:', this.modalData);\r\n          }\r\n          else {\r\n            // this.toastr.error(response.message,'View Activity');\r\n            this.modalData = [];\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Delete Activity Image\r\n  removeImage(imageid: string) {\r\n    Swal.fire({\r\n      title: 'Delete Attachment',\r\n      text: 'Are you sure to delete this attachment?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.spinnerService.show();\r\n        this.http.get(this.common.Baseurl + \"deleteactivityimage?DbName=\" + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.userData.UserID + \"&ImageId=\" + imageid + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n            (res) => {\r\n              var response: any = res\r\n              if (response.code == 'OK') {\r\n                this.toastr.success(response.message, 'Delete Attachment');\r\n                this.getActivityImage(this.ActivityId);\r\n                this.loadActivities();\r\n                this.spinnerService.hide();\r\n              }\r\n              else {\r\n                this.toastr.error(response.message, 'Delete Attachment');\r\n                this.spinnerService.hide();\r\n              }\r\n            },\r\n            (err) => {\r\n              this.spinnerService.hide();\r\n              if (err.status === 400) {\r\n                console.log(err);\r\n              }\r\n            }\r\n          );\r\n      }\r\n    })\r\n  }\r\n  //Attachment view\r\n  fileUrl: any;\r\n  imageView: boolean = false;\r\n  pdfView: boolean = false;\r\n  audioView: boolean = false;\r\n\r\n  viewFile(fileData) {\r\n    this.fileUrl = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.audioView = false;\r\n      this.fileUrl = fileData.Image;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      debugger;\r\n      this.pdfView = true;\r\n      var path = fileData.Image;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n      this.audioView = false;\r\n    }\r\n    else if (fileData.ext == 'mp3' || fileData.ext == 'm4a' || fileData.ext == 'aac') {\r\n      this.audioView = true;\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.Image;\r\n    }\r\n    else {\r\n      this.audioView = false;\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.displayPath;\r\n    }\r\n  }\r\n  Reset() {\r\n    this.searchKeyword = '';\r\n    this.searchDate = '';\r\n    this.loadActivities();\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">View Activity</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Search Keyword</label>\r\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKeyword\" placeholder=\"Search by keyword.\">\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Date</label>\r\n                                    <input type=\"text\" class=\"form-control\" [maxDate]=\"minDate\" [(ngModel)]=\"searchDate\" name=\"d1\" ngbDatepicker #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\" placeholder=\"DD-MM-YYYY\" />\r\n                                </div>\r\n                                <div class=\"col-md-1 form-group\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px;\" (click)=\"loadActivities();\">Show</button>\r\n                                </div>\r\n                                <div class=\"col-md-1 form-group\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px;\" (click)=\"Reset();\">Reset</button>\r\n                                </div>\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" style=\"margin-top: 30px; margin-left: 90px;\" placeholder=\"Search Here\" [(ngModel)]=\"searchText\">\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"add-new-btn\">\r\n                                        <button (click)='loadStudent();loadCoscholasticGrade();'>Show</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div> -->\r\n                            \r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let activity of ActivitiesList | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                <a href=\"#ViewActivity\" data-toggle=\"modal\" (click)=\"getActivityImage(activity);\">\r\n                                                    <div class=\"fllef\">\r\n                                                        <h3 style=\"font-size: 18px;\">{{ activity.Title }}</h3>\r\n                                                        <h5>Posted By: {{ activity.CreatedBy }}</h5>\r\n                                                        <h5 [innerHtml]=\"activity.Content\"></h5>\r\n                                                        <h5>Send To {{activity.SentTo}} On {{activity.Date}}</h5>\r\n                                                    </div>\r\n                                                </a>\r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button *ngIf=\"activity.activityimages.length > 0\" title=\"Attachment\" type=\"button\" class=\"btn btn-lg\" style=\"width: 34px;\">\r\n                                                                <i style=\"color: black;margin-top: 23px; float: left;\" class=\"fa fa-paperclip\"></i>\r\n                                                                <span style=\"margin-top: 15px;position: absolute; padding-left: 4px;\">{{ activity.activityimages.length }}</span>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        \r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Delete\" (click)=\"DeleteActivity(activity.ActivityId);\">\r\n                                                                <i style=\"color: red;margin-top: 23px;\" class=\"fa fa-trash-alt\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"ActivitiesList.length == 0\">\r\n                                <h5>No Activity Found</h5>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <!--Activity Modal -->\r\n                            <div class=\"modal fade\" id=\"ViewActivity\" role=\"dialog\">\r\n                                <div class=\"modal-dialog modal-lg\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h4 class=\"modal-title\">View Activity</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h5 style=\"font-weight: bold;\">{{SelectedActivity != undefined ? SelectedActivity.Title : ''}}</h5>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <label style=\"font-size: 18px;\">Posted By: {{SelectedActivity != undefined ? SelectedActivity.CreatedBy : ''}}</label>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h6 style=\"font-weight: bold;\" [innerHtml]=\"SelectedActivity != undefined ? SelectedActivity.Content : ''\"></h6>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <h6>Send To {{SelectedActivity != undefined ? SelectedActivity.SentTo : ''}} On {{SelectedActivity != undefined ? SelectedActivity.Date : ''}}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 3px; margin-top: 10px;\">\r\n                                                <ul class=\"images-feed image-cancel\">\r\n                                                    <li *ngFor=\"let file of modalData\">\r\n                                                        <a href=\"javascript:void(0);\" (click)=\"viewFile(file)\" data-toggle=\"modal\" data-target=\"#viewFile\">\r\n                                                            <img [src]=\"file.displayPath\" height=\"100\" width=\"100\"\r\n                                                                alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                        <a (click)=\"removeImage(file.ImageId);\">\r\n                                                            <span class=\"fa fa-times\"></span>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- view attachmentModal -->\r\n                            <div class=\"modal fade\" id=\"viewFile\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <!-- Modal Header -->\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Attachment</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <!-- Modal body -->\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageView\">\r\n                                                        <img [src]=\"fileUrl\" alt=\"Attachment Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                    </div>\r\n                                                    <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                        <iframe [src]='fileUrl' width=\"100%\" height=\"500px\" style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                        <!-- <pdf-viewer [src]=\"filePath\" [render-text]=\"true\" style=\"max-width: 100%;max-height: 100%;display: block;\"></pdf-viewer> -->\r\n                                                    </div>\r\n                                                    <div class=\"col-md-12\" *ngIf=\"audioView\">\r\n                                                        <audio [src]=\"fileUrl\" id=\"player\" controls></audio>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n// import Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-view-attendance',\r\n  templateUrl: './view-attendance.component.html',\r\n  styleUrls: ['./view-attendance.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewAttendanceComponent implements OnInit {\r\n  public userData: any;\r\n  public currentDate: string;\r\n  public ClassList: any[] = [];\r\n  public selectedClass: any;\r\n  public selectedMonth: any;\r\n  public MonthList: any[] = [];\r\n  public spinnerText: string = 'Loading...';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n\r\n  //Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.currentDate = this.today;\r\n    this.selectedClass = 0;\r\n    this.selectedMonth = 0;\r\n    this.loadAssignedClass();\r\n  }\r\n\r\n  // loadAssignedClass(){\r\n  //   let headers = new HttpHeaders({\r\n  //     'Content-Type': 'application/json'\r\n  //   });\r\n  //   let options = {\r\n  //     headers: headers\r\n  //   }\r\n  //   this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\"+ this.common.storage.get('DBName')\r\n  //   +\"&TeacherId=\"+this.userData.TeacherID+\"&UserId=\"+this.userData.UserID +\"&SessionId=\"+this.common.storage.get('SessionId'), options).subscribe(\r\n  //     (res) => {\r\n  //       var response: any = res;\r\n  //       if(response.code == 'OK'){\r\n  //         this.ClassList = response.data;\r\n  //       }\r\n  //       else{\r\n  //         this.toastr.error(response.message,'View Attendance');\r\n  //       }\r\n  //     },\r\n  //     (err) => {\r\n  //       if (err.status === 400) {\r\n  //         console.log(err);\r\n  //       }\r\n  //     }\r\n  //   );\r\n  // }\r\n  //Load Coordinator Class\r\n  loadAssignedClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetInchargeCoordinatorClass?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'View Attendance');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Load GetSessionMonths\r\n  loadSessionMonths() {\r\n    this.selectedMonth = 0;\r\n    var currentDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetSessionMonths?DbName=\" + this.common.storage.get('DBName') +\r\n      \"&SessionId=\" + this.common.storage.get('SessionId') + \"&CurrentDate=\" + currentDate, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.MonthList = response.data.months;\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Attendance Details\r\n  public AttendanceData: any[] = [];\r\n  loadAttendanceDateWise() {\r\n    // var currentDate = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    if (this.selectedMonth == 0) {\r\n      var MonthID = 0;\r\n    }\r\n    else {\r\n      MonthID = this.selectedMonth.MonthId;\r\n    }\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    var url = this.common.Baseurl + \"GetAttendanceDateWise?MonthId=\" + MonthID + \"&DbName=\" + this.common.storage.get('DBName') + \"&SectionId=\" + this.selectedClass.SectionID + \"&SessionId=\" + this.common.storage.get('SessionId');\r\n    this.http.get(url, options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.AttendanceData = response.data;\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.AttendanceData = [];\r\n          this.toastr.warning(response.message, 'View Attendance');\r\n          this.spinnerService.hide()\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">View Attendance</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Class</label>\r\n                                    <select [(ngModel)]=\"selectedClass\" class=\"form-control\" (change)=\"loadSessionMonths();\">\r\n                                        <option [ngValue]=\"0\">Select Class</option>\r\n                                        <option *ngFor=\"let class of ClassList\" [ngValue]=\"class\">{{class.ClassName}} - {{class.SectionName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Months</label>\r\n                                    <select [(ngModel)]=\"selectedMonth\" class=\"form-control\" (change)=\"loadAttendanceDateWise();\">\r\n                                        <option [ngValue]=\"0\">Select Month</option>\r\n                                        <option [ngValue]=\"month\" *ngFor=\"let month of MonthList\">{{month.MonthName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <div>\r\n                                <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                    <div class=\"col-md-12\" *ngFor=\"let data of AttendanceData\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"subject-div\">\r\n                                                    <div class=\"fllef att-flleft\">\r\n                                                        \r\n                                                        <h3 style=\"font-size: 23px; margin-top: 8px; margin-left: 10px;\">{{ data.Date != undefined ? data.Date.split(' ')[0].split('/')[1]+'-'+data.Date.split(' ')[0].split('/')[0]+'-'+data.Date.split(' ')[0].split('/')[2] : '' }}\r\n                                                        </h3>\r\n                                                    </div>\r\n                                                    <div class=\"fltrigg att-fltrigg\">\r\n                                                        <div class=\"attendance-view\">\r\n                                                            <h3 class=\"green-clrr\"><span class=\"present-green\">P</span> {{ data.Present }}</h3>\r\n                                                            <h3 class=\"red-clrr\"><span class=\"absent-red\">A</span> {{ data.Absent }}</h3>\r\n                                                            <h3 class=\"yellow-clrr\"><span class=\"leave-yellow\">L</span> {{data.Leave}}</h3>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- Modal -->\r\n                                <!-- <div class=\"modal fade\" id=\"ViewLeaveRequest1\" role=\"dialog\">\r\n                                    <div class=\"modal-dialog modal-lg\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h4 class=\"modal-title\">Leave Request</h4>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <div class=\"row\">\r\n                                                    <h3 style=\"margin: 0 auto;\">{{StudentName}}</h3>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Enroll No: {{EnrollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">Roll No: {{RollNo}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-3\" style=\"margin-left: 250px; padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">From Date</label>\r\n                                                        <h6>{{fromdate}}</h6>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-3\" style=\"padding: 10px 0px;\">\r\n                                                        <label for=\"\" style=\"font-weight: bold !important;\">To Date</label>\r\n                                                        <h6>{{todate}}</h6>\r\n                                                    </div>\r\n                                                    \r\n                                                </div>  \r\n                                                <div class=\"row\">\r\n                                                    <h5 style=\"margin: 0 auto;\">{{heading}}</h5>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <h6 style=\"margin: 0 auto;\">{{remarks}}</h6>\r\n                                                </div>\r\n                                                <div *ngIf=\"status == '0'\" class=\"row\">\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(leaveID,'APPROVE')\" type=\"button\" class=\"btn btn-lg btn-block btn-success\">APPROVE</button>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-6\" style=\"margin-top: 15px;\">\r\n                                                        <button (click)=\"UpdateLeaveRequest(leaveID,'DENY')\" type=\"button\" class=\"btn btn-lg btn-block btn-danger\">DENY</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n  selector: 'app-view-circular',\r\n  templateUrl: './view-circular.component.html',\r\n  styleUrls: ['./view-circular.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewCircularComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public currentDate: string;\r\n  public CircularList: any[] = [];\r\n  public SessionMonth: any[] = [];\r\n  public searchKeyword: string = '';\r\n  public selectedMonth: any;\r\n  public searchText: string;\r\n  public CircularData: any = [];\r\n  public editCircularData: any = [];\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n  // Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    this.currentDate = this.today;\r\n    this.selectedMonth = 0;\r\n    this.loadCircular();\r\n    this.loadSessionMonth();\r\n    // for circular edit \r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'UserId',\r\n      textField: 'UserName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.dropdownSettings_dept = {\r\n      singleSelection: false,\r\n      idField: 'DepartmentId',\r\n      textField: 'DepartmentName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.dropdownSettings_desg = {\r\n      singleSelection: false,\r\n      idField: 'DesignationId',\r\n      textField: 'DesignationName',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 2,\r\n      allowSearchFilter: true\r\n    };\r\n    this.loadEmployeeType();\r\n    this.selectedEmployeeType = 0;\r\n    this.selectedCircularType = 0;\r\n  }\r\n  // Load Session Month\r\n  loadSessionMonth() {\r\n    var d = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetSessionMonths?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&CurrentDate=\" + d, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.SessionMonth = response.data.months;\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'View Circular');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Employee Type\r\n  loadCircular() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getemployeecircular?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID + \"&NextData=\" + this.page\r\n      + \"&SearchkeyWord=\" + this.searchKeyword + \"&MonthId=\" + this.selectedMonth.MonthId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.CircularList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'View Circular');\r\n            this.CircularList = [];\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  reset() {\r\n    this.selectedMonth = 0;\r\n    this.searchKeyword = '';\r\n    this.loadCircular();\r\n  }\r\n  //Delete circular\r\n  DeleteCircular(circularid: string) {\r\n    Swal.fire({\r\n      title: 'Delete Circular',\r\n      text: 'Are you sure to delete this circular?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinnerService.show();\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.http.get(this.common.Baseurl + \"deletecircular?DbName=\" + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.userData.UserID + \"&CircularId=\" + circularid, options).subscribe(\r\n            (res) => {\r\n              var response: any = res\r\n              if (response.code == 'OK') {\r\n                this.toastr.success(response.message, 'Delete circular');\r\n                this.loadCircular();\r\n                this.spinnerService.hide();\r\n              }\r\n              else {\r\n                this.toastr.error(response.message, 'Delete circular');\r\n                this.loadCircular();\r\n                this.spinnerService.hide();\r\n              }\r\n            },\r\n            (err) => {\r\n              this.spinnerService.hide();\r\n              if (err.status === 401) {\r\n                console.log(err);\r\n              }\r\n            }\r\n          );\r\n      }\r\n    })\r\n  }\r\n  // View Circular\r\n  public ImageData: any[] = [];\r\n  public FileData: any[] = [];\r\n  ViewCircular(circularid: string) {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getemployeecirculardetailv23?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&CircularId=\" + circularid, options).subscribe(\r\n        (res) => {\r\n          var response: any = res\r\n          // console.log('CircularData:', response);\r\n          if (response.code == 'OK') {\r\n            this.CircularData = response.data;\r\n            this.spinnerService.hide();\r\n            this.ImageData = [];\r\n            this.FileData = [];\r\n            if (this.CircularData.Files.length > 0) {\r\n              for (let i = 0; i < this.CircularData.Files.length; i++) {\r\n                this.FileData.push({ 'attachmentpath': this.CircularData.Files[i].attachmentpath });\r\n              }\r\n            }\r\n            if (this.CircularData.Images.length > 0) {\r\n              for (let i = 0; i < this.CircularData.Images.length; i++) {\r\n                this.ImageData.push({ 'attachmentpath': this.CircularData.Images[i].attachmentpath });\r\n              }\r\n            }\r\n            // console.log('Files Data: ',this.modalData);\r\n            if (this.ImageData.length > 0) {\r\n              for (let i = 0; i < this.ImageData.length; i++) {\r\n                var ext = this.getFileExtension(this.ImageData[i].attachmentpath);\r\n                if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n                  Object.assign(this.ImageData[i], {\r\n                    'displayPath': this.ImageData[i].attachmentpath,\r\n                    'ext': ext,\r\n                    'viewPath': this.ImageData[i].attachmentpath\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            // console.log('Image Data: ',this.ImageData);\r\n            // console.log('File Data: ',this.FileData);\r\n            if (this.FileData.length > 0) {\r\n              for (let i = 0; i < this.FileData.length; i++) {\r\n                var ext = this.getFileExtension(this.FileData[i].attachmentpath);\r\n                if (ext == 'pdf') {\r\n                  Object.assign(this.FileData[i], {\r\n                    'displayPath': '../../assets/images/pdf-icon.jpg',\r\n                    'ext': ext,\r\n                    'viewPath': this.FileData[i].attachmentpath\r\n                  });\r\n                }\r\n                else {\r\n                  Object.assign(this.FileData[i], {\r\n                    'displayPath': '../../assets/images/file-icon.png',\r\n                    'ext': ext,\r\n                    'viewPath': this.FileData[i].attachmentpath\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'View circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Attachment view\r\n  fileUrl: any;\r\n  imageView: boolean = false;\r\n  pdfView: boolean = false;\r\n\r\n\r\n  viewFile(fileData) {\r\n    this.fileUrl = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      debugger;\r\n      this.pdfView = true;\r\n      var path = fileData.attachmentpath;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n    }\r\n    // else if(fileData.ext == 'docx' || fileData.ext == 'doc' || fileData.ext == 'xlsx' ||fileData.ext == 'xls' || fileData.ext == 'pptx' || fileData.ext == 'ppt'){\r\n    //   this.docView =  true;\r\n    //   var path: any = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + fileData.attachmentpath ;\r\n    //   this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n    //   this.imageView = false;\r\n    //   this.pdfView = false;\r\n    // }\r\n    else {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.displayPath;\r\n    }\r\n  }\r\n  // Play YouTube Video\r\n  playLink: any;\r\n  playYoutubeVideo(link: any) {\r\n    this.playLink = this.sanitizer.bypassSecurityTrustResourceUrl(link);\r\n  }\r\n  YouTubeThumbnail(link: any) {\r\n    return this.sanitizer.bypassSecurityTrustUrl(link);\r\n  }\r\n  stopVideo() {\r\n    $('#playLink').attr('src', '');\r\n  }\r\n  //--------------------------------------- Edit circular ---------------------------\r\n  public editAttachmentList: any[] = []\r\n  EditCircular(circularid: string) {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"editemployeecircular?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&CircularId=\" + circularid, options).subscribe(\r\n        (res) => {\r\n          var response: any = res\r\n          // console.log('Edit Circular: ', response);\r\n          if (response.code == 'OK') {\r\n            this.editCircularData = response.data;\r\n            // Attachment: (2)[{ … }, { … }]\r\n            // Circular: \"Test Circular form teacher panel by KB\"\r\n            // CircularId: 226\r\n            // SentTo: \"Selected\"\r\n            // Thumbnail: \"https://img.youtube.com/vi/Ahybo-qeg30/default.jpg\"\r\n            // Title: \"Testing Circular \"\r\n            // YoutubeURL: \"https://www.youtube.com/embed/Ahybo-qeg30?rel=0\"\r\n            // department: []\r\n            // designation: []\r\n            // employee: (3)[{ … }, { … }, { … }]\r\n            this.title = this.editCircularData.Title;\r\n            this.selectedEmployeeType = this.EmployeeTypeList[0];\r\n            this.loadEmployeeCircularType();\r\n            this.message = this.editCircularData.Circular;\r\n            this.YouTubeUrl = this.editCircularData.YoutubeURL;\r\n            if (this.editCircularData.Attachment.length > 0) {\r\n              this.editAttachmentList = this.editCircularData.Attachment;\r\n              for (let index = 0; index < this.editAttachmentList.length; index++) {\r\n                var ext = this.getFileExtension(this.editAttachmentList[index].attachment);\r\n                if (ext == 'jpg' || ext == 'png' || ext == 'jpeg') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': this.editAttachmentList[index].attachment })\r\n                }\r\n                else if (ext == 'pdf') {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/pdf-icon.jpg' });\r\n                }\r\n                else {\r\n                  Object.assign(this.editAttachmentList[index], { 'viewPath': '' });\r\n                }\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            this.toastr.error(response.message, 'Edit Circular');\r\n          }\r\n          this.spinnerService.hide();\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  removeEditAttachment(index) {\r\n    this.editAttachmentList.splice(index, 1);\r\n  }\r\n  public title: string;\r\n  public EmployeeTypeList: any[] = [];\r\n  public dropdownSettings: IDropdownSettings = {};\r\n  public dropdownSettings_dept: IDropdownSettings = {};\r\n  public dropdownSettings_desg: IDropdownSettings = {};\r\n  public selectedEmployeeType: any;\r\n  public EmployeeCircularTypeList: any[] = [];\r\n  public selectedCircularType: any;\r\n  public EmployeeDepartmentList: any[] = [];\r\n  public selectedDepartment: any[];\r\n  public EmployeeList: any[] = [];\r\n  public selectedEmployee: any[];\r\n  public EmployeeDesignationList: any[] = [];\r\n  public selectedDesignation: any[];\r\n  public message: string;\r\n  public YouTubeUrl: string;\r\n  // public currentDate; string;\r\n  // Dropdown methods\r\n  onItemSelect(item: any) {\r\n    // console.log('onItemSelect:',item)\r\n  }\r\n  onSelectAll(items: any) {\r\n    // console.log('onSelectAll',items)\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    // console.log('onItemDeSelect',items)\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n  // Load Employee Type\r\n  loadEmployeeType() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetEmployeeType?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId'), options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.EmployeeTypeList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'Send Circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n            this.spinnerService.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Load Employee Type\r\n  loadEmployeeCircularType() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"employeecirculartype\", options).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.EmployeeCircularTypeList = response.data;\r\n          this.selectedCircularType = this.EmployeeCircularTypeList[this.EmployeeCircularTypeList.findIndex(x => x.CircularTypeName == this.editCircularData.SentTo)];\r\n          this.loadEmployeeDepartment();\r\n          this.spinnerService.hide();\r\n        }\r\n        else {\r\n          this.toastr.warning(response.message, 'Send Circular');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n          this.spinnerService.hide();\r\n        }\r\n      }\r\n    );\r\n  }\r\n  loadEmployeeDepartment() {\r\n    this.EmployeeDepartmentList = [];\r\n    this.EmployeeDesignationList = [];\r\n    this.EmployeeList = [];\r\n    this.selectedEmployee = [];\r\n    this.selectedDepartment = [];\r\n    this.selectedDesignation = [];\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + 'getemployeedepartment?DbName=' + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&SessionId=\" + this.common.storage.get('SessionId')\r\n      + \"&EmpCategory=\" + this.selectedEmployeeType.employeetype + \"&CircularTypeName=\" + this.selectedCircularType.CircularTypeName, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            if (this.selectedCircularType.CircularTypeName == 'Department') {\r\n              this.EmployeeDepartmentList = response.data.department;\r\n              this.selectedDepartment = this.editCircularData.department;\r\n            }\r\n            else if (this.selectedCircularType.CircularTypeName == 'Designation') {\r\n              this.EmployeeDesignationList = response.data.designation;\r\n              this.selectedDesignation = this.editCircularData.designation;\r\n            }\r\n            else {\r\n              this.EmployeeList = response.data.employee;\r\n              this.selectedEmployee = this.editCircularData.employee;\r\n            }\r\n            this.spinnerService.hide(); // stop spinner\r\n          }\r\n          else {\r\n            // this.toastr.warning(response.message, 'Send Circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // file upload change event\r\n  attachment: File;\r\n  attachmentFiles: File[] = [];\r\n  fileURL: any;\r\n  fileURLs: any[] = [];\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      // console.log('File Before Upload', this.attachment);\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Send Circular');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length + this.editAttachmentList.length == 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Update Circular');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Update Circular');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                // console.log(result);\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format', 'Update Circular');\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Update Circular');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n\r\n  // Update circular\r\n  UpdateCircular() {\r\n    if (this.title == '' || this.title == undefined || this.title == null) {\r\n      this.toastr.warning('Please Type Circular Title.', 'Update Circular');\r\n      return;\r\n    }\r\n    if (this.selectedEmployeeType == 0 || this.selectedEmployeeType == undefined) {\r\n      this.toastr.warning('Please Select Employee Type.', 'Update Circular');\r\n      return;\r\n    }\r\n    if (this.selectedCircularType == 0 || this.selectedCircularType == undefined) {\r\n      this.toastr.warning('Please Select Circular Group.', 'Update Circular');\r\n      return;\r\n    }\r\n    var DepartmentIds: string = '';\r\n    var DesignationIds: string = '';\r\n    var UserIds: string = '';\r\n    if (this.selectedCircularType.CircularTypeName == 'Selected') {\r\n      if (this.selectedEmployee.length == 0) {\r\n        this.toastr.warning('Please Select Employee', 'Send Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedEmployee.length; i++) {\r\n        if (UserIds == '') {\r\n          UserIds = UserIds + this.selectedEmployee[i].UserId;\r\n        }\r\n        else {\r\n          UserIds = UserIds + ',' + this.selectedEmployee[i].UserId;\r\n        }\r\n      }\r\n      // console.log('UserIds: ',UserIds);\r\n    }\r\n    else if (this.selectedCircularType.CircularTypeName == 'Department') {\r\n      if (this.selectedDepartment.length == 0) {\r\n        this.toastr.warning('Please Select Department.', 'Update Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedDepartment.length; i++) {\r\n        if (DepartmentIds == '') {\r\n          DepartmentIds = DepartmentIds + this.selectedDepartment[i].DepartmentId;\r\n        }\r\n        else {\r\n          DepartmentIds = DepartmentIds + ',' + this.selectedDepartment[i].DepartmentId;\r\n        }\r\n      }\r\n      // console.log('DepartmentId: ',DepartmentIds);\r\n    }\r\n    else if (this.selectedCircularType.CircularTypeName == 'Designation') {\r\n      if (this.selectedDesignation.length == 0) {\r\n        this.toastr.warning('Please Select Designation.', 'Update Circular');\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.selectedDesignation.length; i++) {\r\n        if (DesignationIds == '') {\r\n          DesignationIds = DesignationIds + this.selectedDesignation[i].DesignationId;\r\n        }\r\n        else {\r\n          DesignationIds = DesignationIds + ',' + this.selectedDesignation[i].DesignationId;\r\n        }\r\n      }\r\n      // console.log('DesignationIds: ',DesignationIds);\r\n    }\r\n    else {\r\n      UserIds = '';\r\n      DepartmentIds = '';\r\n      DesignationIds = '';\r\n    }\r\n\r\n    if (this.message == '' || this.message == null) {\r\n      this.toastr.warning('Please Type Message', 'Update Circular');\r\n      return;\r\n    }\r\n    debugger;\r\n    if (this.YouTubeUrl == null || this.YouTubeUrl == '' || this.YouTubeUrl == undefined) {\r\n      var url = '';\r\n    }\r\n    else {\r\n      var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n      var verifyUrl = this.YouTubeUrl.match(regExp);\r\n      if (verifyUrl && verifyUrl[2].length == 11) {\r\n        url = this.YouTubeUrl;\r\n      }\r\n      else {\r\n        this.toastr.warning('Invalid YouTube URL.', 'Update Circular');\r\n        return;\r\n      }\r\n    }\r\n    // console.log('Url: ',url);\r\n    var d: string = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    var ExistingAttachmentList: any[] = []\r\n    if (this.editAttachmentList.length > 0) {\r\n      for (let i = 0; i < this.editAttachmentList.length; i++) {\r\n        ExistingAttachmentList.push({\r\n          'attachment': this.editAttachmentList[i].attachment\r\n        })\r\n      }\r\n    }\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('Date', d);\r\n    formData.append('Circular', this.message);\r\n    formData.append('SentTo', this.selectedCircularType.CircularTypeName);\r\n    formData.append('DepartmentIds', DepartmentIds);\r\n    formData.append('DesignationIds', DesignationIds);\r\n    formData.append('UserIds', UserIds);\r\n    formData.append('Title', this.title);\r\n    formData.append('YoutubeURL', url);\r\n    formData.append('SessionName', \"2020-21\");\r\n    formData.append('CircularId', this.editCircularData.CircularId);\r\n    formData.append('ExistingAttachment', JSON.stringify(ExistingAttachmentList));\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        formData.append('images', this.attachmentFiles[i]);\r\n      }\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerText = 'Update Circular...';\r\n    this.spinnerService.show();\r\n    this.http.post(this.common.Baseurl + \"updatecircular\", formData).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == 'OK') {\r\n          this.toastr.success(response.message, 'Update Circular');\r\n          this.loadCircular();\r\n          this.Reset();\r\n          this.spinnerService.hide();\r\n          $('#editCircularModal').modal('hide');\r\n        }\r\n        else {\r\n          this.toastr.success(response.message, 'Update Circular');\r\n          this.spinnerService.hide();\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    )\r\n  }\r\n  Reset() {\r\n    this.title = '';\r\n    this.selectedEmployeeType = 0;\r\n    this.selectedCircularType = 0;\r\n    this.EmployeeCircularTypeList = [];\r\n    this.EmployeeDepartmentList = [];\r\n    this.EmployeeDesignationList = [];\r\n    this.EmployeeList = [];\r\n    this.selectedEmployee = [];\r\n    this.selectedDepartment = [];\r\n    this.selectedDesignation = [];\r\n    this.message = '';\r\n    this.YouTubeUrl = '';\r\n    this.attachmentFiles = [];\r\n    this.fileURLs = [];\r\n    this.editAttachmentList = [];\r\n    this.editCircularData = {};\r\n  }\r\n  // View circular status\r\n  public CircularStatusList: any[] = [];\r\n  public searchStatusText: string = '';\r\n  ViewCircularStatus(circularid: string) {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"employeecircularreadstatus?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID + \"&CircularId=\" + circularid, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.CircularStatusList = response.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'View Circular');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Pagination Page Change\r\n  page: number = 1;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + value;\r\n    this.loadCircular();\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">View Circular</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Search Keyword</label>\r\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKeyword\" placeholder=\"Search by keyword.\">\r\n                                </div>\r\n                                <div class=\"col-md-3 form-group\">\r\n                                    <label for=\"\">Month</label>\r\n                                    <select class=\"form-control\" [(ngModel)]=\"selectedMonth\">\r\n                                        <option [ngValue]=\"0\">All Months</option>\r\n                                        <option *ngFor=\"let month of SessionMonth\" [ngValue]=\"month\">{{month.MonthName}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-1 form-group\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px; height: 33px; line-height: 10px;\" (click)=\"loadCircular();\">Show</button>\r\n                                </div>\r\n                                <div class=\"col-md-1 form-group\">\r\n                                    <button class=\"btn btn-primary\" style=\"margin-top: 30px; height: 33px; line-height: 10px;\" (click)=\"reset();\">Reset</button>\r\n                                </div>\r\n                                <div class=\"col-md-3\">\r\n                                    <input type=\"text\" class=\"form-control\" style=\"margin-top: 30px; margin-left: 90px;\" placeholder=\"Search Here\" [(ngModel)]=\"searchText\">\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let data of CircularList | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                <a href=\"javascript:void(0);\" (click)=\"ViewCircular(data.CircularId)\" data-target=\"#viewCircularModal\" data-toggle=\"modal\">\r\n                                                    <div class=\"fllef\">\r\n                                                        <h3 style=\"font-size: 18px;\">{{ data.Title }}\r\n                                                        </h3>\r\n                                                        <h5>By: {{ data.AddedBy }}</h5>\r\n                                                        <h5>{{ data.Circular }}</h5>\r\n                                                        <label>Send To: {{data.SentTo}}   On {{data.AddedOn}}</label>\r\n                                                    </div>\r\n                                                </a>\r\n                                                \r\n                                                <div class=\"fltrigg\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button *ngIf=\"data.IsAttachment == 'Y'\"\r\n                                                                title=\"Attachment\" type=\"button\" class=\"btn btn-lg\" style=\"width: 34px;\">\r\n                                                                <i style=\"color: black;margin-top: 23px; float: left;\" class=\"fa fa-paperclip\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Edit\" data-toggle=\"modal\" *ngIf=\"data.AllowEdit == 'Y'\"\r\n                                                                (click)=\"EditCircular(data.CircularId);\" data-target=\"#editCircularModal\">\r\n                                                                <i style=\"margin-top: 23px;\" class=\"fa fa-edit\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Delete Circular\" (click)=\"DeleteCircular(data.CircularId);\" *ngIf=\"data.AllowDelete == 'Y'\">\r\n                                                                <i style=\"color: red;margin-top: 23px;\" class=\"fa fa-trash-alt\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        <div class=\"col-md-3\">\r\n                                                            <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"View Status\" data-toggle=\"modal\" data-target=\"#viewCircularStatus\" (click)=\"ViewCircularStatus(data.CircularId);\">\r\n                                                                <i style=\"margin-top: 23px;\" class=\"fas fa-info-circle\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"CircularList.length == 0\">\r\n                                <h5 style=\"margin: 0 auto;\">No Circular Found</h5>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                        <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                        Prev\r\n                                    </button>\r\n                                </div>\r\n                                <!-- <div class=\"col-md-1 text-center\">\r\n                                    <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                </div> -->\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"CircularList.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                        <span>Next\r\n                                            <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <!--View Modal -->\r\n                            <div class=\"modal fade\" id=\"viewCircularModal\" tabindex=\"-1\" role=\"dialog\" \r\n                                aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Circular Details</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"col-md-12\">\r\n                                                <h4> {{ CircularData.Title }} </h4> \r\n                                                <p> {{ CircularData.Circular }} </p> \r\n                                                <p> Date: {{ CircularData.AddedOn }} </p>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\" *ngIf=\"ImageData && ImageData.length >0\">Image</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li *ngFor=\"let image of ImageData\">\r\n                                                        <a (click)=\"viewFile(image);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewCircularFile\">\r\n                                                            <img [src]=\"image.displayPath\" height=\"100\" width=\"100\"\r\n                                                                alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\" *ngIf=\"FileData && FileData.length >0\">File</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li *ngFor=\"let file of FileData\">\r\n                                                        <a (click)=\"viewFile(file);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewCircularFile\">\r\n                                                            <img [src]=\"file.displayPath\" height=\"100\" width=\"100\"\r\n                                                                alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"row\" *ngIf=\"CircularData.YoutubeURL != ''\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\">YouTube Video</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li>\r\n                                                        <a (click)=\"playYoutubeVideo(CircularData.YoutubeURL);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#YouTubeVideoModal\">\r\n                                                            <img [src]=\"YouTubeThumbnail(CircularData.Thumbnail)\" height=\"100\" width=\"100\"\r\n                                                                alt=\"YouTube Video\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary\">Close\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> \r\n                            <!-- view attachmentModal -->\r\n                            <div class=\"modal fade\" id=\"viewCircularFile\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Attachment</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageView\">\r\n                                                        <img [src]=\"fileUrl\" alt=\"Attachment Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                    </div>\r\n                                                    <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                        <iframe [src]='fileUrl' width=\"100%\" height=\"500px\" style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                    </div>\r\n                                                    <!-- <div *ngIf=\"docView\" class=\"col-md-12\">\r\n                                                        <iframe [src]=\"fileUrl\" width=\"100%\" height=\"500px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                    </div> -->\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> \r\n                            <!-- play YouTube video -->\r\n                            <div class=\"modal fade\" id=\"YouTubeVideoModal\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">YouTube Video</h4>\r\n                                            <button type=\"button\" (click)=\"stopVideo();\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" *ngIf=\"playLink != undefined\">\r\n                                                        <iframe [src]=\"playLink != undefined ? playLink : ''\" id=\"playLink\" width=\"100%\" height=\"500px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- Edit Modal -->\r\n                            <div class=\"modal fade\" id=\"editCircularModal\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\">\r\n                                            <h4 class=\"modal-title\">Edit Circular</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Title</label>\r\n                                                    <input type=\"text\" class=\"form-control\" placeholder=\"Circular Title\" [(ngModel)]=\"title\">\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\" class=\"label-control\">Employee Type</label>\r\n                                                    <select class=\"form-control\" [(ngModel)]=\"selectedEmployeeType\" (change)=\"loadEmployeeCircularType();\">\r\n                                                        <option [ngValue]=\"0\">Select Employee Type</option>\r\n                                                        <option *ngFor=\"let type of EmployeeTypeList\" [ngValue]=\"type\">{{type.employeetype}}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\" class=\"label-control\">Circular Type</label>\r\n                                                    <select class=\"form-control\" [(ngModel)]=\"selectedCircularType\" (change)='loadEmployeeDepartment();'>\r\n                                                        <option [ngValue]=\"0\">Select Circular Type</option>\r\n                                                        <option *ngFor=\"let type of EmployeeCircularTypeList\" [ngValue]=\"type\">{{type.CircularTypeName}}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeList.length == 0\">\r\n                                                    <label for=\"\" class=\"label-control\">Employee</label>\r\n                                                    <ng-multiselect-dropdown [placeholder]=\"'Select Employee'\"\r\n                                                        [data]=\"EmployeeList\" [(ngModel)]=\"selectedEmployee\"\r\n                                                        [settings]=\"dropdownSettings\"\r\n                                                        (onSelect)=\"onItemSelect($event)\"\r\n                                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                    </ng-multiselect-dropdown>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeDepartmentList.length == 0\">\r\n                                                    <label for=\"\" class=\"label-control\">Department</label>\r\n                                                    <ng-multiselect-dropdown [placeholder]=\"'Select Department'\"\r\n                                                        [data]=\"EmployeeDepartmentList\" [(ngModel)]=\"selectedDepartment\"\r\n                                                        [settings]=\"dropdownSettings_dept\"\r\n                                                        (onSelect)=\"onItemSelect($event)\"\r\n                                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                    </ng-multiselect-dropdown>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"EmployeeDesignationList.length == 0\">\r\n                                                    <label for=\"\" class=\"label-control\">Designation</label>\r\n                                                    <ng-multiselect-dropdown [placeholder]=\"'Select Designation'\"\r\n                                                        [data]=\"EmployeeDesignationList\" [(ngModel)]=\"selectedDesignation\"\r\n                                                        [settings]=\"dropdownSettings_desg\"\r\n                                                        (onSelect)=\"onItemSelect($event)\"\r\n                                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                    </ng-multiselect-dropdown>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <label for=\"\">Message</label>\r\n                                                    <textarea rows=\"3\" class=\"form-control\" [(ngModel)]=\"message\" placeholder=\"Type Message...\"></textarea>\r\n                                                </div>\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <label for=\"\">YouTube URL</label>\r\n                                                    <input type=\"url\" class=\"form-control\" [(ngModel)]=\"YouTubeUrl\" placeholder=\"YouTube URL\">\r\n                                                </div>\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <label for=\"\">Attachment </label>\r\n                                                    <input type=\"file\" class=\"form-control\" id=\"attachment\" accept=\".pdf,.jpg,.jpeg,.png\" (change)=\"fileToUpload($event)\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-12\">\r\n                                                <h5 *ngIf=\"editAttachmentList && editAttachmentList.length > 0\">Existing Attachments</h5>\r\n                                                <ul *ngIf=\"editAttachmentList && editAttachmentList.length > 0\" class=\"images-feed image-cancel\">\r\n                                                    <li *ngFor=\"let file of editAttachmentList; let i = index\">\r\n                                                        <a [href]=\"file.attachment\" target=\"_blank\">\r\n                                                            <img [src]=\"file.viewPath\" alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                        <a (click)=\"removeEditAttachment(i);\">\r\n                                                            <span class=\"fa fa-times\"></span>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"col-md-12\">\r\n                                                <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">New Attachments</h5>\r\n                                                <ul *ngIf=\"fileURLs && fileURLs.length > 0\" class=\"images-feed image-cancel\">\r\n                                                    <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                                        <a [href]=\"filePath\" target=\"_blank\">\r\n                                                            <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                        <a (click)=\"removeAttachment(i);\">\r\n                                                            <span class=\"fa fa-times\"></span>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        \r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"UpdateCircular();\">Update Circular</button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- View circular Status -->\r\n                            <div class=\"modal fade\" id=\"viewCircularStatus\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-lg\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Circular Read Status</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <input type=\"text\" placeholder=\"Search Here.\" class=\"form-control\" [(ngModel)]=\"searchStatusText\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                                <div class=\"col-md-12\" *ngFor=\"let status of CircularStatusList | filter: searchStatusText\">\r\n                                                    <div class=\"card\">\r\n                                                        <div class=\"card-body\">\r\n                                                            <div class=\"subject-div\">\r\n                                                                <div class=\"fllef\">\r\n                                                                    <h4>\r\n                                                                        {{status.EmployeeName}}\r\n                                                                    </h4>\r\n                                                                    <!-- <h5>Enroll No: {{student.EnrollNo}}</h5> -->\r\n                                                                    <!-- <h6>{{ sms.Message }}</h6> -->\r\n                                                                </div>\r\n                                                                <div class=\"fltrigg\">\r\n                                                                    <div>\r\n                                                                        <div class=\"row\">\r\n                                                                            <div *ngIf=\"status.ReadStatus == 'N'\">\r\n                                                                                <i style=\"color:red;\" title=\"Unread\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:red;\">Unread</span>\r\n                                                                            </div>\r\n                                                                            <div *ngIf=\"status.ReadStatus == 'Y'\">\r\n                                                                                <i style=\"color:green;\" title=\"Read\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:green;\">Read</span>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport * as $ from 'jquery';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-view-gallery',\r\n  templateUrl: './view-gallery.component.html',\r\n  styleUrls: ['./view-gallery.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewGalleryComponent implements OnInit {\r\n  public userData: any;\r\n  public spinnerText: string;\r\n  public currentDate: any = '';\r\n  public GalleryList: any[] = [];\r\n  public searchKeyword: string = '';\r\n  public minDate: any;\r\n  public GalleryImages: any[] = [];\r\n  public selectedAlbum: any;\r\n  public IsSyncWithWebsite: boolean = false;\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private imageCompress: NgxImageCompressService,\r\n    private sanitizer: DomSanitizer,\r\n    private spinnerService: NgxSpinnerService,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>\r\n  ) { }\r\n  // Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.common.storage.clearAll();\r\n      this.router.navigate(['']);\r\n    }\r\n    this.spinnerText = 'Loading...';\r\n    // this.currentDate = this.today;\r\n    this.minDate = this.ngbCalendar.getToday();\r\n    this.loadGallery();\r\n  }\r\n  // Load Gallery\r\n  loadGallery() {\r\n    if (this.currentDate == undefined || this.currentDate == '') {\r\n      var d = '';\r\n    }\r\n    else {\r\n      d = this.currentDate.split('-')[2] + '-' + this.currentDate.split('-')[1] + '-' + this.currentDate.split('-')[0];\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"getalbum?DbName=\" + this.common.storage.get('DBName') + \"&NextData=\"+ this.page + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&Albumdate=\" + d + \"&SearchKeyWord=\" + this.searchKeyword, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.GalleryList = response.data;\r\n            console.log('Gallery Data: ', this.GalleryList);\r\n            this.spinnerService.hide()\r\n          }\r\n          else {\r\n            this.GalleryList = [];\r\n            this.spinnerService.hide()\r\n            this.toastr.warning(response.message, 'View Gallery');\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide()\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  reset() {\r\n    this.currentDate = '';\r\n    this.searchKeyword = '';\r\n    this.loadGallery();\r\n  }\r\n  loadGalleryImages(Album: any) {\r\n    this.GalleryImages = [];\r\n    this.selectedAlbum = Album;\r\n    var AlbumId = this.selectedAlbum.AlbumId;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getalbumimage?DbName=\" + this.common.storage.get('DBName') + \"&NextData=1\" + \"&UserId=\" + this.userData.UserID\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&AlbumId=\" + AlbumId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.GalleryImages = response.data;\r\n            // console.log('Gallery Data: ', this.GalleryImages);\r\n          }\r\n          else {\r\n            this.toastr.warning(response.message, 'View Gallery');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  public imageUrl: any;\r\n  showImage(path: any) {\r\n    this.imageUrl = this.sanitizer.bypassSecurityTrustUrl(path);\r\n  }\r\n\r\n\r\n  public albumName: string = \"\";\r\n  public attachment: File;\r\n  public attachmentFiles: File[] = [];\r\n  public fileURL: any;\r\n  public fileURLs: any[] = [];\r\n  public UploadedFile: File[] = [];\r\n  // file upload change event\r\n  fileToUpload(event) {\r\n    this.UploadedFile = event.target.files;\r\n    console.log(this.UploadedFile);\r\n    if (this.UploadedFile.length > 0) {\r\n      for (let index = 0; index < this.UploadedFile.length; index++) {\r\n        // console.log(index + 1, this.UploadedFile[index]\r\n        this.attachment = this.UploadedFile[index];\r\n        var ext = this.attachment.type;\r\n        var fileName = this.attachment.name;\r\n        // console.log('File Before Upload', this.attachment);\r\n        if (Math.round(this.attachment.size / 1024) > 10240) {\r\n          this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Create Gallery');\r\n          this.attachment = null;\r\n          return;\r\n        }\r\n        // if (this.attachmentFiles.length == 5) {\r\n        //   this.toastr.warning('You can add only 5 attachments.', 'Create Gallery');\r\n        //   this.attachment = null;\r\n        //   return;\r\n        // }\r\n        for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n          if (fileName == this.attachmentFiles[i].name) {\r\n            this.toastr.warning('This file is already selected.', 'Create Gallery');\r\n            this.attachment = null;\r\n            return;\r\n          }\r\n        }\r\n        if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png' || ext == 'image/pjpeg' || ext == 'image/gif' || ext == 'image/x-png') {\r\n          // if (Math.round(this.attachment.size / 1024) > 500) {\r\n          //   var reader = new FileReader();\r\n          //   reader.readAsDataURL(this.attachment);\r\n          //   reader.onload = (event: any) => {\r\n          //     this.fileURL = event.target.result;\r\n          //     var orientation = -1;\r\n          //     this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n          //       result => {\r\n          //         // console.log(result);\r\n          //         var imgResultAfterCompress = result;\r\n          //         const imageName = fileName;\r\n          //         var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n          //         const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n          //         this.attachment = imageFile;\r\n          //         // console.log('File After Compress: ', this.attachment);\r\n          //         // console.log('File Size After Compress :', Math.round(this.attachment.size / 1024) + 'KB');\r\n          //         this.attachmentFiles.push(this.attachment);\r\n          //         this.fileURLs.push(this.fileURL);\r\n          //         (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          //         // this.attachment = null;\r\n          //         // this.fileURL = '';\r\n          //       }\r\n          //     );\r\n          //   }\r\n          // }\r\n          // else {\r\n          //   var fileReader = new FileReader();\r\n          //   fileReader.readAsDataURL(this.attachment);\r\n          //   fileReader.onload = (_event) => {\r\n          //     this.fileURL = _event.target.result;\r\n          //     this.attachmentFiles.push(this.attachment);\r\n          //     this.fileURLs.push(this.fileURL);\r\n          //     (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          //     // this.attachment = null;\r\n          //     // this.fileURL = '';\r\n          //   }\r\n          // }\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n        else {\r\n          this.fileURL = '';\r\n          this.attachment = null;\r\n          this.toastr.warning('Invalid File Format', 'Create Gallery');\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Create Gallery');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n\r\n  // Remove Attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n\r\n\r\n  // save gallery\r\n  SaveGallery() {\r\n    if (this.albumName == '' || this.albumName == null || this.albumName == undefined) {\r\n      this.toastr.warning('Please Type Album Name.', \"Create Album\");\r\n      return;\r\n    }\r\n    if (this.attachmentFiles.length == 0) {\r\n      this.toastr.warning('Please Upload Images.', \"Create Album\");\r\n      return;\r\n    }\r\n    var IsSync: string = 'N';\r\n    if (this.IsSyncWithWebsite == true) {\r\n      IsSync = 'Y';\r\n    }\r\n    this.spinnerService.show();\r\n    this.spinnerText = 'Creating Album...';\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('AlbumTitle', this.albumName);\r\n    formData.append('SessionName', '2020-21');\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('IsSyncWithWebsite', IsSync);\r\n    this.attachmentFiles.forEach(image => {\r\n      formData.append('AlbumImages', image)\r\n    });\r\n    this.http.post(this.common.Baseurl + 'creategallery', formData).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        if (response.code == 'OK') {\r\n          this.spinnerText = 'Loading...';\r\n          this.spinnerService.hide();\r\n          $('#close_add').click();\r\n          this.toastr.success(response.message, 'Create Gallery');\r\n          this.loadGallery();\r\n        }\r\n        else {\r\n          this.spinnerText = 'Loading...';\r\n          this.spinnerService.hide();\r\n          this.toastr.error(response.message, 'Create Gallery');\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerText = 'Loading...';\r\n        this.spinnerService.hide();\r\n        if (err.status == 401) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  // Reset Method\r\n  Reset() {\r\n    this.albumName = '';\r\n    this.attachmentFiles = [];\r\n    this.attachment = null;\r\n    this.fileURLs = [];\r\n  }\r\n\r\n  //Delete Inbox Message \r\n  deleteGallery(AlbumId: string) {\r\n    Swal.fire({\r\n      title: 'Delete Gallery',\r\n      text: 'Are you sure to delete this gallery?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinnerText = \"Deleting Gallery...\";\r\n        this.spinnerService.show();\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        var data = {\r\n          'DbName': this.common.storage.get('DBName'),\r\n          'UserId': this.userData.UserID,\r\n          'AlbumId': AlbumId\r\n        };\r\n        let body = JSON.stringify(data);\r\n        this.http.post(this.common.Baseurl + \"deleteAlbum\", body, options).subscribe(\r\n          (res) => {\r\n            var response: any = res;\r\n            // console.log('Delete gallery:', response);\r\n            if (response.code == 'OK') {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              this.toastr.success(response.message, 'Delete Gallery');\r\n              this.loadGallery();\r\n            }\r\n            else {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              this.toastr.error(response.message, 'Delete Gallery');\r\n            }\r\n          },\r\n          (err) => {\r\n            this.spinnerService.hide();\r\n            this.spinnerText = 'Loading...';\r\n            if (err.status === 400) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        );\r\n      }\r\n    })\r\n  }\r\n  public EditGalleryData: any;\r\n  public editIsSyncWithWebsite: boolean = false;\r\n  EditGallery(AlbumId: string) {\r\n    this.EditGalleryData = {};\r\n    this.editIsSyncWithWebsite = false;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"editgallery?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&AlbumId=\" + AlbumId, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          console.log(response);\r\n          if (response.code == 'OK') {\r\n            debugger\r\n            this.EditGalleryData = response.data;\r\n            if(this.EditGalleryData.IsSyncWithWebsite == 'Y')\r\n            {\r\n              this.editIsSyncWithWebsite = true;\r\n            }\r\n            else \r\n            {\r\n              this.editIsSyncWithWebsite = false;\r\n            }\r\n            this.EditGalleryData.GalleryImages.forEach(image => {\r\n              if(image.CoverImage == 'Y'){\r\n                Object.assign(image, {'IsCoverImage': true });\r\n              }\r\n              else {\r\n                Object.assign(image, {'IsCoverImage': false });\r\n              }\r\n            });\r\n          }\r\n          else {\r\n            // $('#edit-album').modal(\"show\");\r\n            this.toastr.error(response.message, 'Edit Gallery');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  \r\n  // New File Upload for Update\r\n  public newFile: File;\r\n  public newFileList: File[] = [];\r\n  public newFileUrl: any;\r\n  public newFileUrlList: any[] = [];\r\n  public newUploadedFile: File[] = [];\r\n  fileToUpdate(event) {\r\n    this.newUploadedFile = event.target.files;\r\n    if(this.newUploadedFile.length > 0){\r\n      for (let index = 0; index < this.newUploadedFile.length; index++) {\r\n        this.newFile = this.newUploadedFile[index];\r\n        let ext = this.newFile.type;\r\n        let fileName = this.newFile.name;\r\n        // console.log('File Before Upload', this.attachment);\r\n        if (Math.round(this.newFile.size / 1024) > 10240) {\r\n          this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Update Gallery');\r\n          this.newFile = null;\r\n          return;\r\n        }\r\n        // if (this.attachmentFiles.length == 5) {\r\n        //   this.toastr.warning('You can add only 5 attachments.', 'Create Gallery');\r\n        //   this.attachment = null;\r\n        //   return;\r\n        // }\r\n        for (let i = 0; i < this.newFileList.length; i++) {\r\n          if (fileName == this.newFileList[i].name) {\r\n            this.toastr.warning('This file is already selected.', 'Update Gallery');\r\n            this.newFile = null;\r\n            return;\r\n          }\r\n        }\r\n        if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png' || ext == 'image/pjpeg' || ext == 'image/gif' || ext == 'image/x-png') {\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.newFile);\r\n          fileReader.onload = (_event) => {\r\n            this.newFileUrl = _event.target.result;\r\n            this.newFileList.push(this.newFile);\r\n            this.newFileUrlList.push(this.newFileUrl);\r\n            (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n          }\r\n        }\r\n        else {\r\n          this.newFileUrl = '';\r\n          this.newFile = null;\r\n          this.toastr.warning('Invalid File Format', 'Create Gallery');\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Create Gallery');\r\n      (<HTMLInputElement>document.getElementById('attachment1')).value = '';\r\n    }\r\n    // console.log(this.attachmentFiles);\r\n    // console.log(this.fileURLs);\r\n  }\r\n\r\n  // remove attachment \r\n  RemoveEditAttachment(index){\r\n    this.newFileList.splice(index, 1);\r\n    this.newFileUrlList.splice(index, 1);\r\n  }\r\n\r\n  // Make cover image\r\n  MakeCoverImage(ImageId: string){\r\n    Swal.fire({\r\n      title: 'Change Cover Image',\r\n      text: 'Are you sure to make it as cover image?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinnerText = \"Changing Image...\";\r\n        this.spinnerService.show();\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        var data = {\r\n          'DbName': this.common.storage.get('DBName'),\r\n          'ImageId': ImageId\r\n        };\r\n        let body = JSON.stringify(data);\r\n        this.http.post(this.common.Baseurl + \"MarkCoverImageInGallery\", body, options).subscribe(\r\n          (res) => {\r\n            var response: any = res;\r\n            // console.log('Delete gallery:', response);\r\n            if (response.code == 'OK') {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              $('#edit_close').click();\r\n              this.toastr.success(response.message, 'Change Cover Image');\r\n              this.loadGallery();\r\n            }\r\n            else {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              this.toastr.error(response.message, 'Change Cover Image');\r\n            }\r\n          },\r\n          (err) => {\r\n            this.spinnerService.hide();\r\n            this.spinnerText = 'Loading...';\r\n            if (err.status === 400) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        );\r\n      }\r\n      else {\r\n        this.EditGalleryData.GalleryImages.forEach(image => {\r\n          if(image.CoverImage == 'Y'){\r\n            image.IsCoverImage = true;\r\n          }\r\n          else {\r\n            image.IsCoverImage = false;\r\n          }\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  // Delete Image\r\n  DeleteAlbumImage(ImageId: string){\r\n    Swal.fire({\r\n      title: 'Delete Image',\r\n      text: 'Are you sure to delete this Image?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinnerText = \"Deleting Image...\";\r\n        this.spinnerService.show();\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        var data = {\r\n          'DbName': this.common.storage.get('DBName'),\r\n          'ImageId': ImageId\r\n        };\r\n        let body = JSON.stringify(data);\r\n        this.http.post(this.common.Baseurl + \"deletealbumimages\", body, options).subscribe(\r\n          (res) => {\r\n            var response: any = res;\r\n            // console.log('Delete gallery:', response);\r\n            if (response.code == 'OK') {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              this.toastr.success(response.message, 'Delete Gallery Image');\r\n              this.loadGallery();\r\n            }\r\n            else {\r\n              this.spinnerService.hide();\r\n              this.spinnerText = 'Loading...';\r\n              this.toastr.error(response.message, 'Delete Gallery Image');\r\n            }\r\n          },\r\n          (err) => {\r\n            this.spinnerService.hide();\r\n            this.spinnerText = 'Loading...';\r\n            if (err.status === 400) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        );\r\n      }\r\n    })\r\n  }\r\n\r\n  // Update Method \r\n  UpdateAlbums() {\r\n    if(this.EditGalleryData.AlbumName == '' || this.EditGalleryData.AlbumName == null || this.EditGalleryData.AlbumName == undefined)\r\n    {\r\n      this.toastr.warning('Please Type Album Name.');\r\n      return;\r\n    }\r\n    if((this.EditGalleryData.GalleryImages.length + this.newFileList.length) <= 0)\r\n    {\r\n      this.toastr.warning('Please Upload Images');\r\n      return;\r\n    }\r\n    var IsSync: string = 'N';\r\n    if(this.editIsSyncWithWebsite == true)\r\n    {\r\n      IsSync = 'Y';\r\n    }\r\n\r\n    this.spinnerText = 'Updating Album...';\r\n    this.spinnerService.show();\r\n\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName'));\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId'));\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('SessionName', '2020-21');\r\n    formData.append('AlbumTitle', this.EditGalleryData.AlbumName);\r\n    formData.append('AlbumId', this.EditGalleryData.AlbumId);\r\n    formData.append('IsSyncWithWebsite', IsSync);\r\n    if(this.newFileList.length > 0)\r\n    {\r\n      this.newFileList.forEach(image => {\r\n        formData.append('AlbumImages', image);\r\n      });\r\n    }\r\n\r\n    this.http.post(this.common.Baseurl + 'updategallery', formData).subscribe(\r\n      (data) => {\r\n        var response: any = data;\r\n        if (response.code == 'OK') {\r\n          this.spinnerText = 'Loading...';\r\n          this.spinnerService.hide();\r\n          this.toastr.success(response.message, 'Update Gallery');\r\n          this.loadGallery();\r\n          $('#edit_close').click();\r\n          this.newFileList = [];\r\n          this.newFileUrlList = [];\r\n        }\r\n        else {\r\n          this.spinnerText = 'Loading...';\r\n          this.spinnerService.hide();\r\n          this.toastr.error(response.message, 'Update Gallery');\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerText = 'Loading...';\r\n        this.spinnerService.hide();\r\n        if (err.status == 401) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  resetEditAttachment() {\r\n    this.newFileList = [];\r\n    this.newFileUrlList = [];\r\n  }\r\n\r\n  //Pagination Page Change\r\n  page: number = 1;\r\n  // pageSize:number = 10;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + value;\r\n    this.loadGallery();\r\n  }\r\n}\r\n","<!-- Content Wrapper. Contains page content -->\r\n<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <h3 style=\"margin-left: 15px; padding-bottom: 10px;\">View Gallery</h3>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3\">\r\n                                    <div class=\"search-box\">\r\n                                        <input type=\"text\" placeholder=\"Search Album\" class=\"form-control\" [(ngModel)]=\"searchKeyword\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-3\">\r\n                                    <div class=\"sort-box\">\r\n                                        <input type=\"text\" class=\"form-control\" [maxDate]=\"minDate\" [(ngModel)]=\"currentDate\" name=\"d2\" ngbDatepicker #d2=\"ngbDatepicker\" (click)=\"d2.toggle();\" placeholder=\"DD-MM-YYYY\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-1\">\r\n                                    <button class=\"btn btn-primary\" style=\"height: 33px; line-height: 10px;\" (click)='loadGallery();'>Show</button>\r\n                                </div>\r\n                                <div class=\"col-md-1\">\r\n                                    <button class=\"btn btn-primary\" style=\"height: 33px; line-height: 10px;\" (click)='reset();'>Reset</button>\r\n                                </div>\r\n                                <div class=\"col-md-4\">\r\n                                    <div class=\"input-button input-button2\">\r\n                                        <a href=\"#add-album\" data-toggle=\"modal\">Create Gallery</a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div class=\"album-view\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-3\" *ngFor=\"let gallery of GalleryList\">\r\n                                        <a href=\"#modal-album\" data-toggle=\"modal\" (click)='loadGalleryImages(gallery);'>\r\n                                            <div class=\"album-containerr\">\r\n                                                <img [src]=\"gallery.AlbumImage\" alt=\"\" class=\"img-responsive img-fluid\">\r\n                                                <p>{{ gallery.Title }}</p>\r\n                                                <a href=\"#edit-album\" data-toggle=\"modal\" class=\"edit-gallalb fa fa-pen\"></a>\r\n                                                <a href=\"javascript:void(0)\" class=\"delete-gallalb fa fa-times\"></a>\r\n                                            </div>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div> -->\r\n                            <div class=\"album-view\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-3\" *ngFor=\"let gallery of GalleryList\">\r\n                                        <div class=\"album-containerr\">\r\n                                            <a href=\"#modal-album\" data-toggle=\"modal\" (click)='loadGalleryImages(gallery);'>\r\n                                                <img [src]=\"gallery.AlbumImage\" alt=\"\" class=\"img-responsive img-fluid\">\r\n                                                <p>{{ gallery.Title }}</p>\r\n                                            </a>\r\n                                            <a href=\"#\" data-target=\"#edit-album\" (click)=\"EditGallery(gallery.AlbumId);\" data-toggle=\"modal\" class=\"edit-gallalb fa fa-pen\"></a>\r\n                                            <a href=\"javascript:void(0)\" (click)=\"deleteGallery(gallery.AlbumId);\" class=\"delete-gallalb fa fa-times\"></a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-1\">\r\n                                        <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                            <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                            Prev\r\n                                        </button>\r\n                                    </div>\r\n                                    <!-- <div class=\"col-md-1 text-center\">\r\n                                        <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                    </div> -->\r\n                                    <div class=\"col-md-1\">\r\n                                        <button type=\"button\" *ngIf=\"GalleryList.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                            <span>Next\r\n                                                <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <div class=\"modal fade album-modal\" id=\"modal-album\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ selectedAlbum != undefined ? selectedAlbum.Title : ''}}</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3\" *ngFor=\"let image of GalleryImages\">\r\n                                                    <a href=\"#modal-image\" (click)=\"showImage(image.ImageFile)\" data-toggle=\"modal\">\r\n                                                        <div class=\"album-containerr\">\r\n                                                            <img [src]=\"image.ImageFile\" alt=\"\" class=\"img-responsive img-fluid\">\r\n                                                        </div>\r\n                                                    </a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"modal fade album-modal\" id=\"modal-image\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Image</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageUrl != undefined\">\r\n                                                    <img [src]=\"imageUrl != undefined ? imageUrl : ''\" alt=\"Gallery Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"modal fade album-modal\" id=\"edit-album\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Edit Album</h5>\r\n                                            <button type=\"button\" id=\"edit_close\" (click)=\"resetEditAttachment();\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\" *ngIf=\"EditGalleryData != undefined\">\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"EditGalleryData == undefined ? '':EditGalleryData.AlbumName\">\r\n                                                </div>\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <input type=\"file\" id=\"attachment1\" class=\"form-control\" (change)=\"fileToUpdate($event)\" accept=\"image/*\" multiple>\r\n                                                </div>\r\n                                                <div class=\"col-md-2\">\r\n                                                    <div class=\"input-buttonn\">\r\n                                                        <input type=\"checkbox\" [(ngModel)]=\"editIsSyncWithWebsite\"> <span>Sync with website</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-2\">\r\n                                                    <div class=\"input-button\">\r\n                                                        <a href=\"javascript:void(0);\" (click)=\"UpdateAlbums()\">Update</a>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"textt\">\r\n                                                        <p>To choose a cover image, select the checkbox of that image.</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-3\" *ngFor=\"let image of EditGalleryData.GalleryImages; let i = index\">\r\n                                                    <div class=\"album-containerr\">\r\n                                                        <img [src]=\"image.ImageFile\" alt=\"Album images\" class=\"img-responsive img-fluid\">\r\n                                                        <a href=\"javascript:void(0);\" (click)=\"DeleteAlbumImage(image.ImageId)\" class=\"delete-gallalb fa fa-times\"></a>\r\n                                                        <input type=\"checkbox\" [(ngModel)]=\"image.IsCoverImage\" (change)=\"MakeCoverImage(image.ImageId)\">\r\n                                                    </div>\r\n                                                </div>\r\n                                                \r\n                                                <div class=\"col-md-3\" *ngFor=\"let file of newFileUrlList; let i = index\">\r\n                                                    <div class=\"album-containerr\">\r\n                                                        <img [src]=\"file\" alt=\"\" class=\"img-responsive img-fluid\">\r\n                                                        <a href=\"javascript:void(0)\" (click)=\"RemoveEditAttachment(i)\" class=\"delete-gallalb fa fa-times\"></a>\r\n                                                        <!-- <input type=\"checkbox\" name=\"\" id=\"\"> -->\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"modal fade album-modal\" id=\"add-album\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Album</h5>\r\n                                            <button type=\"button\" id=\"close_add\" class=\"close\" (click)=\"Reset();\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <input type=\"text\" class=\"form-control\" placeholder=\"Add Album\" [(ngModel)]=\"albumName\">\r\n                                                </div>\r\n                                                <div class=\"col-md-4 form-group\">\r\n                                                    <input type=\"file\" name=\"\" id=\"attachment\" class=\"form-control\" (change)=\"fileToUpload($event);\" accept=\"image/*\" multiple>\r\n                                                </div>\r\n                                                <div class=\"col-md-2\">\r\n                                                    <div class=\"input-buttonn\">\r\n                                                        <input type=\"checkbox\" [(ngModel)]=\"IsSyncWithWebsite\"> <span>Sync with website</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-2\">\r\n                                                    <div class=\"input-button\">\r\n                                                        <a href=\"javascript:void(0)\" (click)=\"SaveGallery()\">Save</a>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"col-md-3\" *ngFor=\"let image of fileURLs; let i = index\">\r\n                                                    <div class=\"album-containerr\">\r\n                                                        <img [src]=\"image\" alt=\"\" class=\"img-responsive img-fluid\">\r\n                                                        <a href=\"javascript:void(0)\" (click)=\"removeAttachment(i)\" class=\"delete-gallalb fa fa-times\"></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { Component,  ViewChild, OnInit,ElementRef, AfterViewInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxImageCompressService } from 'ngx-image-compress';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport * as $ from 'jquery';\r\ndeclare var google: any;\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n\r\n@Component({\r\n  selector: 'app-view-notices',\r\n  templateUrl: './view-notices.component.html',\r\n  styleUrls: ['./view-notices.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewNoticesComponent implements OnInit {\r\n  translatedText: \"string\";\r\n  // @ViewChild('NoticeContent', { static: true }) NoticeContent: ElementRef;\r\n\r\n  public userData: any;\r\n  public searchText: string;\r\n  public NoticeData: any = []\r\n  title: string;\r\n  content: string;\r\n  entryDate: any;\r\n  minDate: any;\r\n  noticetype: string = \"\";\r\n  selectedSection: any[] = [];\r\n  dropdownSettings: IDropdownSettings = {};\r\n  NoticeType: Array<any> = [];\r\n  LanguageList: any[] = [];\r\n  // selectedlang: string = 'HINDI';\r\n  spinnerText: string = 'Loading...';\r\n  /*Google transliteration*/\r\n  selectedlang: string = 'ENGLISH';\r\n  public config: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '10rem',\r\n    minHeight: '5rem',\r\n    placeholder: ' Description Here.',\r\n    translate: 'yes',\r\n    defaultParagraphSeparator: 'p',    \r\n    defaultFontName: 'Arial',\r\n    toolbarHiddenButtons: [\r\n      ['bold']\r\n    ],\r\n    customClasses: [\r\n      {\r\n        name: \"quote\",\r\n        class: \"quote\",\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: \"titleText\",\r\n        class: \"titleText\",\r\n        tag: \"h3\",\r\n      },\r\n    ]\r\n  };\r\n  ngAfterViewInit() {\r\n    // google.load(\"elements\", \"1\", {\r\n    //   packages: \"transliteration\"\r\n    // });\r\n    google.setOnLoadCallback(this.onLoad()); // Don't lose \"this\" context \r\n    debugger;\r\n    // \r\n\r\n  }\r\n  control: any;\r\n  langchange(lang) {\r\n    debugger;\r\n    if (lang != \"ENGLISH\") {\r\n      this.control.enableTransliteration();\r\n      //function to change the language dynamically(Google API)\r\n      this.control.setLanguagePair(\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n        google.elements.transliteration.LanguageCode[lang]\r\n      );\r\n    }\r\n    else {\r\n      this.control.disableTransliteration()\r\n    }\r\n    // google.setOnLoadCallback(this.onLoad(lang));\r\n  }\r\n  public onLoad() {\r\n    // const elements = this.NoticeContent.nativeElement;   \r\n    $('#editNoticeContent').find('.angular-editor-textarea').prop('id', 'editNoticeText'); \r\n    var options = {\r\n      sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage: [google.elements.transliteration.LanguageCode.HINDI],\r\n      shortcutKey: 'ctrl+g',\r\n      transliterationEnabled: true\r\n    };\r\n    this.control = new google.elements.transliteration.TransliterationControl(options);\r\n    this.control.makeTransliteratable(['editNoticeText']);\r\n    this.control.toggleTransliteration();\r\n  }\r\n  \r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private spinnerService: NgxSpinnerService,\r\n    private imageCompress: NgxImageCompressService,\r\n    private sanitizer: DomSanitizer,\r\n    private ngbCalendar: NgbCalendar, private dateAdapter: NgbDateAdapter<string>,\r\n    private common: CommonclassService\r\n  ) { }\r\n  // Get Today\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'));\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.loadNotice();\r\n    this.dropdownSettings = {\r\n      singleSelection: false,\r\n      idField: 'SectionId',\r\n      textField: 'Class',\r\n      selectAllText: 'Select All',\r\n      unSelectAllText: 'UnSelect All',\r\n      itemsShowLimit: 4,\r\n      allowSearchFilter: false\r\n    };\r\n    this.loadClass();\r\n    this.loadLanguages();\r\n  }\r\n  //Load Translate languages \r\n  loadLanguages(){\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    var url = this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\"+this.common.storage.get('SchoolId')\r\n    // console.log(url);\r\n    this.http.get(this.common.Baseurl + \"GetLanguageForTranslator?schoolid=\"+this.common.storage.get('SchoolId') , options).subscribe(\r\n      (data) => {\r\n        // console.log('Translator language:', data);\r\n        var responsen: any = data;\r\n        if(responsen.code == 'OK'){\r\n          this.LanguageList = responsen.data;\r\n        }\r\n        else {\r\n          this.toastr.warning(responsen.message, 'Language List');\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.status === 400) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  //Load Notices\r\n  loadNotice() {\r\n    this.spinnerService.show();\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getmynoticesv23?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&NextData=\" + this.page + \"&UserId=\" + this.userData.UserID\r\n      + \"&SchoolId=\" + this.common.storage.get('SchoolId'), options).subscribe(\r\n        (res) => {\r\n          var resData: any = res;\r\n          if (resData.code == 'OK') {\r\n            var AllowSendNotice = resData.AllowSendNotice;\r\n            this.NoticeData = resData.data;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.toastr.warning(resData.message, 'View Notice');\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 401) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //Delete Notice\r\n  deleteNotice(NoticeId: string) {\r\n    Swal.fire({\r\n      title: 'Delete Notice',\r\n      text: 'Are you sure to delete this notice?',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      cancelButtonText: 'No',\r\n      confirmButtonText: 'Yes'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let headers = new HttpHeaders({\r\n          'Content-Type': 'application/json'\r\n        });\r\n        let options = {\r\n          headers: headers\r\n        }\r\n        this.http.get(this.common.Baseurl + \"deletenotice?DbName=\" + this.common.storage.get('DBName')\r\n          + \"&UserId=\" + this.userData.UserID + \"&NoticeId=\" + NoticeId, options).subscribe(\r\n            (res) => {\r\n              var response: any = res\r\n              if (response.code == 'OK') {\r\n                this.toastr.success(response.message, 'Delete Notice');\r\n                this.loadNotice();\r\n              }\r\n              else {\r\n                this.toastr.error(response.message, 'Delete Notice');\r\n              }\r\n            },\r\n            (err) => {\r\n              if (err.status === 400) {\r\n                console.log(err);\r\n              }\r\n            }\r\n          );\r\n      }\r\n    })\r\n  }\r\n  // View Modal Data\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n  public modalData: any = [];\r\n  public viewData: any = [];\r\n  public ImagesData: any[] = [];\r\n  showAttachment(data: any) {\r\n    this.viewData = [];\r\n    this.modalData = [];\r\n    this.ImagesData = [];\r\n    this.viewData = data;\r\n    debugger\r\n    if (data.Files.length > 0) {\r\n      for (let i = 0; i < data.Files.length; i++) {\r\n        this.modalData.push({ 'attachmentpath': data.Files[i].attachmentpath });\r\n      }\r\n    }\r\n    if (data.Images.length > 0) {\r\n      for (let i = 0; i < data.Images.length; i++) {\r\n        this.ImagesData.push({ 'attachmentpath': data.Images[i].attachmentpath });\r\n      }\r\n    }\r\n    if (this.ImagesData.length > 0) {\r\n      for (let i = 0; i < this.ImagesData.length; i++) {\r\n        var ext = this.getFileExtension(this.ImagesData[i].attachmentpath);\r\n        if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n          Object.assign(this.ImagesData[i], {\r\n            'displayPath': this.ImagesData[i].attachmentpath,\r\n            'ext': ext,\r\n            'viewPath': this.ImagesData[i].attachmentpath\r\n          });\r\n        }\r\n      }\r\n    }\r\n    if (this.modalData.length > 0) {\r\n      for (let i = 0; i < this.modalData.length; i++) {\r\n        var ext = this.getFileExtension(this.modalData[i].attachmentpath);\r\n        if (ext == 'pdf') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/pdf-icon.jpg',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'doc' || ext == 'docx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/docx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'xls' || ext == 'xlsx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/xlsx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else if (ext == 'ppt' || ext == 'pptx') {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/pptx-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n        else {\r\n          Object.assign(this.modalData[i], {\r\n            'displayPath': '../../assets/images/file-icon.png',\r\n            'ext': ext,\r\n            'viewPath': this.modalData[i].attachmentpath\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //Attachment view\r\n  fileUrl: any;\r\n  imageView: boolean = false;\r\n  pdfView: boolean = false;\r\n  docView: boolean = false;\r\n\r\n  viewFile(fileData) {\r\n    this.fileUrl = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.fileUrl = fileData.attachmentpath;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      debugger;\r\n      this.pdfView = true;\r\n      var path = fileData.attachmentpath;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n\r\n      this.docView = false;\r\n\r\n    }\r\n    else if (fileData.ext == 'docx' || fileData.ext == 'doc' || fileData.ext == 'xlsx' || fileData.ext == 'xls' || fileData.ext == 'pptx' || fileData.ext == 'ppt') {\r\n      this.docView = true;\r\n      var path: any = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + fileData.attachmentpath;\r\n      // https://view.officeapps.live.com/op/embed.aspx?src=\r\n      // var path: any = \"https://docs.google.com/gview?url=\" + fileData.attachmentpath +\"&embedded=true\";\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n    }\r\n    else {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.displayPath;\r\n    }\r\n  }\r\n  //---------------------------------------------edit notice code -----------------------------\r\n  // Edit Notice\r\n  editData: any = []\r\n  editAttachmentList: any[] = [];\r\n  NoticeID: string;\r\n\r\n  //Edit Notice\r\n  editNotice(NoticeId: string) {\r\n    this.NoticeID = NoticeId;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"editnotice?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&UserId=\" + this.userData.UserID + \"&NoticeId=\" + this.NoticeID, options).subscribe(\r\n        (res) => {\r\n          this.editData = res;\r\n          if (this.editData.code == 'OK') {\r\n            this.editData = this.editData.data;\r\n          }\r\n          this.title = this.editData.Title\r\n          this.entryDate = this.editData.NoticeDate;\r\n          this.translatedText = this.editData.Detail;\r\n          var sectionList: any[] = [];\r\n          for(let i = 0; i < this.editData.sections.length; i++){\r\n            sectionList.push({\r\n              'SectionId': this.ClassList[this.ClassList.findIndex(x => x.SectionId == this.editData.sections[i].SectionId)].SectionId,\r\n              'Class': this.ClassList[this.ClassList.findIndex(x => x.SectionId == this.editData.sections[i].SectionId)].Class\r\n            });\r\n          }\r\n          this.selectedSection = sectionList;\r\n\r\n          this.UrlLink = this.editData.Youtubeurl;\r\n          // this.loadClass();\r\n          this.NoticeType = [];\r\n          // if(this.editData.NoticeType == 'section')\r\n          // {\r\n          //   this.noticetype = this.NoticeType[0];\r\n          // }\r\n          // else {\r\n          //   this.noticetype = this.NoticeType[0];\r\n          // }\r\n          if (this.userData.Role == 'Admin') {\r\n            this.NoticeType.push({ value: 'class', text: 'School' }, { value: 'section', text: 'Class' });\r\n          }\r\n          else {\r\n            this.NoticeType.push({ value: 'section', text: 'Class' });\r\n          }\r\n          this.noticetype = this.NoticeType[this.NoticeType.findIndex(x => x.value == this.editData.NoticeType.toLowerCase())].value;\r\n          this.editAttachmentList = [];\r\n          if (this.editData.Files.length > 0) {\r\n            this.editAttachmentList = this.editData.Files;\r\n            for (let index = 0; index < this.editAttachmentList.length; index++) {\r\n              var ext = this.getFileExtension(this.editAttachmentList[index].attachment);\r\n              if (ext == 'jpg' || ext == 'png' || ext == 'jpeg') {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': this.editAttachmentList[index].attachment })\r\n              }\r\n              else if (ext == 'pdf') {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/pdf-icon.jpg' });\r\n              }\r\n              else if (ext == 'docx' || ext == 'doc') {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/docx-icon.png' });\r\n              }\r\n              else if (ext == 'ppt' || ext == 'pptx') {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/pptx-icon.png' });\r\n              }\r\n              else if (ext == 'xlsx' || ext == 'xls') {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': '../../assets/images/xlsx-icon.png' });\r\n              }\r\n              else {\r\n                Object.assign(this.editAttachmentList[index], { 'viewPath': '' });\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  UrlLink: string = '';\r\n  // file upload change event\r\n  attachment: File;\r\n  attachmentFiles: File[] = [];\r\n  fileURL: any;\r\n  fileURLs: any[] = [];\r\n  fileToUpload(event) {\r\n    if (event.target.files.length > 0) {\r\n      this.attachment = event.target.files.item(0);\r\n      var ext = this.attachment.type;\r\n      var fileName = this.attachment.name;\r\n      if (Math.round(this.attachment.size / 1024) > 10240) {\r\n        this.toastr.warning('Attachment size cant be exceed than 10 MB', 'Compose Notice');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      if (this.attachmentFiles.length == 5) {\r\n        this.toastr.warning('You can add only 5 attachments.', 'Compose Notice');\r\n        this.attachment = null;\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.attachmentFiles.length; i++) {\r\n        if (fileName == this.attachmentFiles[i].name) {\r\n          this.toastr.warning('This file is already selected.', 'Compose Notice');\r\n          this.attachment = null;\r\n          (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          return;\r\n        }\r\n      }\r\n      if (ext == 'image/jpeg' || ext == 'image/jpg' || ext == 'image/png') {\r\n        if (Math.round(this.attachment.size / 1024) > 500) {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(this.attachment);\r\n          reader.onload = (event: any) => {\r\n            this.fileURL = event.target.result;\r\n            var orientation = -1;\r\n            this.imageCompress.compressFile(this.fileURL, orientation, 50, 50).then(\r\n              result => {\r\n                var imgResultAfterCompress = result;\r\n                const imageName = fileName;\r\n                var imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\r\n                const imageFile = new File([imageBlob], imageName, { type: 'image/jpeg', lastModified: Date.now() });\r\n                this.attachment = imageFile;\r\n                this.attachmentFiles.push(this.attachment);\r\n                this.fileURLs.push(this.fileURL);\r\n                (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n              }\r\n            );\r\n          }\r\n        }\r\n        else {\r\n          debugger\r\n          var fileReader = new FileReader();\r\n          fileReader.readAsDataURL(this.attachment);\r\n          fileReader.onload = (_event) => {\r\n            this.fileURL = _event.target.result;\r\n            this.attachmentFiles.push(this.attachment);\r\n            this.fileURLs.push(this.fileURL);\r\n            (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n          }\r\n        }\r\n      }\r\n      else if (ext == 'application/pdf') {\r\n        this.fileURL = './assets/images/pdf-icon.jpg';\r\n        this.attachmentFiles.push(this.attachment);\r\n        this.fileURLs.push(this.fileURL);\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n      }\r\n      else {\r\n        this.fileURL = '';\r\n        this.attachment = null;\r\n        this.toastr.warning('Invalid File Format', 'Compose Notice');\r\n        (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n        return;\r\n      }\r\n    }\r\n    else {\r\n      this.toastr.warning('Please select file.', 'Compose Notice');\r\n      (<HTMLInputElement>document.getElementById('attachment')).value = '';\r\n    }\r\n  }\r\n\r\n  //Create Blob Url\r\n  dataURItoBlob(dataURI) {\r\n    const byteString = window.atob(dataURI);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const int8Array = new Uint8Array(arrayBuffer);\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([int8Array], { type: 'image/jpeg' });\r\n    return blob;\r\n  }\r\n\r\n  //Remove attachment\r\n  removeAttachment(index) {\r\n    this.attachmentFiles.splice(index, 1);\r\n    this.fileURLs.splice(index, 1);\r\n  }\r\n  removeEditAttachment(index) {\r\n    this.editAttachmentList.splice(index, 1);\r\n  }\r\n  onItemSelect(item: any) {\r\n    // console.log(this.selectedSection);\r\n    // console.log('onItemSelect:',item)\r\n  }\r\n  onSelectAll(items: any) {\r\n    // console.log('onSelectAll',items)\r\n  }\r\n  onItemDeSelect(items: any) {\r\n    // console.log('onItemDeSelect',items)\r\n  }\r\n  onDropDownClose() {\r\n  }\r\n  public ClassList: any[] = [];\r\n  loadClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userData.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userData.UserID, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ClassList = response.data;\r\n            // this.selectedSection = this.ClassList[this.ClassList.findIndex(x => x.SectionId == this.editData.sections.SectionId)];\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  showClass: boolean = true;\r\n  TypeChange(data: any) {\r\n    if (data.value == 'school') {\r\n      this.showClass = false;\r\n    }\r\n    else {\r\n      this.showClass = true;\r\n    }\r\n  }\r\n  //Update Notice\r\n  // Send Notice\r\n  UpdateNotices() {\r\n    if (this.title == '' || this.title == undefined || this.title == null) {\r\n      this.toastr.warning('Please Enter Notice Title', 'Compose Notice');\r\n      return;\r\n    }\r\n    if (this.selectedSection == undefined || this.selectedSection == null) {\r\n      this.toastr.warning('Please Select Class', 'Compose Notice');\r\n      return;\r\n    }\r\n    this.content = this.translatedText;\r\n    if (this.content == '' || this.content == null || this.content == undefined) {\r\n      this.toastr.warning('Please Type Message', 'Compose Notice');\r\n      return;\r\n    }\r\n    if (this.UrlLink == undefined || this.UrlLink == '') {\r\n    }\r\n    else {\r\n      var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\r\n      var verifyUrl = this.UrlLink.match(regExp);\r\n      if (verifyUrl && verifyUrl[2].length == 11) {\r\n        // console.log(this.UrlLink);\r\n      }\r\n      else {\r\n        this.toastr.warning('Invalid YouTube URL.');\r\n        this.UrlLink = \"\";\r\n        return;\r\n      }\r\n    }\r\n    debugger\r\n    var SectionIds: string = '';\r\n    for (let i = 0; i < this.selectedSection.length; i++) {\r\n      if (SectionIds == \"\") {\r\n        SectionIds = SectionIds + this.selectedSection[i].SectionId;\r\n      }\r\n      else {\r\n        SectionIds = SectionIds + ',' + this.selectedSection[i].SectionId;\r\n      }\r\n    }\r\n    var ExistingAttachmentList: any[] = []\r\n    if (this.editAttachmentList.length > 0) {\r\n      for (let i = 0; i < this.editAttachmentList.length; i++) {\r\n        ExistingAttachmentList.push({\r\n          'attachment': this.editAttachmentList[i].attachment\r\n        })\r\n      }\r\n    }\r\n    this.spinnerText = 'Updating Notice...';\r\n    this.spinnerService.show();\r\n    let formData: FormData = new FormData();\r\n    formData.append('DbName', this.common.storage.get('DBName').toString());\r\n    formData.append('SchoolId', this.common.storage.get('SchoolId').toString());\r\n    formData.append('TeacherId', this.userData.TeacherID);\r\n    formData.append('SectionIds', SectionIds);\r\n    formData.append('Title', this.title);\r\n    formData.append('Content', this.content);\r\n    formData.append('Entrydate', this.entryDate);\r\n    formData.append('YoutubeURL', this.UrlLink);\r\n    formData.append('NoticeType', this.noticetype);\r\n    formData.append('SessionId', this.common.storage.get('SessionId'));\r\n    formData.append('UserId', this.userData.UserID);\r\n    formData.append('SessionName', \"2020-21\");\r\n    formData.append('NoticeId', this.editData.NoticeId);\r\n    formData.append('ExistingAttachment', JSON.stringify(ExistingAttachmentList));\r\n    if (this.attachmentFiles.length > 0) {\r\n      for (let index = 0; index < this.attachmentFiles.length; index++) {\r\n        formData.append('images', this.attachmentFiles[index])\r\n      }\r\n    }\r\n    debugger;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.post(this.common.Baseurl + \"updatenotice\", formData).subscribe(\r\n      (res) => {\r\n        var response: any = res;\r\n        if (response.code == \"OK\") {\r\n          this.toastr.success(response.message, 'Update Notice');\r\n          this.attachmentFiles = [];\r\n          this.loadNotice();\r\n          // this.Reset();\r\n          this.spinnerService.hide();\r\n          this.spinnerText = 'Loading...'\r\n        }\r\n        else {\r\n          // Swal.fire('', response.message, 'error');\r\n          this.toastr.error(response.message , 'Update Notice');\r\n          this.spinnerService.hide();\r\n          this.spinnerText = 'Loading...'\r\n        }\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        this.spinnerText = 'Loading...'\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  // Play YouTube Video\r\n  playLink: any;\r\n  playYoutubeVideo(link: any) {\r\n    this.playLink = this.sanitizer.bypassSecurityTrustResourceUrl(link);\r\n  }\r\n  YouTubeThumbnail(link: any) {\r\n    return this.sanitizer.bypassSecurityTrustUrl(link);\r\n  }\r\n  stopVideo() {\r\n    $('#playLink').attr('src', '');\r\n  }\r\n\r\n  // View Status\r\n  ReadStatus: any[] = [];\r\n  searchStudent: string;\r\n  loadReadStatus(NoticeID: string) {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getmynoticereadstatus?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&NoticeId=\" + NoticeID, options).subscribe(\r\n        (res) => {\r\n          var response: any = res;\r\n          if (response.code == 'OK') {\r\n            this.ReadStatus = response.data;\r\n          }\r\n          else {\r\n            this.ReadStatus = [];\r\n            // this.toastr.warning(response.message,'Notice View');\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  //Pagination Page Change\r\n  page: number = 1;\r\n  // pageSize:number = 10;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + value;\r\n    this.loadNotice();\r\n  }\r\n}\r\n","<div class=\"content-wrapper\">\r\n    <!-- /.content-header -->\r\n\r\n    <!-- Main content -->\r\n    <section class=\"content\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card main-section\">\r\n                        <h3 style=\"margin-top: 10px; margin-left: 10px;\">View Notices</h3>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3\">\r\n                                    <input style=\"width: 300px; margin-left: 10px;\" [(ngModel)]=\"searchText\" type=\"text\" class=\"form-control\" placeholder=\"Search Here\">\r\n                                </div>\r\n                                <div class=\"col-md-9\">\r\n                                    <button class=\"btn btn-primary\" style=\"float: right;\" routerLink=\"/ComposeNotice\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Compose Notice</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                <div class=\"col-md-12\" *ngFor=\"let data of NoticeData | filter: searchText\">\r\n                                    <div class=\"card\">\r\n                                        <div class=\"card-body\">\r\n                                            <div class=\"subject-div\">\r\n                                                <a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewNoticeModal\" (click)=\"showAttachment(data);\">\r\n                                                    <div class=\"fllef\">\r\n                                                        <h4>\r\n                                                            <a href=\"javascript:void(0)\" style=\"font-weight: bold; font-size: 20px;\">{{data.Title}}</a>\r\n                                                        </h4>\r\n                                                        <h5 style=\"color: black;\" [innerHtml]=\"data.Detail\"></h5>\r\n                                                        <h6 style=\"color: black;\">Send To: {{ data.SentTo }}</h6>\r\n                                                        <h6 style=\"color: black;\">Send By: {{ data.SentBy }} Date: {{data.NoticeDate}}</h6>\r\n                                                    </div>\r\n                                                </a>\r\n                                                <div class=\"fltrigg\"> \r\n                                                    <div>\r\n                                                        <div class=\"row\">\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button *ngIf=\"data.Images.length > 0 || data.Files.length > 0\"\r\n                                                                    title=\"View\" type=\"button\" class=\"btn btn-lg\"\r\n                                                                    style=\"width: 34px;\">\r\n                                                                    <i style=\"color: black;margin-top: 23px; float: left;\" class=\"fa fa-paperclip\"></i>\r\n                                                                    <span style=\"margin-top: 15px;position: absolute; padding-left: 4px;\">{{ data.Files.length + data.Images.length }}</span>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" *ngIf=\"data.AllowEdit == 'Y'\" class=\"btn btn-lg btn-link\" title=\"Edit\" (click)=\"editNotice(data.NoticeId);\" data-toggle=\"modal\" data-target=\"#editNoticeModal\">\r\n                                                                    <i style=\"margin-top: 23px;\" class=\"fa fa-edit\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"Delete\" *ngIf=\"data.AllowDelete == 'Y'\"\r\n                                                                (click)=\"deleteNotice(data.NoticeId);\">\r\n                                                                    <i style=\"color: red;margin-top: 23px;\" class=\"fa fa-trash-alt\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-3\">\r\n                                                                <button type=\"button\" class=\"btn btn-lg btn-link\" title=\"View Status\" data-toggle=\"modal\" data-target=\"#viewStatus\" (click)=\"loadReadStatus(data.NoticeId);\">\r\n                                                                    <i style=\"margin-top: 23px;\" class=\"fas fa-info-circle\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"NoticeData.length == 0\" class=\"row\">\r\n                                <h3 class=\"text-center\">No Notice Found..</h3>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                        <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                        Prev\r\n                                    </button>\r\n                                </div>\r\n                                <!-- <div class=\"col-md-1 text-center\">\r\n                                    <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                </div> -->\r\n                                <div class=\"col-md-1\">\r\n                                    <button type=\"button\" *ngIf=\"NoticeData.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                        <span>Next\r\n                                            <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                <p style=\"color: white\">{{spinnerText}}</p>\r\n                            </ngx-spinner>\r\n                            <!--View Modal -->\r\n                            <div class=\"modal fade\" id=\"viewNoticeModal\" tabindex=\"-1\" role=\"dialog\" \r\n                                aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Notice</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"col-md-12\">\r\n                                                <h4> {{viewData.Title}} </h4> \r\n                                                <p [innerHtml]=\"viewData.Detail\"></p> \r\n                                                <p> Date: {{viewData.NoticeDate}} </p>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\" *ngIf=\"ImagesData && ImagesData.length >0\">Image</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li *ngFor=\"let image of ImagesData\">\r\n                                                        <a (click)=\"viewFile(image);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewNoticeFile\">\r\n                                                            <img [src]=\"image.displayPath\" height=\"100\" width=\"100\"\r\n                                                                alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"row\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\" *ngIf=\"modalData && modalData.length >0\">File</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li *ngFor=\"let file of modalData\">\r\n                                                        <a (click)=\"viewFile(file);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#viewNoticeFile\">\r\n                                                            <img [src]=\"file.displayPath\" height=\"100\" width=\"100\"\r\n                                                                alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"row\" *ngIf=\"viewData.Youtubeurl != ''\" style=\"margin-left: 7px;\">\r\n                                                <label style=\"font-size: 15px; font-weight: bold !important;\">YouTube Video</label>\r\n                                                <ul class=\"images-feed\">\r\n                                                    <li>\r\n                                                        <a (click)=\"playYoutubeVideo(viewData.Youtubeurl);\" href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#YouTubeVideoModal\">\r\n                                                            <img [src]=\"YouTubeThumbnail(viewData.Thumbnail)\" height=\"100\" width=\"100\"\r\n                                                                alt=\"YouTube Video\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary\">Close\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> \r\n                            <!-- Edit Modal -->\r\n                            <div class=\"modal fade\" id=\"editNoticeModal\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\">\r\n                                            <h4 class=\"modal-title\">Edit Message</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Title</label>\r\n                                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"title\" placeholder=\"Notice Title\">\r\n                                                </div>\r\n                                                <div class=\"col-lg-3 form-group\">\r\n                                                    <label for=\"\">Date</label>\r\n                                                    <input type=\"text\" class=\"form-control\" [minDate]=\"minDate\"\r\n                                                        [(ngModel)]=\"entryDate\" name=\"d1\" ngbDatepicker\r\n                                                        #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\"\r\n                                                        placeholder=\"DD-MM-YYYY\" />\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Send To</label>\r\n                                                    <select class=\"form-control\" [(ngModel)]=\"noticetype\" (change)=\"TypeChange(noticetype);\">\r\n                                                        <option *ngFor=\"let type of NoticeType\" [ngValue]=\"type.value\">{{type.text}}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group multiselect-div\" [hidden]=\"noticetype != 'section'\">\r\n                                                    <label for=\"\" class=\"label-control\">Class</label>\r\n                                                    <ng-multiselect-dropdown [placeholder]=\"'Select Class'\"\r\n                                                        [data]=\"ClassList\" [(ngModel)]=\"selectedSection\"\r\n                                                        [settings]=\"dropdownSettings\"\r\n                                                        (onSelect)=\"onItemSelect($event)\"\r\n                                                        (onSelectAll)=\"onSelectAll($event)\"\r\n                                                        (onDropDownClose)=\"onDropDownClose()\"\r\n                                                        (onDeSelect)=\"onItemDeSelect($event)\">\r\n                                                    </ng-multiselect-dropdown>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-lg-2 form-group\">\r\n                                                    <label for=\"\">Language</label>\r\n                                                    <select class=\"form-control\" id=\"language\" [(ngModel)]=\"selectedlang\" (change)=\"langchange(selectedlang);\"> \r\n                                                        <!-- <option value=\"ENGLISH\">ENGLISH</option>\r\n                                                        <option value=\"HINDI\">HINDI</option>\r\n                                                        <option value=\"ORIYA\">ORIYA</option>\r\n                                                        <option value=\"PUNJABI\">PUNJABI</option> -->\r\n                                                        <option *ngFor=\"let lang of LanguageList\" [ngValue]=\"lang.LanguageName\">{{ lang.LanguageName }}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                \r\n                                                <!-- <div class=\"col-md-4 form-group\">\r\n                                                    <label for=\"\">Message</label>\r\n                                                    <textarea rows=\"3\" class=\"form-control\" placeholder=\"Type Message...\" [(ngModel)]=\"content\"></textarea>\r\n                                                </div> -->\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">YouTube URL</label>\r\n                                                    <input type=\"url\" class=\"form-control\" [(ngModel)]=\"UrlLink\" placeholder=\"YouTube Url\">\r\n                                                </div>\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <label for=\"\">Attachment </label><span style=\"font-size:small;\">(You can send 5 pdf/images.)</span>\r\n                                                    <input type=\"file\" class=\"form-control\" id=\"attachment\" (change)=\"fileToUpload($event)\">\r\n                                                </div>\r\n                                                <div class=\"col-md-12 form-group\">\r\n                                                    <label for=\"\">Message</label>\r\n                                                    <!-- <textarea rows=\"3\" class=\"form-control\" placeholder=\"Type Message...\" [(ngModel)]=\"content\"></textarea> -->\r\n                                                    <!-- <textarea id=\"NoticeContent\" #NoticeContent rows=\"2\" class=\"form-control\" [(ngModel)]=\"translatedText\" placeholder=\"Notice Content Here.\"></textarea> -->\r\n                                                    <angular-editor [(ngModel)]=\"translatedText\" id=\"editNoticeContent\" #editNoticeContent [config]=\"config\"></angular-editor>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-12\">\r\n                                                <h5 *ngIf=\"editAttachmentList && editAttachmentList.length > 0\">Existing Attachments</h5>\r\n                                                <ul *ngIf=\"editAttachmentList && editAttachmentList.length > 0\" class=\"images-feed image-cancel\">\r\n                                                    <li *ngFor=\"let file of editAttachmentList; let i = index\">\r\n                                                        <a [href]=\"file.attachment\" target=\"_blank\">\r\n                                                            <img [src]=\"file.viewPath\" alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                        <a (click)=\"removeEditAttachment(i);\">\r\n                                                            <span class=\"fa fa-times\"></span>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            <div class=\"col-md-12\">\r\n                                                <h5 *ngIf=\"fileURLs && fileURLs.length > 0\">New Attachments</h5>\r\n                                                <ul *ngIf=\"fileURLs && fileURLs.length > 0\" class=\"images-feed image-cancel\">\r\n                                                    <li *ngFor=\"let filePath of fileURLs; let i = index\">\r\n                                                        <a [href]=\"filePath\" target=\"_blank\">\r\n                                                            <img [src]=\"filePath\" alt=\"\" class=\"img-fluid\">\r\n                                                        </a>\r\n                                                        <a (click)=\"removeAttachment(i);\">\r\n                                                            <span class=\"fa fa-times\"></span>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        \r\n                                        <div class=\"modal-footer\">\r\n                                            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-secondary\" (click)=\"UpdateNotices();\">Update\r\n                                                Notice</button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- view attachmentModal -->\r\n                            <div class=\"modal fade\" id=\"viewNoticeFile\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Attachment</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageView\">\r\n                                                        <img [src]=\"fileUrl\" alt=\"Attachment Image\" style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                    </div>\r\n                                                    <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                        <iframe [src]='fileUrl' width=\"100%\" height=\"500px\" style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                    </div>\r\n                                                    <div *ngIf=\"docView\" class=\"col-md-12\">\r\n                                                        <iframe [src]=\"fileUrl\" width=\"100%\" height=\"500px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div> \r\n                            <!-- play YouTube video -->\r\n                            <div class=\"modal fade\" id=\"YouTubeVideoModal\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">YouTube Video</h4>\r\n                                            <button type=\"button\" (click)=\"stopVideo();\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-12\">\r\n                                                    <div class=\"col-md-12\" *ngIf='playLink != undefined'>\r\n                                                        <iframe [src]=\"playLink != undefined ? playLink : ''\" id=\"playLink\" width=\"100%\" height=\"500px\" style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- View Status -->\r\n                            <div class=\"modal fade\" id=\"viewStatus\">\r\n                                <div class=\"modal-dialog modal-dialog-scrollable modal-lg\">\r\n                                    <div class=\"modal-content\">\r\n\r\n                                        <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                            <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">Message Read Status</h4>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"margin-top: -25px;\">&times;</button>\r\n                                        </div>\r\n\r\n                                        <div class=\"modal-body\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-md-3 form-group\">\r\n                                                    <input type=\"text\" placeholder=\"Search Here.\" class=\"form-control\" [(ngModel)]=\"searchStudent\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                                <div class=\"col-md-12\" *ngFor=\"let student of ReadStatus | filter: searchStudent\">\r\n                                                    <div class=\"card\">\r\n                                                        <div class=\"card-body\">\r\n                                                            <div class=\"subject-div\">\r\n                                                                <div class=\"fllef\">\r\n                                                                    <h4>\r\n                                                                        <a href=\"javascript:void(0)\" style=\"font-weight: bold;\">{{student.StudentName}}</a>\r\n                                                                    </h4>\r\n                                                                    <h5>Enroll No: {{student.EnrollNo}}</h5>\r\n                                                                </div>\r\n                                                                <div class=\"fltrigg\">\r\n                                                                    <div>\r\n                                                                        <div class=\"row\">\r\n                                                                            <div *ngIf=\"student.ReadStatus == 'Unread'\">\r\n                                                                                <i style=\"color:red; margin-top: 19px;\" title=\"Unread\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:red; margin-top: 19px;\">{{student.ReadStatus}}</span>\r\n                                                                            </div>\r\n                                                                            <div *ngIf=\"student.ReadStatus == 'Read'\">\r\n                                                                                <i style=\"color:green;margin-top: 19px;\" title=\"Read\" class=\"fas fa-circle\"></i>\r\n                                                                                <span style=\"color:green; margin-top: 19px;\">{{student.ReadStatus}}</span>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div *ngIf=\"ReadStatus.length == 0\">\r\n                                                                    <h3>No Data Found</h3>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- /.content -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CommonclassService } from '../services/commonclass.service';\r\nimport { CustomAdapter, CustomDateParserFormatter } from \"../services/datepicker-format.service\";\r\nimport { NgbCalendar, NgbDateAdapter, NgbDateParserFormatter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { DataService } from '../services/data.service'\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-view-student-response',\r\n  templateUrl: './view-student-response.component.html',\r\n  styleUrls: ['./view-student-response.component.css'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter }\r\n  ]\r\n})\r\nexport class ViewStudentResponseComponent implements OnInit {\r\n  teacherList: any[] = []\r\n  selectedTeacher: any;\r\n  selectedDate: string;\r\n  responseData: any = [];\r\n  showData: boolean = false;\r\n  viewStudentResponse: boolean = true;\r\n  view: boolean = false;\r\n  userdata: any;\r\n  allowUpload: boolean = false;\r\n  spinnerText: string = 'Loading...';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private common: CommonclassService,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    private spinnerService: NgxSpinnerService,\r\n    private data: DataService,\r\n    private toster: ToastrService,\r\n    private ngbCalendar: NgbCalendar,\r\n    private dateAdapter: NgbDateAdapter<string>,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.viewStudentResponse = true;\r\n    this.viewResponse = false;\r\n    this.selectedDate = this.today;\r\n    this.userdata = this.common.storage.get(\"user\");\r\n    var expiredTime = new Date(this.common.storage.get('SessionExpiry'))\r\n    var nowTime = new Date();\r\n    if (nowTime > expiredTime) {\r\n      this.router.navigate(['']);\r\n    }\r\n    this.selectedTeacher = { 'TeacherId': this.userdata.TeacherID, 'UserId': this.userdata.UserID };\r\n    this.viewClassSection = 0;\r\n    this.viewSubject = 0;\r\n    this.loadTeacher();\r\n    // this.loadStudentResponse();\r\n  }\r\n  changeView() {\r\n    if (this.viewStudentResponse == true) {\r\n      this.viewStudentResponse = false;\r\n      this.view = true;\r\n    }\r\n    else {\r\n      this.viewStudentResponse = true;\r\n      this.view = false;\r\n      this.loadTeacher();\r\n    }\r\n  }\r\n\r\n  get today() {\r\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday())!;\r\n  }\r\n\r\n  // Load Student Response\r\n  loadStudentResponse() {\r\n    // debugger;\r\n    var dueDate = this.selectedDate.split('-')[2] + '-' + this.selectedDate.split('-')[1] + '-' + this.selectedDate.split('-')[0];\r\n    if (this.viewClassSection == 0 || this.viewClassSection == undefined) {\r\n      var sectionId = 0;\r\n    }\r\n    else {\r\n      sectionId = this.viewClassSection.SectionId\r\n    }\r\n    if (this.viewSubject == 0 || this.viewSubject == undefined) {\r\n      var SubjectId = 0\r\n    }\r\n    else {\r\n      SubjectId = this.viewSubject.SubjectId;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerService.show();\r\n    this.http.get(this.common.Baseurl + \"getassignments?DbName=\" + this.common.storage.get('DBName') + '&NextData=' + this.page\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SubjectId=\" + SubjectId\r\n      + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId\r\n      + \"&SectionId=\" + sectionId + \"&DueDate=\" + dueDate, options).subscribe(\r\n        (data) => {\r\n          this.responseData = data;\r\n          if (this.responseData.code == 'OK') {\r\n            this.responseData = this.responseData.data;\r\n            this.showData = false;\r\n            this.spinnerService.hide();\r\n          }\r\n          else {\r\n            this.showData = true;\r\n            this.responseData = [];\r\n            this.spinnerService.hide();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.spinnerService.hide();\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // Load Teacher method\r\n  loadTeacher() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getteacherforhomework?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.userdata.TeacherID + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID, options).subscribe(\r\n        (data) => {\r\n          // console.log(data);\r\n          var response: any = data;\r\n          if (response.code == 'OK') {\r\n            this.teacherList = response.data;\r\n            if (this.userdata.Role == 'Admin') {\r\n              this.selectedTeacher = { 'TeacherId': this.userdata.TeacherID, 'UserId': this.userdata.UserID };\r\n              this.loadViewClass();\r\n              this.loadStudentResponse();\r\n            }\r\n            else {\r\n              this.selectedTeacher = this.teacherList[this.teacherList.findIndex(x => x.UserId == this.userdata.UserID)];\r\n              this.loadViewClass();\r\n              this.loadStudentResponse();\r\n            }\r\n          }\r\n          else {\r\n            this.teacherList = [];\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  public viewClassList: any = [];\r\n  viewClassSection: any;\r\n  loadViewClass() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignedclasssection?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId, options).subscribe(\r\n        (res) => {\r\n          // console.log(res);\r\n          this.viewClassList = res;\r\n          this.viewClassList = this.viewClassList.data;\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // Load view subject\r\n  viewSubejctList: any = [];\r\n  viewSubject: any;\r\n  loadViewSubject() {\r\n    if (this.viewClassSection == 0) {\r\n      this.viewSubject = 0;\r\n      this.viewSubejctList = []\r\n      return;\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"GetClassSectionSubjects?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&TeacherId=\" + this.selectedTeacher.TeacherId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.selectedTeacher.UserId\r\n      + \"&SectionId=\" + this.viewClassSection.SectionId + \"&ClassId=\" + this.viewClassSection.ClassId, options).subscribe(\r\n        (res) => {\r\n          this.viewSubejctList = res;\r\n          this.viewSubejctList = this.viewSubejctList.data.Subjects;\r\n          // console.log(this.viewSubejctList)\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  viewStudentDetails(resData: any) {\r\n    if (parseInt(resData.TotalUpload.split('-')[0]) > 0) {\r\n      this.viewResponse = resData;\r\n      this.changeView();\r\n      this.loadAssignmentDetails();\r\n    }\r\n    else {\r\n      // console.log('Dont Navigate !');\r\n      return;\r\n    }\r\n  }\r\n  // --------------------------------------------- View Response Code --------------------------------------------------\r\n  viewResponse: any = [];\r\n  // userdata: any;\r\n  studentList: any = [];\r\n  searchText: string;\r\n  remarks: string;\r\n  // Load Teacher method\r\n  loadAssignmentDetails() {\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"getassignmentdetails?DbName=\" + this.common.storage.get('DBName')\r\n      + \"&HomeId=\" + this.viewResponse.HomeId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID, options).subscribe(\r\n        (data) => {\r\n          // console.log('Get Assignment details :',data);\r\n          this.studentList = data;\r\n          if (this.studentList.code == 'OK') {\r\n            this.studentList = this.studentList.data;\r\n          }\r\n          else {\r\n            this.toster.warning('No Data Found');\r\n            this.studentList = [];\r\n            // this.router.navigate(['ViewStudentResponse']);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  studentData: any = [];\r\n  updateAssignmentViews(studentData: any) {\r\n    // console.log(studentData)\r\n    this.studentData = studentData;\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.http.get(this.common.Baseurl + \"updateassignmentviews?DbName=\" + this.common.storage.get('DBName') + \"&SchoolId=\" + this.common.storage.get('SchoolId')\r\n      + \"&HomeId=\" + studentData.HomeId + \"&SessionId=\" + this.common.storage.get('SessionId') + \"&UserId=\" + this.userdata.UserID\r\n      + \"&UploadId=\" + studentData.UploadId, options).subscribe(\r\n        (data) => {\r\n          // console.log('Update Assignemnt views: ',data);\r\n          var response: any = data;\r\n          if (response.code == 'OK') {\r\n            // console.log(response.message)\r\n          }\r\n          else {\r\n            console.error(response.message);\r\n          }\r\n        },\r\n        (err) => {\r\n          if (err.status === 400) {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  // Send Remark\r\n  sendRemarks() {\r\n    if (this.remarks == '' || this.remarks == null || this.remarks == undefined) {\r\n      this.toster.warning('Please type some remarks.', 'Student Remarks');\r\n      return;\r\n    }\r\n    var allowStudentForEdit: string = 'N';\r\n    if(this.allowUpload == true){\r\n      allowStudentForEdit = 'Y';\r\n    }\r\n    let headers = new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    });\r\n    let options = {\r\n      headers: headers\r\n    }\r\n    this.spinnerText = 'Sending remarks...';\r\n    this.spinnerService.show();\r\n    var data = {\r\n      \"DbName\": this.common.storage.get('DBName'),\r\n      \"UserId\": this.userdata.UserID,\r\n      \"TeacherId\": this.userdata.TeacherID,\r\n      \"SessionId\": this.common.storage.get('SessionId'),\r\n      \"SchoolId\": this.common.storage.get('SchoolId'),\r\n      \"HomeId\": this.studentData.HomeId,\r\n      \"UploadId\": this.studentData.UploadId,\r\n      \"Remarks\": this.remarks,\r\n      \"StudentDetailId\": this.studentData.StudentDetailId,\r\n      \"AllowForEdit\": allowStudentForEdit\r\n    };\r\n    let body = JSON.stringify(data);\r\n    this.http.post(this.common.Baseurl + \"sendassignmentremarks\", body, options).subscribe(\r\n      (res) => {\r\n        var data: any = res\r\n        this.toster.success(data.message);\r\n        this.loadAssignmentDetails();\r\n        this.spinnerText = 'Loading...';\r\n        this.changeView();\r\n        this.spinnerService.hide();\r\n      },\r\n      (err) => {\r\n        this.spinnerService.hide();\r\n        console.log(err);\r\n      }\r\n    )\r\n  }\r\n  //To get file extension\r\n  getFileExtension(filename) {\r\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n  }\r\n  // Modal Data\r\n  modalAttachment: any[] = [];\r\n  studentresponsedata: any;\r\n  viewResponseModal(studentData) {\r\n    this.allowUpload = false;\r\n    this.studentresponsedata = studentData;\r\n    debugger;\r\n    this.remarks = studentData.TeacherRemarks;\r\n    this.modalAttachment = studentData.Attachment;\r\n    if (this.modalAttachment.length > 0) {\r\n      for (let i = 0; i < this.modalAttachment.length; i++) {\r\n        var ext = this.getFileExtension(this.modalAttachment[i].attachment);\r\n        if (ext == 'pdf') {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': '../../assets/images/pdf-icon.jpg',\r\n            'ext': ext\r\n          });\r\n        }\r\n        else if (ext == 'jpg' || ext == 'jpeg' || ext == 'png') {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': this.modalAttachment[i].attachment,\r\n            'ext': ext\r\n          });\r\n        }\r\n        else if (ext == 'doc' || ext == 'docx') {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': '../../assets/images/docx-icon.png',\r\n            'ext': ext\r\n          });\r\n        }\r\n        else if (ext == 'xls' || ext == 'xlsx') {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': '../../assets/images/xlsx-icon.png',\r\n            'ext': ext\r\n          });\r\n        }\r\n        else if (ext == 'ppt' || ext == 'pptx') {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': '../../assets/images/pptx-icon.png',\r\n            'ext': ext\r\n          });\r\n        }\r\n        else {\r\n          Object.assign(this.modalAttachment[i], {\r\n            'displayPath': '../../assets/images/file-icon.png',\r\n            'ext': ext\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //Attachment view\r\n  fileUrl: any;\r\n  imageView: boolean = false;\r\n  pdfView: boolean = false;\r\n  docView: boolean = false;\r\n\r\n  viewFile(fileData) {\r\n    this.fileUrl = '';\r\n    if (fileData.ext == 'jpg' || fileData.ext == 'jpeg' || fileData.ext == 'png') {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.docView = false;\r\n      this.fileUrl = fileData.attachment;\r\n    }\r\n    else if (fileData.ext == 'pdf') {\r\n      this.pdfView = true;\r\n      var path = fileData.attachment;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n\r\n      this.docView = false;\r\n\r\n    }\r\n    else if (fileData.ext == 'docx' || fileData.ext == 'doc' || fileData.ext == 'xlsx' || fileData.ext == 'xls' || fileData.ext == 'pptx' || fileData.ext == 'ppt') {\r\n      this.docView = true;\r\n      var path: any = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + fileData.attachment;\r\n      this.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(path);\r\n      this.imageView = false;\r\n      this.pdfView = false;\r\n    }\r\n    else {\r\n      this.imageView = true;\r\n      this.pdfView = false;\r\n      this.fileUrl = fileData.displayPath;\r\n    }\r\n  }\r\n  //Pagination Page Change\r\n  public page: number = 1;\r\n  paginationChange(value: number) {\r\n    this.page = this.page + value;\r\n    this.loadStudentResponse();\r\n  }\r\n}\r\n","<div *ngIf=\"viewStudentResponse\">\r\n    <div class=\"content-wrapper\">\r\n        <!-- /.content-header -->\r\n\r\n        <!-- Main content -->\r\n        <section class=\"content\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"card main-section\">\r\n                            <h3 style=\"margin-top: 10px; margin-left: 10px;\">View Student Response</h3>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-lg-2 form-group\">\r\n                                        <label for=\"\">Due Date</label>\r\n                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selectedDate\" name=\"d1\"\r\n                                            ngbDatepicker #d1=\"ngbDatepicker\" (click)=\"d1.toggle();\" />\r\n                                    </div>\r\n                                    <div class=\"col-md-2 form-group\">\r\n                                        <label for=\"\">Teacher</label>\r\n                                        <select class=\"form-control\" [(ngModel)]=\"selectedTeacher\"\r\n                                            (change)=\"loadViewClass();\">\r\n                                            <option [ngValue]=\"selectedTeacher.TeacherId == 0 ? selectedTeacher : {'TeacherId': userdata.TeacherID, 'UserId': userdata.UserID }\">Select Teacher</option>\r\n                                            <option *ngFor=\"let teacher of teacherList\" [ngValue]=\"teacher\">\r\n                                                {{ teacher.TeacherName }}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div class=\"col-md-2 form-group\">\r\n                                        <label for=\"\">Class</label>\r\n                                        <select class=\"form-control\" [(ngModel)]=\"viewClassSection\"\r\n                                            (change)=\"loadViewSubject();\">\r\n                                            <option [ngValue]=\"0\">All Classes</option>\r\n                                            <option *ngFor=\"let classes of viewClassList\" [ngValue]=\"classes\">\r\n                                                {{ classes.Class }}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div class=\"col-md-2 form-group\">\r\n                                        <label for=\"\">Subject</label>\r\n                                        <select class=\"form-control\" [(ngModel)]=\"viewSubject\">\r\n                                            <option [ngValue]=\"0\">All Subject</option>\r\n                                            <option *ngFor=\"let subject of viewSubejctList\" [ngValue]=\"subject\">\r\n                                                {{ subject.SubjectName }}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div class=\"col-md-2\">\r\n                                        <button type=\"button\" style=\"margin-top: 29px; height: 33px; line-height: 5px;\" class=\"btn btn-primary\"\r\n                                            (click)=\"loadStudentResponse();\">Show</button>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                    <div class=\"col-md-12\" *ngFor=\"let response of responseData\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"subject-div\">\r\n                                                    <a href=\"javascript:void(0)\"\r\n                                                        (click)=\"viewStudentDetails(response);\">\r\n                                                        <div class=\"fllef\">\r\n                                                            <h3 style=\"font-size: 20px;\">\r\n                                                                {{response.SubjectName}}\r\n                                                                <!-- <span><i class=\"fa fa-tag\"></i>{{response.Class}}</span> -->\r\n                                                            </h3>\r\n                                                            <h5>{{response.Class}}</h5>\r\n                                                            <h5>{{ response.Content }}</h5>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                    <div class=\"fltrigg\">\r\n                                                        <h6 style=\"margin-top: 30px;\">Total Upload:\r\n                                                            {{response.TotalUpload}}</h6>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div *ngIf=\"showData\" class=\"row\">\r\n                                    <h5 style=\"margin: 0 auto;\">No Response Found !</h5>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-1\">\r\n                                        <button type=\"button\" *ngIf=\"page > 1\" class=\"btn btn-primary\" (click)=\"paginationChange(-1)\">\r\n                                            <!-- <i class=\"fas fa-chevron-left\"></i> -->\r\n                                            Prev\r\n                                        </button>\r\n                                    </div>\r\n                                    <!-- <div class=\"col-md-1 text-center\">\r\n                                        <p style=\"font-weight: bold; font-size: 20px;;\">{{page}}</p>\r\n                                    </div> -->\r\n                                    <div class=\"col-md-1\">\r\n                                        <button type=\"button\" *ngIf=\"responseData.length > 0\" class=\"btn btn-primary\" (click)=\"paginationChange(1)\">\r\n                                            <span>Next\r\n                                                <!-- <i class=\"fas fa-chevron-right\"></i> -->\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                <ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-spin-clockwise\">\r\n                                    <p style=\"color: white\">{{spinnerText}}</p>\r\n                                </ngx-spinner>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <!-- /.content -->\r\n    </div>\r\n</div>\r\n<div *ngIf=\"view\">\r\n    <div class=\"content-wrapper\">\r\n        <!-- /.content-header -->\r\n\r\n        <!-- Main content -->\r\n        <section class=\"content\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"card main-section\">\r\n                            <h3 style=\"margin-top: 10px; margin-left: 10px;\">Student Response Details</h3>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-1\">\r\n                                        <a href=\"javascript:void(0)\" (click)=\"changeView();\" class=\"new_header_link\">\r\n                                            <i class=\"fa fa-angle-left\"></i>\r\n                                            Back\r\n                                        </a>\r\n                                    </div>\r\n                                    <div class=\"col-md-3\">\r\n                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchText\"\r\n                                            placeholder=\"Search Here\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row list-subjects\" id=\"homework-history\">\r\n                                    <div class=\"col-md-12\" *ngFor=\"let student of studentList | filter: searchText\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-body\">\r\n                                                <div class=\"subject-div\">\r\n                                                    <a href=\"javascript:void(0);\" (click)=\"updateAssignmentViews(student);viewResponseModal(student);\" data-toggle=\"modal\" data-target=\"#remarkModal\">\r\n                                                        <div class=\"fllef\">\r\n                                                            <h3 style=\"font-size: 20px;\">\r\n                                                                <a>{{student.StudenName}}</a>\r\n                                                                <!-- <span><i class=\"fa fa-tag\"></i>demo </span> -->\r\n                                                            </h3>\r\n                                                            <h6 style=\"color: black;\">Adm No: {{student.AdmissionNo}} </h6>\r\n                                                            <h6 style=\"color: black;\">Student Uploaded On: {{student.StudentUploadTime}}</h6>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                    <div class=\"fltrigg\">\r\n                                                        <!-- <button style=\"margin-top: 29px;\"\r\n                                                            class=\"btn btn-sm btn-success\" type=\"button\">View Response\r\n                                                        </button> -->\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- Modal -->\r\n                                <div class=\"modal fade\" id=\"remarkModal\" tabindex=\"-1\" role=\"dialog\"\r\n                                    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{studentresponsedata == undefined ? '' : studentresponsedata.StudenName }}</h5>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n                                                    aria-label=\"Close\">\r\n                                                    <span aria-hidden=\"true\">&times;</span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <h4>{{studentresponsedata == undefined ? '' : studentresponsedata.Content }}</h4>\r\n                                                    </div>\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <h6>Student Uploaded On {{studentresponsedata == undefined ? '' : studentresponsedata.StudentUploadTime }}</h6>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"stu-info\">\r\n                                                    <h5 *ngIf=\"modalAttachment && modalAttachment.length > 0\">Attachments</h5>\r\n                                                    <ul class=\"images-feed\">\r\n                                                        <li *ngFor=\"let file of modalAttachment\">\r\n                                                            <a href=\"javascript:void(0);\" (click)=\"viewFile(file);\" data-target=\"#viewFile\" data-toggle=\"modal\">\r\n                                                                <img [src]=\"file.displayPath\" height=\"100\" width=\"100\" alt=\"\" class=\"img-fluid\">\r\n                                                            </a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12 form-group\">\r\n                                                        <input type=\"checkbox\" [(ngModel)]=\"allowUpload\"> Allow student for edit\r\n                                                    </div>\r\n                                                    <div class=\"col-md-12 form-group\">\r\n                                                        <label for=\"\">Remarks</label>\r\n                                                        <textarea class=\"form-control\" [(ngModel)]=\"remarks\"\r\n                                                            rows=\"4\"></textarea>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" (click)=\"sendRemarks();\" data-dismiss=\"modal\"\r\n                                                    class=\"btn btn-primary\">Send\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- view attachmentModal -->\r\n                                <div class=\"modal fade\" id=\"viewFile\">\r\n                                    <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\r\n                                        <div class=\"modal-content\">\r\n\r\n                                            <!-- Modal Header -->\r\n                                            <div class=\"modal-header\" style=\"height: 40px;\">\r\n                                                <h4 class=\"modal-title\" style=\"font-size:20px;margin-top: -10px;\">\r\n                                                    Attachment</h4>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n                                                    style=\"margin-top: -25px;\">&times;</button>\r\n                                            </div>\r\n\r\n                                            <!-- Modal body -->\r\n                                            <div class=\"modal-body\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <div class=\"col-md-12\" style=\"height: 500px;\" *ngIf=\"imageView\">\r\n                                                            <img [src]=\"fileUrl\" alt=\"Attachment Image\"\r\n                                                                style=\"margin:0 auto;max-width: 100%; max-height: 100%; display: block;\">\r\n                                                        </div>\r\n                                                        <div class='col-md-12' *ngIf=\"pdfView\">\r\n                                                            <iframe [src]='fileUrl' width=\"100%\" height=\"500px\"\r\n                                                                style=\"max-width: 100%;max-height: 100%;display: block;\"></iframe>\r\n                                                            <!-- <pdf-viewer [src]=\"filePath\" [render-text]=\"true\" style=\"max-width: 100%;max-height: 100%;display: block;\"></pdf-viewer> -->\r\n                                                        </div>\r\n                                                        <div *ngIf=\"docView\" class=\"col-md-12\">\r\n                                                            <iframe [src]=\"fileUrl\" width=\"100%\" height=\"500px\"\r\n                                                                style=\"max-width: 100%; max-height: 100%; display: block;\"></iframe>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <!-- /.content -->\r\n    </div>\r\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}